/*! DataTables 1.10.2
 * ©2008-2014 SpryMedia Ltd - datatables.net/license
 */
(function(b,a,c){(function(d){if(typeof define==="function"&&define.amd){define("datatables",["jquery"],d)}else{if(typeof exports==="object"){d(require("jquery"))}else{if(jQuery&&!jQuery.fn.dataTable){d(jQuery)}}}}(function(bD){var M;var H;var I;var bi;var az;var a5={};var V=/[\r\n]/g;var aT=/<.*?>/g;var ak=/^[\w\+\-]/;var bt=/[\w\+\-]$/;var aB=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");var bE=/[',$£€¥%\u2009\u202F]/g;var bz=function(bP){return !bP||bP===true||bP==="-"?true:false};var E=function(bQ){var bP=parseInt(bQ,10);return !isNaN(bP)&&isFinite(bQ)?bP:null};var bB=function(bQ,bP){if(!a5[bP]){a5[bP]=new RegExp(m(bP),"g")}return typeof bQ==="string"?bQ.replace(/\./g,"").replace(a5[bP],"."):bQ};var ah=function(bS,bP,bR){var bQ=typeof bS==="string";if(bP&&bQ){bS=bB(bS,bP)}if(bR&&bQ){bS=bS.replace(bE,"")}return bz(bS)||(!isNaN(parseFloat(bS))&&isFinite(bS))};var bK=function(bP){return bz(bP)||typeof bP==="string"};var j=function(bS,bP,bR){if(bz(bS)){return true}var bQ=bK(bS);return !bQ?null:ah(C(bS),bP,bR)?true:null};var ar=function(bQ,bU,bT){var bR=[];var bS=0,bP=bQ.length;if(bT!==c){for(;bS<bP;bS++){if(bQ[bS]&&bQ[bS][bU]){bR.push(bQ[bS][bU][bT])}}}else{for(;bS<bP;bS++){if(bQ[bS]){bR.push(bQ[bS][bU])}}}return bR};var t=function(bR,bP,bV,bU){var bS=[];var bT=0,bQ=bP.length;if(bU!==c){for(;bT<bQ;bT++){bS.push(bR[bP[bT]][bV][bU])}}else{for(;bT<bQ;bT++){bS.push(bR[bP[bT]][bV])}}return bS};var be=function(bP,bT){var bR=[];var bQ;if(bT===c){bT=0;bQ=bP}else{bQ=bT;bT=bP}for(var bS=bT;bS<bQ;bS++){bR.push(bS)}return bR};var C=function(bP){return bP.replace(aT,"")};var aF=function(bV){var bS=[],bU,bT,bP=bV.length,bR,bQ=0;again:for(bT=0;bT<bP;bT++){bU=bV[bT];for(bR=0;bR<bQ;bR++){if(bS[bR]===bU){continue again}}bS.push(bU);bQ++}return bS};function S(bT){var bS="a aa ai ao as b fn i m o s ",bP,bR,bQ={};bD.each(bT,function(bU,bV){bP=bU.match(/^([^A-Z]+?)([A-Z])/);if(bP&&bS.indexOf(bP[1]+" ")!==-1){bR=bU.replace(bP[0],bP[2].toLowerCase());bQ[bR]=bU;if(bP[1]==="o"){S(bT[bU])}}});bT._hungarianMap=bQ}function Z(bS,bP,bR){if(!bS._hungarianMap){S(bS)}var bQ;bD.each(bP,function(bT,bU){bQ=bS._hungarianMap[bT];if(bQ!==c&&(bR||bP[bQ]===c)){if(bQ.charAt(0)==="o"){if(!bP[bQ]){bP[bQ]={}}bD.extend(true,bP[bQ],bP[bT]);Z(bS[bQ],bP[bQ],bR)}else{bP[bQ]=bP[bT]}}})}function aR(bS){var bR=M.defaults.oLanguage;var bQ=bS.sZeroRecords;if(!bS.sEmptyTable&&bQ&&bR.sEmptyTable==="No data available in table"){Q(bS,bS,"sZeroRecords","sEmptyTable")}if(!bS.sLoadingRecords&&bQ&&bR.sLoadingRecords==="Loading..."){Q(bS,bS,"sZeroRecords","sLoadingRecords")}if(bS.sInfoThousands){bS.sThousands=bS.sInfoThousands}var bP=bS.sDecimal;if(bP){bp(bP)}}var aL=function(bR,bQ,bP){if(bR[bQ]!==c){bR[bP]=bR[bQ]}};function a2(bS){aL(bS,"ordering","bSort");aL(bS,"orderMulti","bSortMulti");aL(bS,"orderClasses","bSortClasses");aL(bS,"orderCellsTop","bSortCellsTop");aL(bS,"order","aaSorting");aL(bS,"orderFixed","aaSortingFixed");aL(bS,"paging","bPaginate");aL(bS,"pagingType","sPaginationType");aL(bS,"pageLength","iDisplayLength");aL(bS,"searching","bFilter");var bR=bS.aoSearchCols;if(bR){for(var bQ=0,bP=bR.length;bQ<bP;bQ++){if(bR[bQ]){Z(M.models.oSearch,bR[bQ])}}}}function W(bP){aL(bP,"orderable","bSortable");aL(bP,"orderData","aDataSort");aL(bP,"orderSequence","asSorting");aL(bP,"orderDataType","sortDataType")}function bc(bQ){var bP=bQ.oBrowser;var bS=bD("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(bD("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(bD('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body");var bR=bS.find(".test");bP.bScrollOversize=bR[0].offsetWidth===100;bP.bScrollbarLeft=bR.offset().left!==1;bS.remove()}function aU(bT,bV,bX,bP,bR,bQ){var bS=bP,bW,bU=false;if(bX!==c){bW=bX;bU=true}while(bS!==bR){if(!bT.hasOwnProperty(bS)){continue}bW=bU?bV(bW,bT[bS],bS,bT):bT[bS];bU=true;bS+=bQ}return bW}function N(bT,bS){var bU=M.defaults.column;var bP=bT.aoColumns.length;var bR=bD.extend({},M.models.oColumn,bU,{nTh:bS?bS:a.createElement("th"),sTitle:bU.sTitle?bU.sTitle:bS?bS.innerHTML:"",aDataSort:bU.aDataSort?bU.aDataSort:[bP],mData:bU.mData?bU.mData:bP,idx:bP});bT.aoColumns.push(bR);var bQ=bT.aoPreSearchCols;bQ[bP]=bD.extend({},M.models.oSearch,bQ[bP]);a0(bT,bP,null)}function a0(bR,b0,bZ){var bV=bR.aoColumns[b0];var bP=bR.oClasses;var bQ=bD(bV.nTh);if(!bV.sWidthOrig){bV.sWidthOrig=bQ.attr("width")||null;var b1=(bQ.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);if(b1){bV.sWidthOrig=b1[1]}}if(bZ!==c&&bZ!==null){W(bZ);Z(M.defaults.column,bZ);if(bZ.mDataProp!==c&&!bZ.mData){bZ.mData=bZ.mDataProp}if(bZ.sType){bV._sManualType=bZ.sType}if(bZ.className&&!bZ.sClass){bZ.sClass=bZ.className}bD.extend(bV,bZ);Q(bV,bZ,"sWidth","sWidthOrig");if(typeof bZ.iDataSort==="number"){bV.aDataSort=[bZ.iDataSort]}Q(bV,bZ,"aDataSort")}var bY=bV.mData;var bU=am(bY);var bX=bV.mRender?am(bV.mRender):null;var bT=function(b2){return typeof b2==="string"&&b2.indexOf("@")!==-1};bV._bAttrSrc=bD.isPlainObject(bY)&&(bT(bY.sort)||bT(bY.type)||bT(bY.filter));bV.fnGetData=function(b4,b3,b5){var b2=bU(b4,b3,c,b5);return bX&&b3?bX(b2,b3,b4,b5):b2};bV.fnSetData=function(b2,b4,b3){return av(bY)(b2,b4,b3)};if(!bR.oFeatures.bSort){bV.bSortable=false;bQ.addClass(bP.sSortableNone)}var bS=bD.inArray("asc",bV.asSorting)!==-1;var bW=bD.inArray("desc",bV.asSorting)!==-1;if(!bV.bSortable||(!bS&&!bW)){bV.sSortingClass=bP.sSortableNone;bV.sSortingClassJUI=""}else{if(bS&&!bW){bV.sSortingClass=bP.sSortableAsc;bV.sSortingClassJUI=bP.sSortJUIAscAllowed}else{if(!bS&&bW){bV.sSortingClass=bP.sSortableDesc;bV.sSortingClassJUI=bP.sSortJUIDescAllowed}else{bV.sSortingClass=bP.sSortable;bV.sSortingClassJUI=bP.sSortJUI}}}}function aI(bT){if(bT.oFeatures.bAutoWidth!==false){var bS=bT.aoColumns;bu(bT);for(var bR=0,bQ=bS.length;bR<bQ;bR++){bS[bR].nTh.style.width=bS[bR].sWidth}}var bP=bT.oScroll;if(bP.sY!==""||bP.sX!==""){l(bT)}K(bT,null,"column-sizing",[bT])}function r(bR,bP){var bQ=p(bR,"bVisible");return typeof bQ[bP]==="number"?bQ[bP]:null}function bH(bR,bP){var bQ=p(bR,"bVisible");var bS=bD.inArray(bP,bQ);return bS!==-1?bS:null}function aP(bP){return p(bP,"bVisible").length}function p(bR,bQ){var bP=[];bD.map(bR.aoColumns,function(bT,bS){if(bT[bQ]){bP.push(bS)}});return bP}function v(bS){var bT=bS.aoColumns;var bX=bS.aoData;var bZ=M.ext.type.detect;var bY,b2,bW,bQ,bV,bU;var bR,b0,b1,bP;for(bY=0,b2=bT.length;bY<b2;bY++){bR=bT[bY];bP=[];if(!bR.sType&&bR._sManualType){bR.sType=bR._sManualType}else{if(!bR.sType){for(bW=0,bQ=bZ.length;bW<bQ;bW++){for(bV=0,bU=bX.length;bV<bU;bV++){if(bP[bV]===c){bP[bV]=bs(bS,bV,bY,"type")}b1=bZ[bW](bP[bV],bS);if(!b1||b1==="html"){break}}if(b1){bR.sType=b1;break}}if(!bR.sType){bR.sType="string"}}}}}function k(bQ,b0,bR,bZ){var bW,bS,bV,b1,bU,bY,bP;var bT=bQ.aoColumns;if(b0){for(bW=b0.length-1;bW>=0;bW--){bP=b0[bW];var bX=bP.targets!==c?bP.targets:bP.aTargets;if(!bD.isArray(bX)){bX=[bX]}for(bV=0,b1=bX.length;bV<b1;bV++){if(typeof bX[bV]==="number"&&bX[bV]>=0){while(bT.length<=bX[bV]){N(bQ)}bZ(bX[bV],bP)}else{if(typeof bX[bV]==="number"&&bX[bV]<0){bZ(bT.length+bX[bV],bP)}else{if(typeof bX[bV]==="string"){for(bU=0,bY=bT.length;bU<bY;bU++){if(bX[bV]=="_all"||bD(bT[bU].nTh).hasClass(bX[bV])){bZ(bU,bP)}}}}}}}}if(bR){for(bW=0,bS=bR.length;bW<bS;bW++){bZ(bW,bR[bW])}}}function aN(bQ,bZ,bY,bV){var bX=bQ.aoData.length;var bP=bD.extend(true,{},M.models.oRow,{src:bY?"dom":"data"});bP._aData=bZ;bQ.aoData.push(bP);var bU,bS;var bT=bQ.aoColumns;for(var bW=0,bR=bT.length;bW<bR;bW++){if(bY){bk(bQ,bX,bW,bs(bQ,bX,bW))}bT[bW].sType=null}bQ.aiDisplayMaster.push(bX);if(bY||!bQ.oFeatures.bDeferRender){O(bQ,bX,bY,bV)}return bX}function bO(bQ,bP){var bR;if(!(bP instanceof bD)){bP=bD(bP)}return bP.map(function(bS,bT){bR=bd(bQ,bT);return aN(bQ,bR.data,bT,bR.cells)})}function bq(bP,bQ){return(bQ._DT_RowIndex!==c)?bQ._DT_RowIndex:null}function aY(bP,bQ,bR){return bD.inArray(bR,bP.aoData[bQ].anCells)}function bs(bS,bP,bT,bV){var bW=bS.iDraw;var bQ=bS.aoColumns[bT];var bR=bS.aoData[bP]._aData;var bX=bQ.sDefaultContent;var bU=bQ.fnGetData(bR,bV,{settings:bS,row:bP,col:bT});if(bU===c){if(bS.iDrawError!=bW&&bX===null){aM(bS,0,"Requested unknown parameter "+(typeof bQ.mData=="function"?"{function}":"'"+bQ.mData+"'")+" for row "+bP,4);bS.iDrawError=bW}return bX}if((bU===bR||bU===null)&&bX!==null){bU=bX}else{if(typeof bU==="function"){return bU.call(bR)}}if(bU===null&&bV=="display"){return""}return bU}function bk(bQ,bR,bU,bT){var bP=bQ.aoColumns[bU];var bS=bQ.aoData[bR]._aData;bP.fnSetData(bS,bT,{settings:bQ,row:bR,col:bU})}var J=/\[.*?\]$/;var f=/\(\)$/;function ai(bP){return bD.map(bP.match(/(\\.|[^\.])+/g),function(bQ){return bQ.replace(/\\./g,".")})}function am(bQ){if(bD.isPlainObject(bQ)){var bR={};bD.each(bQ,function(bS,bT){if(bT){bR[bS]=am(bT)}});return function(bU,bT,bW,bV){var bS=bR[bT]||bR._;return bS!==c?bS(bU,bT,bW,bV):bU}}else{if(bQ===null){return function(bS){return bS}}else{if(typeof bQ==="function"){return function(bT,bS,bV,bU){return bQ(bT,bS,bV,bU)}}else{if(typeof bQ==="string"&&(bQ.indexOf(".")!==-1||bQ.indexOf("[")!==-1||bQ.indexOf("(")!==-1)){var bP=function(b0,b1,bS){var b3,bW,bY,bV;if(bS!==""){var b2=ai(bS);for(var bZ=0,bU=b2.length;bZ<bU;bZ++){b3=b2[bZ].match(J);bW=b2[bZ].match(f);if(b3){b2[bZ]=b2[bZ].replace(J,"");if(b2[bZ]!==""){b0=b0[b2[bZ]]}bY=[];b2.splice(0,bZ+1);bV=b2.join(".");for(var bX=0,b4=b0.length;bX<b4;bX++){bY.push(bP(b0[bX],b1,bV))}var bT=b3[0].substring(1,b3[0].length-1);b0=(bT==="")?bY:bY.join(bT);break}else{if(bW){b2[bZ]=b2[bZ].replace(f,"");b0=b0[b2[bZ]]();continue}}if(b0===null||b0[b2[bZ]]===c){return c}b0=b0[b2[bZ]]}}return b0};return function(bT,bS){return bP(bT,bS,bQ)}}else{return function(bT,bS){return bT[bQ]}}}}}}function av(bQ){if(bD.isPlainObject(bQ)){return av(bQ._)}else{if(bQ===null){return function(){}}else{if(typeof bQ==="function"){return function(bR,bT,bS){bQ(bR,"set",bT,bS)}}else{if(typeof bQ==="string"&&(bQ.indexOf(".")!==-1||bQ.indexOf("[")!==-1||bQ.indexOf("(")!==-1)){var bP=function(bZ,bV,bR){var b2=ai(bR),b0;var b1=b2[b2.length-1];var b3,bW,bS,bU;for(var bY=0,bT=b2.length-1;bY<bT;bY++){b3=b2[bY].match(J);bW=b2[bY].match(f);if(b3){b2[bY]=b2[bY].replace(J,"");bZ[b2[bY]]=[];b0=b2.slice();b0.splice(0,bY+1);bU=b0.join(".");for(var bX=0,b4=bV.length;bX<b4;bX++){bS={};bP(bS,bV[bX],bU);bZ[b2[bY]].push(bS)}return}else{if(bW){b2[bY]=b2[bY].replace(f,"");bZ=bZ[b2[bY]](bV)}}if(bZ[b2[bY]]===null||bZ[b2[bY]]===c){bZ[b2[bY]]={}}bZ=bZ[b2[bY]]}if(b1.match(f)){bZ=bZ[b1.replace(f,"")](bV)}else{bZ[b1.replace(J,"")]=bV}};return function(bR,bS){return bP(bR,bS,bQ)}}else{return function(bR,bS){bR[bQ]=bS}}}}}}function bF(bP){return ar(bP.aoData,"_aData")}function bg(bP){bP.aoData.length=0;bP.aiDisplayMaster.length=0;bP.aiDisplay.length=0}function a3(bQ,bS,bU){var bT=-1;for(var bR=0,bP=bQ.length;bR<bP;bR++){if(bQ[bR]==bS){bT=bR}else{if(bQ[bR]>bS){bQ[bR]--}}}if(bT!=-1&&bU===c){bQ.splice(bT,1)}}function aG(bR,bQ,bP,bS){var bY=bR.aoData[bQ];var bT,bW;if(bP==="dom"||((!bP||bP==="auto")&&bY.src==="dom")){bY._aData=bd(bR,bY).data}else{var bX=bY.anCells;var bV;if(bX){for(bT=0,bW=bX.length;bT<bW;bT++){bV=bX[bT];while(bV.childNodes.length){bV.removeChild(bV.firstChild)}bX[bT].innerHTML=bs(bR,bQ,bT,"display")}}}bY._aSortData=null;bY._aFilterData=null;var bU=bR.aoColumns;if(bS!==c){bU[bS].sType=null}else{for(bT=0,bW=bU.length;bT<bW;bT++){bU[bT].sType=null}}ab(bY)}function bd(bW,b3){var b1=[],bZ=[],bV=b3.firstChild,bP,bS,bR,bY=0,bT,bU=bW.aoColumns;var b0=function(b7,b5,b8){if(typeof b7==="string"){var b4=b7.indexOf("@");if(b4!==-1){var b6=b7.substring(b4+1);bR["@"+b6]=b8.getAttribute(b6)}}};var b2=function(b4){bS=bU[bY];bT=bD.trim(b4.innerHTML);if(bS&&bS._bAttrSrc){bR={display:bT};b0(bS.mData.sort,bR,b4);b0(bS.mData.type,bR,b4);b0(bS.mData.filter,bR,b4);b1.push(bR)}else{b1.push(bT)}bY++};if(bV){while(bV){bP=bV.nodeName.toUpperCase();if(bP=="TD"||bP=="TH"){b2(bV);bZ.push(bV)}bV=bV.nextSibling}}else{bZ=b3.anCells;for(var bX=0,bQ=bZ.length;bX<bQ;bX++){b2(bZ[bX])}}return{data:b1,cells:bZ}}function O(bQ,bX,bP,bV){var b0=bQ.aoData[bX],bT=b0._aData,bZ=[],bY,bU,bS,bW,bR;if(b0.nTr===null){bY=bP||a.createElement("tr");b0.nTr=bY;b0.anCells=bZ;bY._DT_RowIndex=bX;ab(b0);for(bW=0,bR=bQ.aoColumns.length;bW<bR;bW++){bS=bQ.aoColumns[bW];bU=bP?bV[bW]:a.createElement(bS.sCellType);bZ.push(bU);if(!bP||bS.mRender||bS.mData!==bW){bU.innerHTML=bs(bQ,bX,bW,"display")}if(bS.sClass){bU.className+=" "+bS.sClass}if(bS.bVisible&&!bP){bY.appendChild(bU)}else{if(!bS.bVisible&&bP){bU.parentNode.removeChild(bU)}}if(bS.fnCreatedCell){bS.fnCreatedCell.call(bQ.oInstance,bU,bs(bQ,bX,bW),bT,bX,bW)}}K(bQ,"aoRowCreatedCallback",null,[bY,bT,bX])}b0.nTr.setAttribute("role","row")}function ab(bS){var bR=bS.nTr;var bQ=bS._aData;if(bR){if(bQ.DT_RowId){bR.id=bQ.DT_RowId}if(bQ.DT_RowClass){var bP=bQ.DT_RowClass.split(" ");bS.__rowc=bS.__rowc?aF(bS.__rowc.concat(bP)):bP;bD(bR).removeClass(bS.__rowc.join(" ")).addClass(bQ.DT_RowClass)}if(bQ.DT_RowData){bD(bR).data(bQ.DT_RowData)}}}function aK(bP){var bT,bY,bX,b0,bS;var bU=bP.nTHead;var bV=bP.nTFoot;var bW=bD("th, td",bU).length===0;var bR=bP.oClasses;var bQ=bP.aoColumns;if(bW){b0=bD("<tr/>").appendTo(bU)}for(bT=0,bY=bQ.length;bT<bY;bT++){bS=bQ[bT];bX=bD(bS.nTh).addClass(bS.sClass);if(bW){bX.appendTo(b0)}if(bP.oFeatures.bSort){bX.addClass(bS.sSortingClass);if(bS.bSortable!==false){bX.attr("tabindex",bP.iTabIndex).attr("aria-controls",bP.sTableId);B(bP,bS.nTh,bT)}}if(bS.sTitle!=bX.html()){bX.html(bS.sTitle)}R(bP,"header")(bP,bX,bS,bR)}if(bW){au(bP.aoHeader,bU)}bD(bU).find(">tr").attr("role","row");bD(bU).find(">tr>th, >tr>td").addClass(bR.sHeaderTH);bD(bV).find(">tr>th, >tr>td").addClass(bR.sFooterTH);if(bV!==null){var bZ=bP.aoFooter[0];for(bT=0,bY=bZ.length;bT<bY;bT++){bS=bQ[bT];bS.nTf=bZ[bT].cell;if(bS.sClass){bD(bS.nTf).addClass(bS.sClass)}}}}function a4(bS,b1,b4){var bX,bU,bW,b0,bV,bY,bT,b3;var bR=[];var bZ=[];var bP=bS.aoColumns.length;var bQ,b2;if(!b1){return}if(b4===c){b4=false}for(bX=0,bU=b1.length;bX<bU;bX++){bR[bX]=b1[bX].slice();bR[bX].nTr=b1[bX].nTr;for(bW=bP-1;bW>=0;bW--){if(!bS.aoColumns[bW].bVisible&&!b4){bR[bX].splice(bW,1)}}bZ.push([])}for(bX=0,bU=bR.length;bX<bU;bX++){b3=bR[bX].nTr;if(b3){while((bT=b3.firstChild)){b3.removeChild(bT)}}for(bW=0,b0=bR[bX].length;bW<b0;bW++){bQ=1;b2=1;if(bZ[bX][bW]===c){b3.appendChild(bR[bX][bW].cell);bZ[bX][bW]=1;while(bR[bX+bQ]!==c&&bR[bX][bW].cell==bR[bX+bQ][bW].cell){bZ[bX+bQ][bW]=1;bQ++}while(bR[bX][bW+b2]!==c&&bR[bX][bW].cell==bR[bX][bW+b2].cell){for(bV=0;bV<bQ;bV++){bZ[bX+bV][bW+b2]=1}b2++}bD(bR[bX][bW].cell).attr("rowspan",bQ).attr("colspan",b2)}}}}function a1(bR){var cb=K(bR,"aoPreDrawCallback","preDraw",[bR]);if(bD.inArray(false,cb)!==-1){w(bR,false);return}var ca,b6,b2;var bV=[];var cd=0;var bZ=bR.asStripeClasses;var b4=bZ.length;var b0=bR.aoOpenRows.length;var b5=bR.oLanguage;var b1=bR.iInitDisplayStart;var b9=y(bR)=="ssp";var bU=bR.aiDisplay;bR.bDrawing=true;if(b1!==c&&b1!==-1){bR._iDisplayStart=b9?b1:b1>=bR.fnRecordsDisplay()?0:b1;bR.iInitDisplayStart=-1}var bQ=bR._iDisplayStart;var bS=bR.fnDisplayEnd();if(bR.bDeferLoading){bR.bDeferLoading=false;bR.iDraw++;w(bR,false)}else{if(!b9){bR.iDraw++}else{if(!bR.bDestroying&&!ad(bR)){return}}}if(bU.length!==0){var bT=b9?0:bQ;var bP=b9?bR.aoData.length:bS;for(var b7=bT;b7<bP;b7++){var bX=bU[b7];var bY=bR.aoData[bX];if(bY.nTr===null){O(bR,bX)}var cc=bY.nTr;if(b4!==0){var b8=bZ[cd%b4];if(bY._sRowStripe!=b8){bD(cc).removeClass(bY._sRowStripe).addClass(b8);bY._sRowStripe=b8}}K(bR,"aoRowCallback",null,[cc,bY._aData,cd,b7]);bV.push(cc);cd++}}else{var b3=b5.sZeroRecords;if(bR.iDraw==1&&y(bR)=="ajax"){b3=b5.sLoadingRecords}else{if(b5.sEmptyTable&&bR.fnRecordsTotal()===0){b3=b5.sEmptyTable}}bV[0]=bD("<tr/>",{"class":b4?bZ[0]:""}).append(bD("<td />",{valign:"top",colSpan:aP(bR),"class":bR.oClasses.sRowEmpty}).html(b3))[0]}K(bR,"aoHeaderCallback","header",[bD(bR.nTHead).children("tr")[0],bF(bR),bQ,bS,bU]);K(bR,"aoFooterCallback","footer",[bD(bR.nTFoot).children("tr")[0],bF(bR),bQ,bS,bU]);var bW=bD(bR.nTBody);bW.children().detach();bW.append(bD(bV));K(bR,"aoDrawCallback","draw",[bR]);bR.bSorted=false;bR.bFiltered=false;bR.bDrawing=false}function ag(bT,bQ){var bS=bT.oFeatures,bP=bS.bSort,bR=bS.bFilter;if(bP){x(bT)}if(bR){u(bT,bT.oPreviousSearch)}else{bT.aiDisplay=bT.aiDisplayMaster.slice()}if(bQ!==true){bT._iDisplayStart=0}bT._drawHold=bQ;a1(bT);bT._drawHold=false}function i(bT){var b6=bT.oClasses;var b3=bD(bT.nTable);var bV=bD("<div/>").insertBefore(b3);var bU=bT.oFeatures;var bQ=bD("<div/>",{id:bT.sTableId+"_wrapper","class":b6.sWrapper+(bT.nTFoot?"":" "+b6.sNoFooter)});bT.nHolding=bV[0];bT.nTableWrapper=bQ[0];bT.nTableReinsertBefore=bT.nTable.nextSibling;var bW=bT.sDom.split("");var b1,bX,bS,b7,b5,bZ;for(var b2=0;b2<bW.length;b2++){b1=null;bX=bW[b2];if(bX=="<"){bS=bD("<div/>")[0];b7=bW[b2+1];if(b7=="'"||b7=='"'){b5="";bZ=2;while(bW[b2+bZ]!=b7){b5+=bW[b2+bZ];bZ++}if(b5=="H"){b5=b6.sJUIHeader}else{if(b5=="F"){b5=b6.sJUIFooter}}if(b5.indexOf(".")!=-1){var b0=b5.split(".");bS.id=b0[0].substr(1,b0[0].length-1);bS.className=b0[1]}else{if(b5.charAt(0)=="#"){bS.id=b5.substr(1,b5.length-1)}else{bS.className=b5}}b2+=bZ}bQ.append(bS);bQ=bD(bS)}else{if(bX==">"){bQ=bQ.parent()}else{if(bX=="l"&&bU.bPaginate&&bU.bLengthChange){b1=aQ(bT)}else{if(bX=="f"&&bU.bFilter){b1=q(bT)}else{if(bX=="r"&&bU.bProcessing){b1=by(bT)}else{if(bX=="t"){b1=bx(bT)}else{if(bX=="i"&&bU.bInfo){b1=g(bT)}else{if(bX=="p"&&bU.bPaginate){b1=ay(bT)}else{if(M.ext.feature.length!==0){var b4=M.ext.feature;for(var bY=0,bP=b4.length;bY<bP;bY++){if(bX==b4[bY].cFeature){b1=b4[bY].fnInit(bT);break}}}}}}}}}}}if(b1){var bR=bT.aanFeatures;if(!bR[bX]){bR[bX]=[]}bR[bX].push(b1);bQ.append(b1)}}bV.replaceWith(bQ)}function au(bV,bQ){var b2=bD(bQ).children("tr");var b1,bZ;var bX,bU,bT,bR,b3,bY,bW,b4,bP;var b0;var bS=function(b5,b8,b7){var b6=b5[b8];while(b6[b7]){b7++}return b7};bV.splice(0,bV.length);for(bX=0,bR=b2.length;bX<bR;bX++){bV.push([])}for(bX=0,bR=b2.length;bX<bR;bX++){b1=b2[bX];bW=0;bZ=b1.firstChild;while(bZ){if(bZ.nodeName.toUpperCase()=="TD"||bZ.nodeName.toUpperCase()=="TH"){b4=bZ.getAttribute("colspan")*1;bP=bZ.getAttribute("rowspan")*1;b4=(!b4||b4===0||b4===1)?1:b4;bP=(!bP||bP===0||bP===1)?1:bP;bY=bS(bV,bX,bW);b0=b4===1?true:false;for(bT=0;bT<b4;bT++){for(bU=0;bU<bP;bU++){bV[bX+bU][bY+bT]={cell:bZ,unique:b0};bV[bX+bU].nTr=b1}}}bZ=bZ.nextSibling}}}function bf(bW,bQ,bU){var bR=[];if(!bU){bU=bW.aoHeader;if(bQ){bU=[];au(bU,bQ)}}for(var bT=0,bP=bU.length;bT<bP;bT++){for(var bS=0,bV=bU[bT].length;bS<bV;bS++){if(bU[bT][bS].unique&&(!bR[bS]||!bW.bSortCellsTop)){bR[bS]=bU[bT][bS].cell}}}return bR}function at(bQ,bR,bV){K(bQ,"aoServerParams","serverParams",[bR]);if(bR&&bD.isArray(bR)){var bS={};var bT=/(.*?)\[\]$/;bD.each(bR,function(b1,b2){var b0=b2.name.match(bT);if(b0){var bZ=b0[0];if(!bS[bZ]){bS[bZ]=[]}bS[bZ].push(b2.value)}else{bS[b2.name]=b2.value}});bR=bS}var bP;var bW=bQ.ajax;var bX=bQ.oInstance;if(bD.isPlainObject(bW)&&bW.data){bP=bW.data;var bY=bD.isFunction(bP)?bP(bR):bP;bR=bD.isFunction(bP)&&bY?bY:bD.extend(true,bR,bY);delete bW.data}var bU={data:bR,success:function(b0){var bZ=b0.error||b0.sError;if(bZ){bQ.oApi._fnLog(bQ,0,bZ)}bQ.json=b0;K(bQ,null,"xhr",[bQ,b0]);bV(b0)},dataType:"json",cache:false,type:bQ.sServerMethod,error:function(b2,bZ,b1){var b0=bQ.oApi._fnLog;if(bZ=="parsererror"){b0(bQ,0,"Invalid JSON response",1)}else{if(b2.readyState===4){b0(bQ,0,"Ajax error",7)}}w(bQ,false)}};bQ.oAjaxData=bR;K(bQ,null,"preXhr",[bQ,bR]);if(bQ.fnServerData){bQ.fnServerData.call(bX,bQ.sAjaxSource,bD.map(bR,function(b0,bZ){return{name:bZ,value:b0}}),bV,bQ)}else{if(bQ.sAjaxSource||typeof bW==="string"){bQ.jqXHR=bD.ajax(bD.extend(bU,{url:bW||bQ.sAjaxSource}))}else{if(bD.isFunction(bW)){bQ.jqXHR=bW.call(bX,bR,bV,bQ)}else{bQ.jqXHR=bD.ajax(bD.extend(bU,bW));bW.data=bP}}}}function ad(bP){if(bP.bAjaxDataGet){bP.iDraw++;w(bP,true);at(bP,bJ(bP),function(bQ){U(bP,bQ)});return false}return true}function bJ(bU){var bV=bU.aoColumns,b1=bV.length,bR=bU.oFeatures,bP=bU.oPreviousSearch,b0=bU.aoPreSearchCols,bY,bX=[],bQ,bT,b3,bW=aH(bU),b5=bU._iDisplayStart,bZ=bR.bPaginate!==false?bU._iDisplayLength:-1;var bS=function(b6,b7){bX.push({name:b6,value:b7})};bS("sEcho",bU.iDraw);bS("iColumns",b1);bS("sColumns",ar(bV,"sName").join(","));bS("iDisplayStart",b5);bS("iDisplayLength",bZ);var b2={draw:bU.iDraw,columns:[],order:[],start:b5,length:bZ,search:{value:bP.sSearch,regex:bP.bRegex}};for(bY=0;bY<b1;bY++){bT=bV[bY];b3=b0[bY];bQ=typeof bT.mData=="function"?"function":bT.mData;b2.columns.push({data:bQ,name:bT.sName,searchable:bT.bSearchable,orderable:bT.bSortable,search:{value:b3.sSearch,regex:b3.bRegex}});bS("mDataProp_"+bY,bQ);if(bR.bFilter){bS("sSearch_"+bY,b3.sSearch);bS("bRegex_"+bY,b3.bRegex);bS("bSearchable_"+bY,bT.bSearchable)}if(bR.bSort){bS("bSortable_"+bY,bT.bSortable)}}if(bR.bFilter){bS("sSearch",bP.sSearch);bS("bRegex",bP.bRegex)}if(bR.bSort){bD.each(bW,function(b6,b7){b2.order.push({column:b7.col,dir:b7.dir});bS("iSortCol_"+b6,b7.col);bS("sSortDir_"+b6,b7.dir)});bS("iSortingCols",bW.length)}var b4=M.ext.legacy.ajax;if(b4===null){return bU.sAjaxSource?bX:b2}return b4?bX:b2}function U(bQ,bX){var bV=function(bY,bZ){return bX[bY]!==c?bX[bY]:bX[bZ]};var bT=bV("sEcho","draw");var bU=bV("iTotalRecords","recordsTotal");var bP=bV("iTotalDisplayRecords","recordsFiltered");if(bT){if(bT*1<bQ.iDraw){return}bQ.iDraw=bT*1}bg(bQ);bQ._iRecordsTotal=parseInt(bU,10);bQ._iRecordsDisplay=parseInt(bP,10);var bR=br(bQ,bX);for(var bS=0,bW=bR.length;bS<bW;bS++){aN(bQ,bR[bS])}bQ.aiDisplay=bQ.aiDisplayMaster.slice();bQ.bAjaxDataGet=false;a1(bQ);if(!bQ._bInitComplete){aA(bQ,bX)}bQ.bAjaxDataGet=true;w(bQ,false)}function br(bR,bQ){var bP=bD.isPlainObject(bR.ajax)&&bR.ajax.dataSrc!==c?bR.ajax.dataSrc:bR.sAjaxDataProp;if(bP==="data"){return bQ.aaData||bQ[bP]}return bP!==""?am(bP)(bQ):bQ}function q(bS){var bT=bS.oClasses;var bR=bS.sTableId;var bV=bS.oLanguage;var bU=bS.oPreviousSearch;var bQ=bS.aanFeatures;var bZ='<input type="search" class="'+bT.sFilterInput+'"/>';var bY=bV.sSearch;bY=bY.match(/_INPUT_/)?bY.replace("_INPUT_",bZ):bY+bZ;var bP=bD("<div/>",{id:!bQ.f?bR+"_filter":null,"class":bT.sFilter}).append(bD("<label/>").append(bY));var bX=function(){var b1=bQ.f;var b0=!this.value?"":this.value;if(b0!=bU.sSearch){u(bS,{sSearch:b0,bRegex:bU.bRegex,bSmart:bU.bSmart,bCaseInsensitive:bU.bCaseInsensitive});bS._iDisplayStart=0;a1(bS)}};var bW=bD("input",bP).val(bU.sSearch).attr("placeholder",bV.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",y(bS)==="ssp"?aj(bX,400):bX).bind("keypress.DT",function(b0){if(b0.keyCode==13){return false}}).attr("aria-controls",bR);bD(bS.nTable).on("search.dt.DT",function(b1,b0){if(bS===b0){try{if(bW[0]!==a.activeElement){bW.val(bU.sSearch)}}catch(b2){}}});return bP[0]}function u(bS,bW,bV){var bR=bS.oPreviousSearch;var bU=bS.aoPreSearchCols;var bT=function(bX){bR.sSearch=bX.sSearch;bR.bRegex=bX.bRegex;bR.bSmart=bX.bSmart;bR.bCaseInsensitive=bX.bCaseInsensitive};var bQ=function(bX){return bX.bEscapeRegex!==c?!bX.bEscapeRegex:bX.bRegex};v(bS);if(y(bS)!="ssp"){aw(bS,bW.sSearch,bV,bQ(bW),bW.bSmart,bW.bCaseInsensitive);bT(bW);for(var bP=0;bP<bU.length;bP++){X(bS,bU[bP].sSearch,bP,bQ(bU[bP]),bU[bP].bSmart,bU[bP].bCaseInsensitive)}ap(bS)}else{bT(bW)}bS.bFiltered=true;K(bS,null,"search",[bS])}function ap(bS){var bR=M.ext.search;var bV=bS.aiDisplay;var bX,bQ;for(var bU=0,bW=bR.length;bU<bW;bU++){var bY=[];for(var bT=0,bP=bV.length;bT<bP;bT++){bQ=bV[bT];bX=bS.aoData[bQ];if(bR[bU](bS,bX._aFilterData,bQ,bX._aData,bT)){bY.push(bQ)}}bV.length=0;bV.push.apply(bV,bY)}}function X(bQ,bP,bU,bX,bY,bS){if(bP===""){return}var bV;var bW=bQ.aiDisplay;var bR=aV(bP,bX,bY,bS);for(var bT=bW.length-1;bT>=0;bT--){bV=bQ.aoData[bW[bT]]._aFilterData[bU];if(!bR.test(bV)){bW.splice(bT,1)}}}function aw(bQ,bY,bP,bX,b0,bT){var bS=aV(bY,bX,b0,bT);var bR=bQ.oPreviousSearch.sSearch;var bV=bQ.aiDisplayMaster;var bW,bZ,bU;if(M.ext.search.length!==0){bP=true}bZ=aC(bQ);if(bY.length<=0){bQ.aiDisplay=bV.slice()}else{if(bZ||bP||bR.length>bY.length||bY.indexOf(bR)!==0||bQ.bSorted){bQ.aiDisplay=bV.slice()}bW=bQ.aiDisplay;for(bU=bW.length-1;bU>=0;bU--){if(!bS.test(bQ.aoData[bW[bU]]._sFilterRow)){bW.splice(bU,1)}}}}function aV(bR,bS,bT,bP){bR=bS?bR:m(bR);if(bT){var bQ=bD.map(bR.match(/"[^"]+"|[^ ]+/g)||"",function(bU){return bU.charAt(0)==='"'?bU.match(/^"(.*)"$/)[1]:bU});bR="^(?=.*?"+bQ.join(")(?=.*?")+").*$"}return new RegExp(bR,bP?"i":"")}function m(bP){return bP.replace(aB,"\\$1")}var e=bD("<div>")[0];var ao=e.textContent!==c;function aC(bQ){var bS=bQ.aoColumns;var bR;var bU,bT,bY,bP,bX,bV,b0;var bZ=M.ext.type.search;var bW=false;for(bU=0,bY=bQ.aoData.length;bU<bY;bU++){b0=bQ.aoData[bU];if(!b0._aFilterData){bX=[];for(bT=0,bP=bS.length;bT<bP;bT++){bR=bS[bT];if(bR.bSearchable){bV=bs(bQ,bU,bT,"filter");if(bZ[bR.sType]){bV=bZ[bR.sType](bV)}if(bV===null){bV=""}if(typeof bV!=="string"&&bV.toString){bV=bV.toString()}}else{bV=""}if(bV.indexOf&&bV.indexOf("&")!==-1){e.innerHTML=bV;bV=ao?e.textContent:e.innerText}if(bV.replace){bV=bV.replace(/[\r\n]/g,"")}bX.push(bV)}b0._aFilterData=bX;b0._sFilterRow=bX.join("  ");bW=true}}return bW}function bw(bP){return{search:bP.sSearch,smart:bP.bSmart,regex:bP.bRegex,caseInsensitive:bP.bCaseInsensitive}}function aD(bP){return{sSearch:bP.search,bSmart:bP.smart,bRegex:bP.regex,bCaseInsensitive:bP.caseInsensitive}}function g(bQ){var bR=bQ.sTableId,bP=bQ.aanFeatures.i,bS=bD("<div/>",{"class":bQ.oClasses.sInfo,id:!bP?bR+"_info":null});if(!bP){bQ.aoDrawCallback.push({fn:aq,sName:"information"});bS.attr("role","status").attr("aria-live","polite");bD(bQ.nTable).attr("aria-describedby",bR+"_info")}return bS[0]}function aq(bS){var bP=bS.aanFeatures.i;if(bP.length===0){return}var bR=bS.oLanguage,bQ=bS._iDisplayStart+1,bT=bS.fnDisplayEnd(),bW=bS.fnRecordsTotal(),bV=bS.fnRecordsDisplay(),bU=bV?bR.sInfo:bR.sInfoEmpty;if(bV!==bW){bU+=" "+bR.sInfoFiltered}bU+=bR.sInfoPostFix;bU=bn(bS,bU);var bX=bR.fnInfoCallback;if(bX!==null){bU=bX.call(bS.oInstance,bS,bQ,bT,bW,bV,bU)}bD(bP).html(bU)}function bn(bS,bU){var bQ=bS.fnFormatNumber,bV=bS._iDisplayStart+1,bP=bS._iDisplayLength,bT=bS.fnRecordsDisplay(),bR=bP===-1;return bU.replace(/_START_/g,bQ.call(bS,bV)).replace(/_END_/g,bQ.call(bS,bS.fnDisplayEnd())).replace(/_MAX_/g,bQ.call(bS,bS.fnRecordsTotal())).replace(/_TOTAL_/g,bQ.call(bS,bT)).replace(/_PAGE_/g,bQ.call(bS,bR?1:Math.ceil(bV/bP))).replace(/_PAGES_/g,bQ.call(bS,bR?1:Math.ceil(bT/bP)))}function h(bV){var bS,bP,bW=bV.iInitDisplayStart;var bR=bV.aoColumns,bU;var bT=bV.oFeatures;if(!bV.bInitialised){setTimeout(function(){h(bV)},200);return}i(bV);aK(bV);a4(bV,bV.aoHeader);a4(bV,bV.aoFooter);w(bV,true);if(bT.bAutoWidth){bu(bV)}for(bS=0,bP=bR.length;bS<bP;bS++){bU=bR[bS];if(bU.sWidth){bU.nTh.style.width=bI(bU.sWidth)}}ag(bV);var bQ=y(bV);if(bQ!="ssp"){if(bQ=="ajax"){at(bV,[],function(bY){var bX=br(bV,bY);for(bS=0;bS<bX.length;bS++){aN(bV,bX[bS])}bV.iInitDisplayStart=bW;ag(bV);w(bV,false);aA(bV,bY)},bV)}else{w(bV,false);aA(bV)}}}function aA(bQ,bP){bQ._bInitComplete=true;if(bP){aI(bQ)}K(bQ,"aoInitComplete","init",[bQ,bP])}function aS(bQ,bR){var bP=parseInt(bR,10);bQ._iDisplayLength=bP;bj(bQ);K(bQ,null,"length",[bQ,bP])}function aQ(bU){var bV=bU.oClasses,bS=bU.sTableId,bR=bU.aLengthMenu,bP=bD.isArray(bR[0]),bT=bP?bR[0]:bR,bX=bP?bR[1]:bR;var bY=bD("<select/>",{name:bS+"_length","aria-controls":bS,"class":bV.sLengthSelect});for(var bW=0,bZ=bT.length;bW<bZ;bW++){bY[0][bW]=new Option(bX[bW],bT[bW])}var bQ=bD("<div><label/></div>").addClass(bV.sLength);if(!bU.aanFeatures.l){bQ[0].id=bS+"_length"}bQ.children().append(bU.oLanguage.sLengthMenu.replace("_MENU_",bY[0].outerHTML));bD("select",bQ).val(bU._iDisplayLength).bind("change.DT",function(b0){aS(bU,bD(this).val());a1(bU)});bD(bU.nTable).bind("length.dt.DT",function(b2,b1,b0){if(bU===b1){bD("select",bQ).val(b0)}});return bQ[0]}function ay(bS){var bR=bS.sPaginationType,bU=M.ext.pager[bR],bQ=typeof bU==="function",bV=function(bW){a1(bW)},bT=bD("<div/>").addClass(bS.oClasses.sPaging+bR)[0],bP=bS.aanFeatures;if(!bQ){bU.fnInit(bS,bT,bV)}if(!bP.p){bT.id=bS.sTableId+"_paginate";bS.aoDrawCallback.push({fn:function(bZ){if(bQ){var bW=bZ._iDisplayStart,b1=bZ._iDisplayLength,bX=bZ.fnRecordsDisplay(),b4=b1===-1,b2=b4?0:Math.ceil(bW/b1),bY=b4?1:Math.ceil(bX/b1),b3=bU(b2,bY),b0,b5;for(b0=0,b5=bP.p.length;b0<b5;b0++){R(bZ,"pageButton")(bZ,bP.p[b0],b0,b3,b2,bY)}}else{bU.fnUpdate(bZ,bV)}},sName:"pagination"})}return bT}function aE(bR,bS,bV){var bU=bR._iDisplayStart,bP=bR._iDisplayLength,bQ=bR.fnRecordsDisplay();if(bQ===0||bP===-1){bU=0}else{if(typeof bS==="number"){bU=bS*bP;if(bU>bQ){bU=0}}else{if(bS=="first"){bU=0}else{if(bS=="previous"){bU=bP>=0?bU-bP:0;if(bU<0){bU=0}}else{if(bS=="next"){if(bU+bP<bQ){bU+=bP}}else{if(bS=="last"){bU=Math.floor((bQ-1)/bP)*bP}else{aM(bR,0,"Unknown paging action: "+bS,5)}}}}}}var bT=bR._iDisplayStart!==bU;bR._iDisplayStart=bU;if(bT){K(bR,null,"page",[bR]);if(bV){a1(bR)}}return bT}function by(bP){return bD("<div/>",{id:!bP.aanFeatures.r?bP.sTableId+"_processing":null,"class":bP.oClasses.sProcessing}).html(bP.oLanguage.sProcessing).insertBefore(bP.nTable)[0]}function w(bQ,bP){if(bQ.oFeatures.bProcessing){bD(bQ.aanFeatures.r).css("display",bP?"block":"none")}K(bQ,null,"processing",[bQ,bP])}function bx(b3){var b2=bD(b3.nTable);b2.attr("role","grid");var bP=b3.oScroll;if(bP.sX===""&&bP.sY===""){return b3.nTable}var bX=bP.sX;var bW=bP.sY;var b4=b3.oClasses;var b1=b2.children("caption");var bQ=b1.length?b1[0]._captionSide:null;var bT=bD(b2[0].cloneNode(false));var b6=bD(b2[0].cloneNode(false));var bV=b2.children("tfoot");var bY="<div/>";var bU=function(b7){return !b7?null:bI(b7)};if(bP.sX&&b2.attr("width")==="100%"){b2.removeAttr("width")}if(!bV.length){bV=null}var b0=bD(bY,{"class":b4.sScrollWrapper}).append(bD(bY,{"class":b4.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:bX?bU(bX):"100%"}).append(bD(bY,{"class":b4.sScrollHeadInner}).css({"box-sizing":"content-box",width:bP.sXInner||"100%"}).append(bT.removeAttr("id").css("margin-left",0).append(b2.children("thead")))).append(bQ==="top"?b1:null)).append(bD(bY,{"class":b4.sScrollBody}).css({overflow:"auto",height:bU(bW),width:bU(bX)}).append(b2));if(bV){b0.append(bD(bY,{"class":b4.sScrollFoot}).css({overflow:"hidden",border:0,width:bX?bU(bX):"100%"}).append(bD(bY,{"class":b4.sScrollFootInner}).append(b6.removeAttr("id").css("margin-left",0).append(b2.children("tfoot")))).append(bQ==="bottom"?b1:null))}var bR=b0.children();var bZ=bR[0];var b5=bR[1];var bS=bV?bR[2]:null;if(bX){bD(b5).scroll(function(b7){var b8=this.scrollLeft;bZ.scrollLeft=b8;if(bV){bS.scrollLeft=b8}})}b3.nScrollHead=bZ;b3.nScrollBody=b5;b3.nScrollFoot=bS;b3.aoDrawCallback.push({fn:l,sName:"scrolling"});return b0[0]}function l(cp){var ck=cp.oScroll,bU=ck.sX,cf=ck.sXInner,bR=ck.sY,cd=ck.iBarWidth,ci=bD(cp.nScrollHead),b7=ci[0].style,bT=ci.children("div"),bQ=bT[0].style,cs=bT.children("table"),b0=cp.nScrollBody,cb=bD(b0),b6=b0.style,cl=bD(cp.nScrollFoot),ca=cl.children("div"),b8=ca.children("table"),bY=bD(cp.nTHead),b9=bD(cp.nTable),cc=b9[0],bW=cc.style,b5=cp.nTFoot?bD(cp.nTFoot):null,bX=cp.oBrowser,b2=bX.bScrollOversize,bS,bV,cn,cq,b3,b1,ch=[],cj=[],ce=[],cr,bZ,ct,b4=function(cu){var cv=cu.style;cv.paddingTop="0";cv.paddingBottom="0";cv.borderTopWidth="0";cv.borderBottomWidth="0";cv.height=0};b9.children("thead, tfoot").remove();b3=bY.clone().prependTo(b9);bS=bY.find("tr");cn=b3.find("tr");b3.find("th, td").removeAttr("tabindex");if(b5){b1=b5.clone().prependTo(b9);bV=b5.find("tr");cq=b1.find("tr")}if(!bU){b6.width="100%";ci[0].style.width="100%"}bD.each(bf(cp,b3),function(cu,cv){cr=r(cp,cu);cv.style.width=cp.aoColumns[cr].sWidth});if(b5){a6(function(cu){cu.style.width=""},cq)}if(ck.bCollapse&&bR!==""){b6.height=(cb[0].offsetHeight+bY[0].offsetHeight)+"px"}ct=b9.outerWidth();if(bU===""){bW.width="100%";if(b2&&(b9.find("tbody").height()>b0.offsetHeight||cb.css("overflow-y")=="scroll")){bW.width=bI(b9.outerWidth()-cd)}}else{if(cf!==""){bW.width=bI(cf)}else{if(ct==cb.width()&&cb.height()<b9.height()){bW.width=bI(ct-cd);if(b9.outerWidth()>ct-cd){bW.width=bI(ct)}}else{bW.width=bI(ct)}}}ct=b9.outerWidth();a6(b4,cn);a6(function(cu){ce.push(cu.innerHTML);ch.push(bI(bD(cu).css("width")))},cn);a6(function(cv,cu){cv.style.width=ch[cu]},bS);bD(cn).height(0);if(b5){a6(b4,cq);a6(function(cu){cj.push(bI(bD(cu).css("width")))},cq);a6(function(cv,cu){cv.style.width=cj[cu]},bV);bD(cq).height(0)}a6(function(cv,cu){cv.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+ce[cu]+"</div>";cv.style.width=ch[cu]},cn);if(b5){a6(function(cv,cu){cv.innerHTML="";cv.style.width=cj[cu]},cq)}if(b9.outerWidth()<ct){bZ=((b0.scrollHeight>b0.offsetHeight||cb.css("overflow-y")=="scroll"))?ct+cd:ct;if(b2&&(b0.scrollHeight>b0.offsetHeight||cb.css("overflow-y")=="scroll")){bW.width=bI(bZ-cd)}if(bU===""||cf!==""){aM(cp,1,"Possible column misalignment",6)}}else{bZ="100%"}b6.width=bI(bZ);b7.width=bI(bZ);if(b5){cp.nScrollFoot.style.width=bI(bZ)}if(!bR){if(b2){b6.height=bI(cc.offsetHeight+cd)}}if(bR&&ck.bCollapse){b6.height=bI(bR);var co=(bU&&cc.offsetWidth>b0.offsetWidth)?cd:0;if(cc.offsetHeight<b0.offsetHeight){b6.height=bI(cc.offsetHeight+co)}}var bP=b9.outerWidth();cs[0].style.width=bI(bP);bQ.width=bI(bP);var cg=b9.height()>b0.clientHeight||cb.css("overflow-y")=="scroll";var cm="padding"+(bX.bScrollbarLeft?"Left":"Right");bQ[cm]=cg?cd+"px":"0px";if(b5){b8[0].style.width=bI(bP);ca[0].style.width=bI(bP);ca[0].style[cm]=cg?cd+"px":"0px"}cb.scroll();if((cp.bSorted||cp.bFiltered)&&!cp._drawHold){b0.scrollTop=0}}function a6(bU,bR,bQ){var bS=0,bT=0,bP=bR.length;var bW,bV;while(bT<bP){bW=bR[bT].firstChild;bV=bQ?bQ[bT].firstChild:null;while(bW){if(bW.nodeType===1){if(bQ){bU(bW,bV,bS)}else{bU(bW,bS)}bS++}bW=bW.nextSibling;bV=bQ?bV.nextSibling:null}bT++}}var aZ=/<.*?>/g;function bu(bV){var b3=bV.nTable,bS=bV.aoColumns,bR=bV.oScroll,b0=bR.sY,b1=bR.sX,bU=bR.sXInner,b7=bS.length,b5=p(bV,"bVisible"),b4=bD("th",bV.nTHead),bY=b3.getAttribute("width"),bX=b3.parentNode,b6=false,b2,bT,b8,bZ,bP;for(b2=0;b2<b5.length;b2++){bT=bS[b5[b2]];if(bT.sWidth!==null){bT.sWidth=ae(bT.sWidthOrig,bX);b6=true}}if(!b6&&!b1&&!b0&&b7==aP(bV)&&b7==b4.length){for(b2=0;b2<b7;b2++){bS[b2].sWidth=bI(b4.eq(b2).width())}}else{var bW=bD(b3).clone().empty().css("visibility","hidden").removeAttr("id").append(bD(bV.nTHead).clone(false)).append(bD(bV.nTFoot).clone(false)).append(bD("<tbody><tr/></tbody>"));bW.find("tfoot th, tfoot td").css("width","");var bQ=bW.find("tbody tr");b4=bf(bV,bW.find("thead")[0]);for(b2=0;b2<b5.length;b2++){bT=bS[b5[b2]];b4[b2].style.width=bT.sWidthOrig!==null&&bT.sWidthOrig!==""?bI(bT.sWidthOrig):""}if(bV.aoData.length){for(b2=0;b2<b5.length;b2++){b8=b5[b2];bT=bS[b8];bD(aJ(bV,b8)).clone(false).append(bT.sContentPadding).appendTo(bQ)}}bW.appendTo(bX);if(b1&&bU){bW.width(bU)}else{if(b1){bW.css("width","auto");if(bW.width()<bX.offsetWidth){bW.width(bX.offsetWidth)}}else{if(b0){bW.width(bX.offsetWidth)}else{if(bY){bW.width(bY)}}}}ax(bV,bW[0]);if(b1){var b9=0;for(b2=0;b2<b5.length;b2++){bT=bS[b5[b2]];bP=bD(b4[b2]).outerWidth();b9+=bT.sWidthOrig===null?bP:parseInt(bT.sWidth,10)+bP-bD(b4[b2]).width()}bW.width(bI(b9));b3.style.width=bI(b9)}for(b2=0;b2<b5.length;b2++){bT=bS[b5[b2]];bZ=bD(b4[b2]).width();if(bZ){bT.sWidth=bI(bZ)}}b3.style.width=bI(bW.css("width"));bW.remove()}if(bY){b3.style.width=bI(bY)}if((bY||b1)&&!bV._reszEvt){bD(b).bind("resize.DT-"+bV.sInstance,aj(function(){aI(bV)}));bV._reszEvt=true}}function aj(bP,bS){var bR=bS||200,bQ,bT;return function(){var bW=this,bV=+new Date(),bU=arguments;if(bQ&&bV<bQ+bR){clearTimeout(bT);bT=setTimeout(function(){bQ=c;bP.apply(bW,bU)},bR)}else{if(bQ){bQ=bV;bP.apply(bW,bU)}else{bQ=bV}}}}function ae(bQ,bP){if(!bQ){return 0}var bS=bD("<div/>").css("width",bI(bQ)).appendTo(bP||a.body);var bR=bS[0].offsetWidth;bS.remove();return bR}function ax(bR,bS){var bP=bR.oScroll;if(bP.sX||bP.sY){var bQ=!bP.sX?bP.iBarWidth:0;bS.style.width=bI(bD(bS).outerWidth()-bQ)}}function aJ(bQ,bS){var bP=aa(bQ,bS);if(bP<0){return null}var bR=bQ.aoData[bP];return !bR.nTr?bD("<td/>").html(bs(bQ,bP,bS,"display"))[0]:bR.anCells[bS]}function aa(bU,bV){var bT,bP=-1,bR=-1;for(var bS=0,bQ=bU.aoData.length;bS<bQ;bS++){bT=bs(bU,bS,bV,"display")+"";bT=bT.replace(aZ,"");if(bT.length>bP){bP=bT.length;bR=bS}}return bR}function bI(bP){if(bP===null){return"0px"}if(typeof bP=="number"){return bP<0?"0px":bP+"px"}return bP.match(/\d$/)?bP+"px":bP}function a9(){if(!M.__scrollbarWidth){var bR=bD("<p/>").css({width:"100%",height:200,padding:0})[0];var bS=bD("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(bR).appendTo("body");var bQ=bR.offsetWidth;bS.css("overflow","scroll");var bP=bR.offsetWidth;if(bQ===bP){bP=bS[0].clientWidth}bS.remove();M.__scrollbarWidth=bQ-bP}return M.__scrollbarWidth}function aH(bS){var bX,bR,bU,bY,bV=[],b0=[],b2=bS.aoColumns,bW,b1,bP,bZ,bT=bS.aaSortingFixed,b4=bD.isPlainObject(bT),bQ=[],b3=function(b5){if(b5.length&&!bD.isArray(b5[0])){bQ.push(b5)}else{bQ.push.apply(bQ,b5)}};if(bD.isArray(bT)){b3(bT)}if(b4&&bT.pre){b3(bT.pre)}b3(bS.aaSorting);if(b4&&bT.post){b3(bT.post)}for(bX=0;bX<bQ.length;bX++){bZ=bQ[bX][0];bW=b2[bZ].aDataSort;for(bU=0,bY=bW.length;bU<bY;bU++){b1=bW[bU];bP=b2[b1].sType||"string";bV.push({src:bZ,col:b1,dir:bQ[bX][1],index:bQ[bX][2],type:bP,formatter:M.ext.type.order[bP+"-pre"]})}}return bV}function x(bU){var b6,bS,b3,b5,b7,b2,bP,bZ,bV,cb=[],bY=M.ext.type.order,b0=bU.aoData,b4=bU.aoColumns,bQ,ca,bT,bX,b1,b8=0,bW,bR=bU.aiDisplayMaster,b9;v(bU);b9=aH(bU);for(b6=0,bS=b9.length;b6<bS;b6++){bW=b9[b6];if(bW.formatter){b8++}F(bU,bW.col)}if(y(bU)!="ssp"&&b9.length!==0){for(b6=0,b3=bR.length;b6<b3;b6++){cb[bR[b6]]=b6}if(b8===b9.length){bR.sort(function(ck,cj){var cl,ci,cc,ch,cd,ce=b9.length,cg=b0[ck]._aSortData,cf=b0[cj]._aSortData;for(cc=0;cc<ce;cc++){cd=b9[cc];cl=cg[cd.col];ci=cf[cd.col];ch=cl<ci?-1:cl>ci?1:0;if(ch!==0){return cd.dir==="asc"?ch:-ch}}cl=cb[ck];ci=cb[cj];return cl<ci?-1:cl>ci?1:0})}else{bR.sort(function(cm,cl){var cn,ck,cd,cc,ci,ce,cj,cf=b9.length,ch=b0[cm]._aSortData,cg=b0[cl]._aSortData;for(cd=0;cd<cf;cd++){ce=b9[cd];cn=ch[ce.col];ck=cg[ce.col];cj=bY[ce.type+"-"+ce.dir]||bY["string-"+ce.dir];ci=cj(cn,ck);if(ci!==0){return ci}}cn=cb[cm];ck=cb[cl];return cn<ck?-1:cn>ck?1:0})}}bU.bSorted=true}function bb(bT){var bZ;var bY;var bU=bT.aoColumns;var bV=aH(bT);var bW=bT.oLanguage.oAria;for(var bX=0,bR=bU.length;bX<bR;bX++){var bQ=bU[bX];var bS=bQ.asSorting;var b0=bQ.sTitle.replace(/<.*?>/g,"");var bP=bQ.nTh;bP.removeAttribute("aria-sort");if(bQ.bSortable){if(bV.length>0&&bV[0].col==bX){bP.setAttribute("aria-sort",bV[0].dir=="asc"?"ascending":"descending");bY=bS[bV[0].index+1]||bS[0]}else{bY=bS[0]}bZ=b0+(bY==="asc"?bW.sSortAscending:bW.sSortDescending)}else{bZ=b0}bP.setAttribute("aria-label",bZ)}}function bh(bS,bU,bP,bY){var bQ=bS.aoColumns[bU];var bW=bS.aaSorting;var bT=bQ.asSorting;var bX;var bV=function(b0){var bZ=b0._idx;if(bZ===c){bZ=bD.inArray(b0[1],bT)}return bZ+1>=bT.length?0:bZ+1};if(typeof bW[0]==="number"){bW=bS.aaSorting=[bW]}if(bP&&bS.oFeatures.bSortMulti){var bR=bD.inArray(bU,ar(bW,"0"));if(bR!==-1){bX=bV(bW[bR]);bW[bR][1]=bT[bX];bW[bR]._idx=bX}else{bW.push([bU,bT[0],0]);bW[bW.length-1]._idx=0}}else{if(bW.length&&bW[0][0]==bU){bX=bV(bW[0]);bW.length=1;bW[0][1]=bT[bX];bW[0]._idx=bX}else{bW.length=0;bW.push([bU,bT[0]]);bW[0]._idx=0}}ag(bS);if(typeof bY=="function"){bY(bS)}}function B(bR,bQ,bT,bS){var bP=bR.aoColumns[bT];ba(bQ,{},function(bU){if(bP.bSortable===false){return}if(bR.oFeatures.bProcessing){w(bR,true);setTimeout(function(){bh(bR,bT,bU.shiftKey,bS);if(y(bR)!=="ssp"){w(bR,false)}},0)}else{bh(bR,bT,bU.shiftKey,bS)}})}function ac(bU){var bV=bU.aLastSort;var bQ=bU.oClasses.sSortColumn;var bS=aH(bU);var bT=bU.oFeatures;var bR,bP,bW;if(bT.bSort&&bT.bSortClasses){for(bR=0,bP=bV.length;bR<bP;bR++){bW=bV[bR].src;bD(ar(bU.aoData,"anCells",bW)).removeClass(bQ+(bR<2?bR+1:3))}for(bR=0,bP=bS.length;bR<bP;bR++){bW=bS[bR].src;bD(ar(bU.aoData,"anCells",bW)).addClass(bQ+(bR<2?bR+1:3))}}bU.aLastSort=bS}function F(bP,bU){var bQ=bP.aoColumns[bU];var bY=M.ext.order[bQ.sSortDataType];var bW;if(bY){bW=bY.call(bP.oInstance,bP,bU,bH(bP,bU))}var bX,bS;var bT=M.ext.type.order[bQ.sType+"-pre"];for(var bR=0,bV=bP.aoData.length;bR<bV;bR++){bX=bP.aoData[bR];if(!bX._aSortData){bX._aSortData=[]}if(!bX._aSortData[bU]||bY){bS=bY?bW[bR]:bs(bP,bR,bU,"sort");bX._aSortData[bU]=bT?bT(bS):bS}}}function bm(bP){if(!bP.oFeatures.bStateSave||bP.bDestroying){return}var bQ={time:+new Date(),start:bP._iDisplayStart,length:bP._iDisplayLength,order:bD.extend(true,[],bP.aaSorting),search:bw(bP.oPreviousSearch),columns:bD.map(bP.aoColumns,function(bR,bS){return{visible:bR.bVisible,search:bw(bP.aoPreSearchCols[bS])}})};K(bP,"aoStateSaveParams","stateSaveParams",[bP,bQ]);bP.oSavedState=bQ;bP.fnStateSaveCallback.call(bP.oInstance,bP,bQ)}function bM(bR,bW){var bU,bX;var bS=bR.aoColumns;if(!bR.oFeatures.bStateSave){return}var bP=bR.fnStateLoadCallback.call(bR.oInstance,bR);if(!bP||!bP.time){return}var bV=K(bR,"aoStateLoadParams","stateLoadParams",[bR,bP]);if(bD.inArray(false,bV)!==-1){return}var bT=bR.iStateDuration;if(bT>0&&bP.time<+new Date()-(bT*1000)){return}if(bS.length!==bP.columns.length){return}bR.oLoadedState=bD.extend(true,{},bP);bR._iDisplayStart=bP.start;bR.iInitDisplayStart=bP.start;bR._iDisplayLength=bP.length;bR.aaSorting=[];bD.each(bP.order,function(bZ,bY){bR.aaSorting.push(bY[0]>=bS.length?[0,bY[1]]:bY)});bD.extend(bR.oPreviousSearch,aD(bP.search));for(bU=0,bX=bP.columns.length;bU<bX;bU++){var bQ=bP.columns[bU];bS[bU].bVisible=bQ.visible;bD.extend(bR.aoPreSearchCols[bU],aD(bQ.search))}K(bR,"aoStateLoaded","stateLoaded",[bR,bP])}function al(bR){var bQ=M.settings;var bP=bD.inArray(bR,ar(bQ,"nTable"));return bP!==-1?bQ[bP]:null}function aM(bS,bU,bT,bP){bT="DataTables warning: "+(bS!==null?"table id="+bS.sTableId+" - ":"")+bT;if(bP){bT+=". For more information about this error, please see http://datatables.net/tn/"+bP}if(!bU){var bR=M.ext;var bQ=bR.sErrMode||bR.errMode;if(bQ=="alert"){alert(bT)}else{throw new Error(bT)}}else{if(b.console&&console.log){console.log(bT)}}}function Q(bQ,bS,bP,bR){if(bD.isArray(bP)){bD.each(bP,function(bT,bU){if(bD.isArray(bU)){Q(bQ,bS,bU[0],bU[1])}else{Q(bQ,bS,bU)}});return}if(bR===c){bR=bP}if(bS[bP]!==c){bQ[bR]=bS[bP]}}function aW(bP,bR,bQ){var bS;for(var bT in bR){if(bR.hasOwnProperty(bT)){bS=bR[bT];if(bD.isPlainObject(bS)){if(!bD.isPlainObject(bP[bT])){bP[bT]={}}bD.extend(true,bP[bT],bS)}else{if(bQ&&bT!=="data"&&bT!=="aaData"&&bD.isArray(bS)){bP[bT]=bS.slice()}else{bP[bT]=bS}}}}return bP}function ba(bR,bQ,bP){bD(bR).bind("click.DT",bQ,function(bS){bR.blur();bP(bS)}).bind("keypress.DT",bQ,function(bS){if(bS.which===13){bS.preventDefault();bP(bS)}}).bind("selectstart.DT",function(){return false})}function bL(bS,bQ,bP,bR){if(bP){bS[bQ].push({fn:bP,sName:bR})}}function K(bR,bS,bT,bQ){var bP=[];if(bS){bP=bD.map(bR[bS].slice().reverse(),function(bV,bU){return bV.fn.apply(bR.oInstance,bQ)})}if(bT!==null){bD(bR.nTable).trigger(bT+".dt",bQ)}return bP}function bj(bR){var bS=bR._iDisplayStart,bQ=bR.fnDisplayEnd(),bP=bR._iDisplayLength;if(bQ===bR.fnRecordsDisplay()){bS=bQ-bP}if(bP===-1||bS<0){bS=0}bR._iDisplayStart=bS}function R(bQ,bP){var bS=bQ.renderer;var bR=M.ext.renderer[bP];if(bD.isPlainObject(bS)&&bS[bP]){return bR[bS[bP]]||bR._}else{if(typeof bS==="string"){return bR[bS]||bR._}}return bR._}function y(bP){if(bP.oFeatures.bServerSide){return"ssp"}else{if(bP.ajax||bP.sAjaxSource){return"ajax"}}return"dom"}M=function(bR){this.$=function(bV,bU){return this.api(true).$(bV,bU)};this._=function(bV,bU){return this.api(true).rows(bV,bU).data()};this.api=function(bU){return bU?new I(al(this[H.iApiIndex])):new I(this)};this.fnAddData=function(bW,bX){var bU=this.api(true);var bV=bD.isArray(bW)&&(bD.isArray(bW[0])||bD.isPlainObject(bW[0]))?bU.rows.add(bW):bU.row.add(bW);if(bX===c||bX){bU.draw()}return bV.flatten().toArray()};this.fnAdjustColumnSizing=function(bX){var bW=this.api(true).columns.adjust();var bV=bW.settings()[0];var bU=bV.oScroll;if(bX===c||bX){bW.draw(false)}else{if(bU.sX!==""||bU.sY!==""){l(bV)}}};this.fnClearTable=function(bV){var bU=this.api(true).clear();if(bV===c||bV){bU.draw()}};this.fnClose=function(bU){this.api(true).row(bU).child.hide()};this.fnDeleteRow=function(bY,b0,bZ){var bV=this.api(true);var bX=bV.rows(bY);var bU=bX.settings()[0];var bW=bU.aoData[bX[0][0]];bX.remove();if(b0){b0.call(this,bU,bW)}if(bZ===c||bZ){bV.draw()}return bW};this.fnDestroy=function(bU){this.api(true).destroy(bU)};this.fnDraw=function(bU){this.api(true).draw(!bU)};this.fnFilter=function(bY,bV,bW,b0,bZ,bU){var bX=this.api(true);if(bV===null||bV===c){bX.search(bY,bW,b0,bU)}else{bX.column(bV).search(bY,bW,b0,bU)}bX.draw()};this.fnGetData=function(bX,bU){var bW=this.api(true);if(bX!==c){var bV=bX.nodeName?bX.nodeName.toLowerCase():"";return bU!==c||bV=="td"||bV=="th"?bW.cell(bX,bU).data():bW.row(bX).data()||null}return bW.data().toArray()};this.fnGetNodes=function(bV){var bU=this.api(true);return bV!==c?bU.row(bV).node():bU.rows().nodes().flatten().toArray()};this.fnGetPosition=function(bW){var bV=this.api(true);var bX=bW.nodeName.toUpperCase();if(bX=="TR"){return bV.row(bW).index()}else{if(bX=="TD"||bX=="TH"){var bU=bV.cell(bW).index();return[bU.row,bU.columnVisible,bU.column]}}return null};this.fnIsOpen=function(bU){return this.api(true).row(bU).child.isShown()};this.fnOpen=function(bV,bU,bW){return this.api(true).row(bV).child(bU,bW).show().child()[0]};this.fnPageChange=function(bU,bW){var bV=this.api(true).page(bU);if(bW===c||bW){bV.draw(false)}};this.fnSetColumnVis=function(bV,bU,bX){var bW=this.api(true).column(bV).visible(bU);if(bX===c||bX){bW.columns.adjust().draw()}};this.fnSettings=function(){return al(this[H.iApiIndex])};this.fnSort=function(bU){this.api(true).order(bU).draw()};this.fnSortListener=function(bV,bU,bW){this.api(true).order.listener(bV,bU,bW)};this.fnUpdate=function(bY,bX,bU,bZ,bW){var bV=this.api(true);if(bU===c||bU===null){bV.row(bX).data(bY)}else{bV.cell(bX,bU).data(bY)}if(bW===c||bW){bV.columns.adjust()}if(bZ===c||bZ){bV.draw()}return 0};this.fnVersionCheck=H.fnVersionCheck;var bS=this;var bQ=bR===c;var bP=this.length;if(bQ){bR={}}this.oApi=this.internal=H.internal;for(var bT in M.ext.internal){if(bT){this[bT]=af(bT)}}this.each(function(){var cb={};var b9=bP>1?aW(cb,bR,true):bR;var ch=0,cf,cg,ck,ce,bU;var b4=this.getAttribute("id");var b3=false;var b7=M.defaults;if(this.nodeName.toLowerCase()!="table"){aM(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}a2(b7);W(b7.column);Z(b7,b7,true);Z(b7.column,b7.column,true);Z(b7,b9);var b0=M.settings;for(ch=0,cf=b0.length;ch<cf;ch++){if(b0[ch].nTable==this){var cd=b9.bRetrieve!==c?b9.bRetrieve:b7.bRetrieve;var b6=b9.bDestroy!==c?b9.bDestroy:b7.bDestroy;if(bQ||cd){return b0[ch].oInstance}else{if(b6){b0[ch].oInstance.fnDestroy();break}else{aM(b0[ch],0,"Cannot reinitialise DataTable",3);return}}}if(b0[ch].sTableId==this.id){b0.splice(ch,1);break}}if(b4===null||b4===""){b4="DataTables_Table_"+(M.ext._unique++);this.id=b4}var b1=bD.extend(true,{},M.models.oSettings,{nTable:this,oApi:bS.internal,oInit:b9,sDestroyWidth:bD(this)[0].style.width,sInstance:b4,sTableId:b4});b0.push(b1);b1.oInstance=(bS.length===1)?bS:bD(this).dataTable();a2(b9);if(b9.oLanguage){aR(b9.oLanguage)}if(b9.aLengthMenu&&!b9.iDisplayLength){b9.iDisplayLength=bD.isArray(b9.aLengthMenu[0])?b9.aLengthMenu[0][0]:b9.aLengthMenu[0]}b9=aW(bD.extend(true,{},b7),b9);Q(b1.oFeatures,b9,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);Q(b1,b9,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);Q(b1.oScroll,b9,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);Q(b1.oLanguage,b9,"fnInfoCallback");bL(b1,"aoDrawCallback",b9.fnDrawCallback,"user");bL(b1,"aoServerParams",b9.fnServerParams,"user");bL(b1,"aoStateSaveParams",b9.fnStateSaveParams,"user");bL(b1,"aoStateLoadParams",b9.fnStateLoadParams,"user");bL(b1,"aoStateLoaded",b9.fnStateLoaded,"user");bL(b1,"aoRowCallback",b9.fnRowCallback,"user");bL(b1,"aoRowCreatedCallback",b9.fnCreatedRow,"user");bL(b1,"aoHeaderCallback",b9.fnHeaderCallback,"user");bL(b1,"aoFooterCallback",b9.fnFooterCallback,"user");bL(b1,"aoInitComplete",b9.fnInitComplete,"user");bL(b1,"aoPreDrawCallback",b9.fnPreDrawCallback,"user");var b5=b1.oClasses;if(b9.bJQueryUI){bD.extend(b5,M.ext.oJUIClasses,b9.oClasses);if(b9.sDom===b7.sDom&&b7.sDom==="lfrtip"){b1.sDom='<"H"lfr>t<"F"ip>'}if(!b1.renderer){b1.renderer="jqueryui"}else{if(bD.isPlainObject(b1.renderer)&&!b1.renderer.header){b1.renderer.header="jqueryui"}}}else{bD.extend(b5,M.ext.classes,b9.oClasses)}bD(this).addClass(b5.sTable);if(b1.oScroll.sX!==""||b1.oScroll.sY!==""){b1.oScroll.iBarWidth=a9()}if(b1.oScroll.sX===true){b1.oScroll.sX="100%"}if(b1.iInitDisplayStart===c){b1.iInitDisplayStart=b9.iDisplayStart;b1._iDisplayStart=b9.iDisplayStart}if(b9.iDeferLoading!==null){b1.bDeferLoading=true;var cl=bD.isArray(b9.iDeferLoading);b1._iRecordsDisplay=cl?b9.iDeferLoading[0]:b9.iDeferLoading;b1._iRecordsTotal=cl?b9.iDeferLoading[1]:b9.iDeferLoading}if(b9.oLanguage.sUrl!==""){b1.oLanguage.sUrl=b9.oLanguage.sUrl;bD.getJSON(b1.oLanguage.sUrl,null,function(cn){aR(cn);Z(b7.oLanguage,cn);bD.extend(true,b1.oLanguage,b9.oLanguage,cn);h(b1)});b3=true}else{bD.extend(true,b1.oLanguage,b9.oLanguage)}if(b9.asStripeClasses===null){b1.asStripeClasses=[b5.sStripeOdd,b5.sStripeEven]}var ci=b1.asStripeClasses;var bZ=bD("tbody tr:eq(0)",this);if(bD.inArray(true,bD.map(ci,function(co,cn){return bZ.hasClass(co)}))!==-1){bD("tbody tr",this).removeClass(ci.join(" "));b1.asDestroyStripes=ci.slice()}var cc=[];var bY;var ca=this.getElementsByTagName("thead");if(ca.length!==0){au(b1.aoHeader,ca[0]);cc=bf(b1)}if(b9.aoColumns===null){bY=[];for(ch=0,cf=cc.length;ch<cf;ch++){bY.push(null)}}else{bY=b9.aoColumns}for(ch=0,cf=bY.length;ch<cf;ch++){N(b1,cc?cc[ch]:null)}k(b1,b9.aoColumnDefs,bY,function(co,cn){a0(b1,co,cn)});if(bZ.length){var cm=function(cn,co){return cn.getAttribute("data-"+co)?co:null};bD.each(bd(b1,bZ[0]).cells,function(cq,cn){var co=b1.aoColumns[cq];if(co.mData===cq){var cp=cm(cn,"sort")||cm(cn,"order");var cr=cm(cn,"filter")||cm(cn,"search");if(cp!==null||cr!==null){co.mData={_:cq+".display",sort:cp!==null?cq+".@data-"+cp:c,type:cp!==null?cq+".@data-"+cp:c,filter:cr!==null?cq+".@data-"+cr:c};a0(b1,cq)}}})}var b2=b1.oFeatures;if(b9.bStateSave){b2.bStateSave=true;bM(b1,b9);bL(b1,"aoDrawCallback",bm,"state_save")}if(b9.aaSorting===c){var bX=b1.aaSorting;for(ch=0,cf=bX.length;ch<cf;ch++){bX[ch][1]=b1.aoColumns[ch].asSorting[0]}}ac(b1);if(b2.bSort){bL(b1,"aoDrawCallback",function(){if(b1.bSorted){var cn=aH(b1);var co={};bD.each(cn,function(cp,cq){co[cq.src]=cq.dir});K(b1,null,"order",[b1,cn,co]);bb(b1)}})}bL(b1,"aoDrawCallback",function(){if(b1.bSorted||y(b1)==="ssp"||b2.bDeferRender){ac(b1)}},"sc");bc(b1);var bW=bD(this).children("caption").each(function(){this._captionSide=bD(this).css("caption-side")});var cj=bD(this).children("thead");if(cj.length===0){cj=bD("<thead/>").appendTo(this)}b1.nTHead=cj[0];var bV=bD(this).children("tbody");if(bV.length===0){bV=bD("<tbody/>").appendTo(this)}b1.nTBody=bV[0];var b8=bD(this).children("tfoot");if(b8.length===0&&bW.length>0&&(b1.oScroll.sX!==""||b1.oScroll.sY!=="")){b8=bD("<tfoot/>").appendTo(this)}if(b8.length===0||b8.children().length===0){bD(this).addClass(b5.sNoFooter)}else{if(b8.length>0){b1.nTFoot=b8[0];au(b1.aoFooter,b1.nTFoot)}}if(b9.aaData){for(ch=0;ch<b9.aaData.length;ch++){aN(b1,b9.aaData[ch])}}else{if(b1.bDeferLoading||y(b1)=="dom"){bO(b1,bD(b1.nTBody).children("tr"))}}b1.aiDisplay=b1.aiDisplayMaster.slice();b1.bInitialised=true;if(b3===false){h(b1)}});bS=null;return this};var T=[];var o=Array.prototype;var bN=function(bR){var bP,bT;var bS=M.settings;var bQ=bD.map(bS,function(bV,bU){return bV.nTable});if(!bR){return[]}else{if(bR.nTable&&bR.oApi){return[bR]}else{if(bR.nodeName&&bR.nodeName.toLowerCase()==="table"){bP=bD.inArray(bR,bQ);return bP!==-1?[bS[bP]]:null}else{if(bR&&typeof bR.settings==="function"){return bR.settings().toArray()}else{if(typeof bR==="string"){bT=bD(bR)}else{if(bR instanceof bD){bT=bR}}}}}}if(bT){return bT.map(function(bU){bP=bD.inArray(this,bQ);return bP!==-1?bS[bP]:null}).toArray()}};I=function(bR,bT){if(!this instanceof I){throw"DT API must be constructed as a new object"}var bS=[];var bU=function(bW){var bV=bN(bW);if(bV){bS.push.apply(bS,bV)}};if(bD.isArray(bR)){for(var bQ=0,bP=bR.length;bQ<bP;bQ++){bU(bR[bQ])}}else{bU(bR)}this.context=aF(bS);if(bT){this.push.apply(this,bT.toArray?bT.toArray():bT)}this.selector={rows:null,cols:null,opts:null};I.extend(this,this,T)};M.Api=I;I.prototype={concat:o.concat,context:[],each:function(bR){for(var bQ=0,bP=this.length;bQ<bP;bQ++){bR.call(this,this[bQ],bQ,this)}return this},eq:function(bP){var bQ=this.context;return bQ.length>bP?new I(bQ[bP],this[bP]):null},filter:function(bS){var bQ=[];if(o.filter){bQ=o.filter.call(this,bS,this)}else{for(var bR=0,bP=this.length;bR<bP;bR++){if(bS.call(this,this[bR],bR,this)){bQ.push(this[bR])}}}return new I(this.context,bQ)},flatten:function(){var bP=[];return new I(this.context,bP.concat.apply(bP,this.toArray()))},join:o.join,indexOf:o.indexOf||function(bR,bS){for(var bQ=(bS||0),bP=this.length;bQ<bP;bQ++){if(this[bQ]===bR){return bQ}}return -1},iterator:function(bQ,bZ,b0){var b1=[],bX,bV,b2,bU,bS,bR=this.context,b4,bY,b3,bT=this.selector;if(typeof bQ==="string"){b0=bZ;bZ=bQ;bQ=false}for(bV=0,b2=bR.length;bV<b2;bV++){if(bZ==="table"){bX=b0(bR[bV],bV);if(bX!==c){b1.push(bX)}}else{if(bZ==="columns"||bZ==="rows"){bX=b0(bR[bV],this[bV],bV);if(bX!==c){b1.push(bX)}}else{if(bZ==="column"||bZ==="column-rows"||bZ==="row"||bZ==="cell"){bY=this[bV];if(bZ==="column-rows"){b4=aO(bR[bV],bT.opts)}for(bU=0,bS=bY.length;bU<bS;bU++){b3=bY[bU];if(bZ==="cell"){bX=b0(bR[bV],b3.row,b3.column,bV,bU)}else{bX=b0(bR[bV],b3,bV,bU,b4)}if(bX!==c){b1.push(bX)}}}}}}if(b1.length){var bW=new I(bR,bQ?b1.concat.apply([],b1):b1);var bP=bW.selector;bP.rows=bT.rows;bP.cols=bT.cols;bP.opts=bT.opts;return bW}return this},lastIndexOf:o.lastIndexOf||function(bP,bQ){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(bS){var bQ=[];if(o.map){bQ=o.map.call(this,bS,this)}else{for(var bR=0,bP=this.length;bR<bP;bR++){bQ.push(bS.call(this,this[bR],bR))}}return new I(this.context,bQ)},pluck:function(bP){return this.map(function(bQ){return bQ[bP]})},pop:o.pop,push:o.push,reduce:o.reduce||function(bP,bQ){return aU(this,bP,bQ,0,this.length,1)},reduceRight:o.reduceRight||function(bP,bQ){return aU(this,bP,bQ,this.length-1,-1,-1)},reverse:o.reverse,selector:null,shift:o.shift,sort:o.sort,splice:o.splice,toArray:function(){return o.slice.call(this)},to$:function(){return bD(this)},toJQuery:function(){return bD(this)},unique:function(){return new I(this.context,aF(this))},unshift:o.unshift};I.extend=function(bX,bT,bQ){if(!bT||(!(bT instanceof I)&&!bT.__dt_wrapper)){return}var bU,bW,bS,bP,bR,bY,bV=function(b0,bZ,b1){return function(){var b2=bZ.apply(b0,arguments);I.extend(b2,b2,b1.methodExt);return b2}};for(bU=0,bW=bQ.length;bU<bW;bU++){bR=bQ[bU];bT[bR.name]=typeof bR.val==="function"?bV(bX,bR.val,bR):bD.isPlainObject(bR.val)?{}:bR.val;bT[bR.name].__dt_wrapper=true;I.extend(bX,bT[bR.name],bR.propExt)}};I.register=bi=function(bR,bT){if(bD.isArray(bR)){for(var bW=0,bS=bR.length;bW<bS;bW++){I.register(bR[bW],bT)}return}var bX,b0,bU=bR.split("."),bV=T,bZ,bQ;var bY=function(b4,b2){for(var b3=0,b1=b4.length;b3<b1;b3++){if(b4[b3].name===b2){return b4[b3]}}return null};for(bX=0,b0=bU.length;bX<b0;bX++){bQ=bU[bX].indexOf("()")!==-1;bZ=bQ?bU[bX].replace("()",""):bU[bX];var bP=bY(bV,bZ);if(!bP){bP={name:bZ,val:{},methodExt:[],propExt:[]};bV.push(bP)}if(bX===b0-1){bP.val=bT}else{bV=bQ?bP.methodExt:bP.propExt}}};I.registerPlural=az=function(bP,bR,bQ){I.register(bP,bQ);I.register(bR,function(){var bS=bQ.apply(this,arguments);if(bS===this){return this}else{if(bS instanceof I){return bS.length?bD.isArray(bS[0])?new I(bS.context,bS[0]):bS[0]:c}}return bS})};var d=function(bP,bQ){if(typeof bP==="number"){return[bQ[bP]]}var bR=bD.map(bQ,function(bT,bS){return bT.nTable});return bD(bR).filter(bP).map(function(bT){var bS=bD.inArray(this,bR);return bQ[bS]}).toArray()};bi("tables()",function(bP){return bP?new I(d(bP,this.context)):this});bi("table()",function(bP){var bR=this.tables(bP);var bQ=bR.context;return bQ.length?new I(bQ[0]):bR});az("tables().nodes()","table().node()",function(){return this.iterator("table",function(bP){return bP.nTable})});az("tables().body()","table().body()",function(){return this.iterator("table",function(bP){return bP.nTBody})});az("tables().header()","table().header()",function(){return this.iterator("table",function(bP){return bP.nTHead})});az("tables().footer()","table().footer()",function(){return this.iterator("table",function(bP){return bP.nTFoot})});az("tables().containers()","table().container()",function(){return this.iterator("table",function(bP){return bP.nTableWrapper})});bi("draw()",function(bP){return this.iterator("table",function(bQ){ag(bQ,bP===false)})});bi("page()",function(bP){if(bP===c){return this.page.info().page}return this.iterator("table",function(bQ){aE(bQ,bP)})});bi("page.info()",function(bT){if(this.context.length===0){return c}var bS=this.context[0],bU=bS._iDisplayStart,bP=bS._iDisplayLength,bQ=bS.fnRecordsDisplay(),bR=bP===-1;return{page:bR?0:Math.floor(bU/bP),pages:bR?1:Math.ceil(bQ/bP),start:bU,end:bS.fnDisplayEnd(),length:bP,recordsTotal:bS.fnRecordsTotal(),recordsDisplay:bQ}});bi("page.len()",function(bP){if(bP===c){return this.context.length!==0?this.context[0]._iDisplayLength:c}return this.iterator("table",function(bQ){aS(bQ,bP)})});var G=function(bR,bP,bS){if(y(bR)=="ssp"){ag(bR,bP)}else{w(bR,true);at(bR,[],function(bV){bg(bR);var bW=br(bR,bV);for(var bU=0,bT=bW.length;bU<bT;bU++){aN(bR,bW[bU])}ag(bR,bP);w(bR,false)})}if(bS){var bQ=new I(bR);bQ.one("draw",function(){bS(bQ.ajax.json())})}};bi("ajax.json()",function(){var bP=this.context;if(bP.length>0){return bP[0].json}});bi("ajax.params()",function(){var bP=this.context;if(bP.length>0){return bP[0].oAjaxData}});bi("ajax.reload()",function(bQ,bP){return this.iterator("table",function(bR){G(bR,bP===false,bQ)})});bi("ajax.url()",function(bQ){var bP=this.context;if(bQ===c){if(bP.length===0){return c}bP=bP[0];return bP.ajax?bD.isPlainObject(bP.ajax)?bP.ajax.url:bP.ajax:bP.sAjaxSource}return this.iterator("table",function(bR){if(bD.isPlainObject(bR.ajax)){bR.ajax.url=bQ}else{bR.ajax=bQ}})});bi("ajax.url().load()",function(bQ,bP){return this.iterator("table",function(bR){G(bR,bP===false,bQ)})});var an=function(bQ,bW){var bR=[],bU,bV,bT,bX,bS,bP;if(!bQ||typeof bQ==="string"||bQ.length===c){bQ=[bQ]}for(bT=0,bX=bQ.length;bT<bX;bT++){bV=bQ[bT]&&bQ[bT].split?bQ[bT].split(","):[bQ[bT]];for(bS=0,bP=bV.length;bS<bP;bS++){bU=bW(typeof bV[bS]==="string"?bD.trim(bV[bS]):bV[bS]);if(bU&&bU.length){bR.push.apply(bR,bU)}}}return bR};var bC=function(bP){if(!bP){bP={}}if(bP.filter&&!bP.search){bP.search=bP.filter}return{search:bP.search||"none",order:bP.order||"current",page:bP.page||"all"}};var z=function(bR){for(var bQ=0,bP=bR.length;bQ<bP;bQ++){if(bR[bQ].length>0){bR[0]=bR[bQ];bR.length=1;bR.context=[bR.context[bQ]];return bR}}bR.length=0;return bR};var aO=function(bR,bP){var bS,bY,bT,bW=[],bX=bR.aiDisplay,bU=bR.aiDisplayMaster;var bZ=bP.search,bQ=bP.order,bV=bP.page;if(y(bR)=="ssp"){return bZ==="removed"?[]:be(0,bU.length)}else{if(bV=="current"){for(bS=bR._iDisplayStart,bY=bR.fnDisplayEnd();bS<bY;bS++){bW.push(bX[bS])}}else{if(bQ=="current"||bQ=="applied"){bW=bZ=="none"?bU.slice():bZ=="applied"?bX.slice():bD.map(bU,function(b1,b0){return bD.inArray(b1,bX)===-1?b1:null})}else{if(bQ=="index"||bQ=="original"){for(bS=0,bY=bR.aoData.length;bS<bY;bS++){if(bZ=="none"){bW.push(bS)}else{bT=bD.inArray(bS,bX);if((bT===-1&&bZ=="removed")||(bT>=0&&bZ=="applied")){bW.push(bS)}}}}}}}return bW};var D=function(bQ,bP,bR){return an(bP,function(bX){var bU=E(bX);if(bU!==null&&!bR){return[bU]}var bW=aO(bQ,bR);if(bU!==null&&bD.inArray(bU,bW)!==-1){return[bU]}else{if(!bX){return bW}}var bT=[];for(var bV=0,bS=bW.length;bV<bS;bV++){bT.push(bQ.aoData[bW[bV]].nTr)}if(bX.nodeName){if(bD.inArray(bX,bT)!==-1){return[bX._DT_RowIndex]}}return bD(bT).filter(bX).map(function(){return this._DT_RowIndex}).toArray()})};bi("rows()",function(bP,bQ){if(bP===c){bP=""}else{if(bD.isPlainObject(bP)){bQ=bP;bP=""}}bQ=bC(bQ);var bR=this.iterator("table",function(bS){return D(bS,bP,bQ)});bR.selector.rows=bP;bR.selector.opts=bQ;return bR});bi("rows().nodes()",function(){return this.iterator("row",function(bP,bQ){return bP.aoData[bQ].nTr||c})});bi("rows().data()",function(){return this.iterator(true,"rows",function(bP,bQ){return t(bP.aoData,bQ,"_aData")})});az("rows().cache()","row().cache()",function(bP){return this.iterator("row",function(bQ,bS){var bR=bQ.aoData[bS];return bP==="search"?bR._aFilterData:bR._aSortData})});az("rows().invalidate()","row().invalidate()",function(bP){return this.iterator("row",function(bQ,bR){aG(bQ,bR,bP)})});az("rows().indexes()","row().index()",function(){return this.iterator("row",function(bP,bQ){return bQ})});az("rows().remove()","row().remove()",function(){var bP=this;return this.iterator("row",function(bU,bW,bT){var bV=bU.aoData;bV.splice(bW,1);for(var bS=0,bR=bV.length;bS<bR;bS++){if(bV[bS].nTr!==null){bV[bS].nTr._DT_RowIndex=bS}}var bQ=bD.inArray(bW,bU.aiDisplay);a3(bU.aiDisplayMaster,bW);a3(bU.aiDisplay,bW);a3(bP[bT],bW,false);bj(bU)})});bi("rows.add()",function(bR){var bQ=this.iterator("table",function(bV){var bW,bU,bS;var bT=[];for(bU=0,bS=bR.length;bU<bS;bU++){bW=bR[bU];if(bW.nodeName&&bW.nodeName.toUpperCase()==="TR"){bT.push(bO(bV,bW)[0])}else{bT.push(aN(bV,bW))}}return bT});var bP=this.rows(-1);bP.pop();bP.push.apply(bP,bQ.toArray());return bP});bi("row()",function(bP,bQ){return z(this.rows(bP,bQ))});bi("row().data()",function(bQ){var bP=this.context;if(bQ===c){return bP.length&&this.length?bP[0].aoData[this[0]]._aData:c}bP[0].aoData[this[0]]._aData=bQ;aG(bP[0],this[0],"data");return this});bi("row().node()",function(){var bP=this.context;return bP.length&&this.length?bP[0].aoData[this[0]].nTr||null:null});bi("row.add()",function(bQ){if(bQ instanceof bD&&bQ.length){bQ=bQ[0]}var bP=this.iterator("table",function(bR){if(bQ.nodeName&&bQ.nodeName.toUpperCase()==="TR"){return bO(bR,bQ)[0]}return aN(bR,bQ)});return this.row(bP[0])});var Y=function(bS,bW,bV,bP){var bU=[];var bR=function(bY,bX){if(bY.nodeName&&bY.nodeName.toLowerCase()==="tr"){bU.push(bY)}else{var bZ=bD("<tr><td/></tr>").addClass(bX);bD("td",bZ).addClass(bX).html(bY)[0].colSpan=aP(bS);bU.push(bZ[0])}};if(bD.isArray(bV)||bV instanceof bD){for(var bT=0,bQ=bV.length;bT<bQ;bT++){bR(bV[bT],bP)}}else{bR(bV,bP)}if(bW._details){bW._details.remove()}bW._details=bD(bU);if(bW._detailsShow){bW._details.insertAfter(bW.nTr)}};var A=function(bQ){var bP=bQ.context;if(bP.length&&bQ.length){var bR=bP[0].aoData[bQ[0]];if(bR._details){bR._details.remove();bR._detailsShow=c;bR._details=c}}};var a8=function(bR,bQ){var bP=bR.context;if(bP.length&&bR.length){var bS=bP[0].aoData[bR[0]];if(bS._details){bS._detailsShow=bQ;if(bQ){bS._details.insertAfter(bS.nTr)}else{bS._details.detach()}bv(bP[0])}}};var bv=function(bU){var bT=new I(bU);var bS=".dt.DT_details";var bR="draw"+bS;var bP="column-visibility"+bS;var bQ="destroy"+bS;var bV=bU.aoData;bT.off(bR+" "+bP+" "+bQ);if(ar(bV,"_details").length>0){bT.on(bR,function(bX,bW){if(bU!==bW){return}bT.rows({page:"current"}).eq(0).each(function(bY){var bZ=bV[bY];if(bZ._detailsShow){bZ._details.insertAfter(bZ.nTr)}})});bT.on(bP,function(b1,bY,bW,b0){if(bU!==bY){return}var b3,b2=aP(bY);for(var bZ=0,bX=bV.length;bZ<bX;bZ++){b3=bV[bZ];if(b3._details){b3._details.children("td[colspan]").attr("colspan",b2)}}});bT.on(bQ,function(bZ,bX){if(bU!==bX){return}for(var bY=0,bW=bV.length;bY<bW;bY++){if(bV[bY]._details){A(bV[bY])}}})}};var n="";var s=n+"row().child";var aX=s+"()";bi(aX,function(bR,bP){var bQ=this.context;if(bR===c){return bQ.length&&this.length?bQ[0].aoData[this[0]]._details:c}else{if(bR===true){this.child.show()}else{if(bR===false){A(this)}else{if(bQ.length&&this.length){Y(bQ[0],bQ[0].aoData[this[0]],bR,bP)}}}}return this});bi([s+".show()",aX+".show()"],function(bP){a8(this,true);return this});bi([s+".hide()",aX+".hide()"],function(){a8(this,false);return this});bi([s+".remove()",aX+".remove()"],function(){A(this);return this});bi(s+".isShown()",function(){var bP=this.context;if(bP.length&&this.length){return bP[0].aoData[this[0]]._detailsShow||false}return false});var a7=/^(.+):(name|visIdx|visible)$/;var bA=function(bS,bP,bT){var bR=bS.aoColumns,bU=ar(bR,"sName"),bQ=ar(bR,"nTh");return an(bP,function(bZ){var bW=E(bZ);if(bZ===""){return be(bR.length)}else{if(bW!==null){return[bW>=0?bW:bR.length+bW]}else{var bX=typeof bZ==="string"?bZ.match(a7):"";if(bX){switch(bX[2]){case"visIdx":case"visible":var bV=parseInt(bX[1],10);if(bV<0){var bY=bD.map(bR,function(b0,b1){return b0.bVisible?b1:null});return[bY[bY.length+bV]]}return[r(bS,bV)];case"name":return bD.map(bU,function(b0,b1){return b0===bX[1]?b1:null})}}else{return bD(bQ).filter(bZ).map(function(){return bD.inArray(this,bQ)}).toArray()}}}})};var L=function(bR,bS,bP,bW){var bY=bR.aoColumns,bQ=bY[bS],bU=bR.aoData,b1,b0,bT,bZ,bX;if(bP===c){return bQ.bVisible}if(bQ.bVisible===bP){return}if(bP){var bV=bD.inArray(true,ar(bY,"bVisible"),bS+1);for(bT=0,bZ=bU.length;bT<bZ;bT++){bX=bU[bT].nTr;b0=bU[bT].anCells;if(bX){bX.insertBefore(b0[bS],b0[bV]||null)}}}else{bD(ar(bR.aoData,"anCells",bS)).detach()}bQ.bVisible=bP;a4(bR,bR.aoHeader);a4(bR,bR.aoFooter);if(bW===c||bW){aI(bR);if(bR.oScroll.sX||bR.oScroll.sY){l(bR)}}K(bR,null,"column-visibility",[bR,bS,bP]);bm(bR)};bi("columns()",function(bP,bQ){if(bP===c){bP=""}else{if(bD.isPlainObject(bP)){bQ=bP;bP=""}}bQ=bC(bQ);var bR=this.iterator("table",function(bS){return bA(bS,bP,bQ)});bR.selector.cols=bP;bR.selector.opts=bQ;return bR});az("columns().header()","column().header()",function(bP,bQ){return this.iterator("column",function(bS,bR){return bS.aoColumns[bR].nTh})});az("columns().footer()","column().footer()",function(bP,bQ){return this.iterator("column",function(bS,bR){return bS.aoColumns[bR].nTf})});az("columns().data()","column().data()",function(){return this.iterator("column-rows",function(bU,bT,bS,bR,bV){var bQ=[];for(var bW=0,bP=bV.length;bW<bP;bW++){bQ.push(bs(bU,bV[bW],bT,""))}return bQ})});az("columns().cache()","column().cache()",function(bP){return this.iterator("column-rows",function(bT,bS,bR,bQ,bU){return t(bT.aoData,bU,bP==="search"?"_aFilterData":"_aSortData",bS)})});az("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(bS,bR,bQ,bP,bT){return t(bS.aoData,bT,"anCells",bR)})});az("columns().visible()","column().visible()",function(bQ,bP){return this.iterator("column",function(bS,bR){return bQ===c?bS.aoColumns[bR].bVisible:L(bS,bR,bQ,bP)})});az("columns().indexes()","column().index()",function(bP){return this.iterator("column",function(bR,bQ){return bP==="visible"?bH(bR,bQ):bQ})});bi("columns.adjust()",function(){return this.iterator("table",function(bP){aI(bP)})});bi("column.index()",function(bR,bP){if(this.context.length!==0){var bQ=this.context[0];if(bR==="fromVisible"||bR==="toData"){return r(bQ,bP)}else{if(bR==="fromData"||bR==="toVisible"){return bH(bQ,bP)}}}});bi("column()",function(bP,bQ){return z(this.columns(bP,bQ))});var bo=function(bR,bS,bP){var bV=bR.aoData;var b1=aO(bR,bP);var bZ=t(bV,b1,"anCells");var bY=bD([].concat.apply([],bZ));var b0;var bQ=bR.aoColumns.length;var bW,bU,bX,bT;return an(bS,function(b2){if(b2===null||b2===c){bW=[];for(bU=0,bX=b1.length;bU<bX;bU++){b0=b1[bU];for(bT=0;bT<bQ;bT++){bW.push({row:b0,column:bT})}}return bW}else{if(bD.isPlainObject(b2)){return[b2]}}return bY.filter(b2).map(function(b3,b4){b0=b4.parentNode._DT_RowIndex;return{row:b0,column:bD.inArray(b4,bV[b0].anCells)}}).toArray()})};bi("cells()",function(bS,bP,bQ){if(bD.isPlainObject(bS)){if(typeof bS.row!==c){bQ=bP;bP=null}else{bQ=bS;bS=null}}if(bD.isPlainObject(bP)){bQ=bP;bP=null}if(bP===null||bP===c){return this.iterator("table",function(b0){return bo(b0,bS,bC(bQ))})}var bT=this.columns(bP,bQ);var bZ=this.rows(bS,bQ);var bW,bV,bX,bU,bR;var bY=this.iterator("table",function(b1,b0){bW=[];for(bV=0,bX=bZ[b0].length;bV<bX;bV++){for(bU=0,bR=bT[b0].length;bU<bR;bU++){bW.push({row:bZ[b0][bV],column:bT[b0][bU]})}}return bW});bD.extend(bY.selector,{cols:bP,rows:bS,opts:bQ});return bY});az("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(bQ,bR,bP){return bQ.aoData[bR].anCells[bP]})});bi("cells().data()",function(){return this.iterator("cell",function(bQ,bR,bP){return bs(bQ,bR,bP)})});az("cells().cache()","cell().cache()",function(bP){bP=bP==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(bR,bS,bQ){return bR.aoData[bS][bP][bQ]})});az("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(bQ,bR,bP){return{row:bR,column:bP,columnVisible:bH(bQ,bP)}})});bi(["cells().invalidate()","cell().invalidate()"],function(bQ){var bP=this.selector;this.rows(bP.rows,bP.opts).invalidate(bQ);return this});bi("cell()",function(bP,bR,bQ){return z(this.cells(bP,bR,bQ))});bi("cell().data()",function(bR){var bQ=this.context;var bP=this[0];if(bR===c){return bQ.length&&bP.length?bs(bQ[0],bP[0].row,bP[0].column):c}bk(bQ[0],bP[0].row,bP[0].column,bR);aG(bQ[0],bP[0].row,"data",bP[0].column);return this});bi("order()",function(bP,bR){var bQ=this.context;if(bP===c){return bQ.length!==0?bQ[0].aaSorting:c}if(typeof bP==="number"){bP=[[bP,bR]]}else{if(!bD.isArray(bP[0])){bP=Array.prototype.slice.call(arguments)}}return this.iterator("table",function(bS){bS.aaSorting=bP.slice()})});bi("order.listener()",function(bQ,bP,bR){return this.iterator("table",function(bS){B(bS,bQ,bP,bR)})});bi(["columns().order()","column().order()"],function(bP){var bQ=this;return this.iterator("table",function(bT,bS){var bR=[];bD.each(bQ[bS],function(bV,bU){bR.push([bU,bP])});bT.aaSorting=bR})});bi("search()",function(bQ,bS,bT,bR){var bP=this.context;if(bQ===c){return bP.length!==0?bP[0].oPreviousSearch.sSearch:c}return this.iterator("table",function(bU){if(!bU.oFeatures.bFilter){return}u(bU,bD.extend({},bU.oPreviousSearch,{sSearch:bQ+"",bRegex:bS===null?false:bS,bSmart:bT===null?true:bT,bCaseInsensitive:bR===null?true:bR}),1)})});az("columns().search()","column().search()",function(bP,bR,bS,bQ){return this.iterator("column",function(bV,bU){var bT=bV.aoPreSearchCols;if(bP===c){return bT[bU].sSearch}if(!bV.oFeatures.bFilter){return}bD.extend(bT[bU],{sSearch:bP+"",bRegex:bR===null?false:bR,bSmart:bS===null?true:bS,bCaseInsensitive:bQ===null?true:bQ});u(bV,bV.oPreviousSearch,1)})});bi("state()",function(){return this.context.length?this.context[0].oSavedState:null});bi("state.clear()",function(){return this.iterator("table",function(bP){bP.fnStateSaveCallback.call(bP.oInstance,bP,{})})});bi("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});bi("state.save()",function(){return this.iterator("table",function(bP){bm(bP)})});M.versionCheck=M.fnVersionCheck=function(bR){var bV=M.version.split(".");var bS=bR.split(".");var bQ,bU;for(var bT=0,bP=bS.length;bT<bP;bT++){bQ=parseInt(bV[bT],10)||0;bU=parseInt(bS[bT],10)||0;if(bQ===bU){continue}return bQ>bU}return true};M.isDataTable=M.fnIsDataTable=function(bR){var bP=bD(bR).get(0);var bQ=false;bD.each(M.settings,function(bS,bT){if(bT.nTable===bP||bT.nScrollHead===bP||bT.nScrollFoot===bP){bQ=true}});return bQ};M.tables=M.fnTables=function(bP){return jQuery.map(M.settings,function(bQ){if(!bP||(bP&&bD(bQ.nTable).is(":visible"))){return bQ.nTable}})};M.camelToHungarian=Z;bi("$()",function(bP,bR){var bS=this.rows(bR).nodes(),bQ=bD(bS);return bD([].concat(bQ.filter(bP).toArray(),bQ.find(bP).toArray()))});bD.each(["on","one","off"],function(bQ,bP){bi(bP+"()",function(){var bR=Array.prototype.slice.call(arguments);if(!bR[0].match(/\.dt\b/)){bR[0]+=".dt"}var bS=bD(this.tables().nodes());bS[bP].apply(bS,bR);return this})});bi("clear()",function(){return this.iterator("table",function(bP){bg(bP)})});bi("settings()",function(){return new I(this.context,this.context)});bi("data()",function(){return this.iterator("table",function(bP){return ar(bP.aoData,"_aData")}).flatten()});bi("destroy()",function(bP){bP=bP||false;return this.iterator("table",function(bQ){var bZ=bQ.nTableWrapper.parentNode;var bR=bQ.oClasses;var b1=bQ.nTable;var bU=bQ.nTBody;var bW=bQ.nTHead;var bX=bQ.nTFoot;var b2=bD(b1);var bT=bD(bU);var bV=bD(bQ.nTableWrapper);var b3=bD.map(bQ.aoData,function(b4){return b4.nTr});var bS,b0;bQ.bDestroying=true;K(bQ,"aoDestroyCallback","destroy",[bQ]);if(!bP){new I(bQ).columns().visible(true)}bV.unbind(".DT").find(":not(tbody *)").unbind(".DT");bD(b).unbind(".DT-"+bQ.sInstance);if(b1!=bW.parentNode){b2.children("thead").detach();b2.append(bW)}if(bX&&b1!=bX.parentNode){b2.children("tfoot").detach();b2.append(bX)}b2.detach();bV.detach();bQ.aaSorting=[];bQ.aaSortingFixed=[];ac(bQ);bD(b3).removeClass(bQ.asStripeClasses.join(" "));bD("th, td",bW).removeClass(bR.sSortable+" "+bR.sSortableAsc+" "+bR.sSortableDesc+" "+bR.sSortableNone);if(bQ.bJUI){bD("th span."+bR.sSortIcon+", td span."+bR.sSortIcon,bW).detach();bD("th, td",bW).each(function(){var b4=bD("div."+bR.sSortJUIWrapper,this);bD(this).append(b4.contents());b4.detach()})}if(!bP&&bZ){bZ.insertBefore(b1,bQ.nTableReinsertBefore)}bT.children().detach();bT.append(b3);b2.css("width",bQ.sDestroyWidth).removeClass(bR.sTable);b0=bQ.asDestroyStripes.length;if(b0){bT.children().each(function(b4){bD(this).addClass(bQ.asDestroyStripes[b4%b0])})}var bY=bD.inArray(bQ,M.settings);if(bY!==-1){M.settings.splice(bY,1)}})});M.version="1.10.2";M.settings=[];M.models={};M.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};M.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};M.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:false,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};M.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bJQueryUI:false,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollCollapse:false,bServerSide:false,bSort:true,bSortMulti:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(bP){return bP.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(bP){try{return JSON.parse((bP.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+bP.sInstance+"_"+location.pathname))}catch(bQ){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(bP,bQ){try{(bP.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+bP.sInstance+"_"+location.pathname,JSON.stringify(bQ))}catch(bR){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:bD.extend({},M.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};S(M.defaults);M.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bVisible:true,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};S(M.defaults.column);M.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false,bScrollbarLeft:false},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,json:c,oAjaxData:c,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return y(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return y(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var bP=this._iDisplayLength,bU=this._iDisplayStart,bR=bU+bP,bQ=this.aiDisplay.length,bS=this.oFeatures,bT=bS.bPaginate;if(bS.bServerSide){return bT===false||bP===-1?bU+bQ:Math.min(bU+bP,this._iRecordsDisplay)}else{return !bT||bR>bQ||bP===-1?bQ:bR}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};M.ext=H={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:M.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:M.version};bD.extend(H,{afnFiltering:H.search,aTypes:H.type.detect,ofnSearch:H.type.search,oSort:H.type.order,afnSortData:H.order,aoFeatures:H.feature,oApi:H.internal,oStdClasses:H.classes,oPagination:H.pager});bD.extend(M.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});(function(){var bQ="";bQ="";var bR=bQ+"ui-state-default";var bS=bQ+"css_right ui-icon ui-icon-";var bP=bQ+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";bD.extend(M.ext.oJUIClasses,M.ext.classes,{sPageButton:"fg-button ui-button "+bR,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:bR+" sorting_asc",sSortDesc:bR+" sorting_desc",sSortable:bR+" sorting",sSortableAsc:bR+" sorting_asc_disabled",sSortableDesc:bR+" sorting_desc_disabled",sSortableNone:bR+" sorting_disabled",sSortJUIAsc:bS+"triangle-1-n",sSortJUIDesc:bS+"triangle-1-s",sSortJUI:bS+"carat-2-n-s",sSortJUIAscAllowed:bS+"carat-1-n",sSortJUIDescAllowed:bS+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+bR,sScrollFoot:"dataTables_scrollFoot "+bR,sHeaderTH:bR,sFooterTH:bR,sJUIHeader:bP+" ui-corner-tl ui-corner-tr",sJUIFooter:bP+" ui-corner-bl ui-corner-br"})}());var bG=M.ext.pager;function bl(bU,bP){var bQ=[],bS=bG.numbers_length,bT=Math.floor(bS/2),bR=1;if(bP<=bS){bQ=be(0,bP)}else{if(bU<=bT){bQ=be(0,bS-2);bQ.push("ellipsis");bQ.push(bP-1)}else{if(bU>=bP-1-bT){bQ=be(bP-(bS-2),bP);bQ.splice(0,0,"ellipsis");bQ.splice(0,0,0)}else{bQ=be(bU-1,bU+2);bQ.push("ellipsis");bQ.push(bP-1);bQ.splice(0,0,"ellipsis");bQ.splice(0,0,0)}}}bQ.DT_el="span";return bQ}bD.extend(bG,{simple:function(bQ,bP){return["previous","next"]},full:function(bQ,bP){return["first","previous","next","last"]},simple_numbers:function(bQ,bP){return["previous",bl(bQ,bP),"next"]},full_numbers:function(bQ,bP){return["first","previous",bl(bQ,bP),"next","last"]},_numbers:bl,numbers_length:7});bD.extend(true,M.ext.renderer,{pageButton:{_:function(bV,b2,b1,b0,bZ,bT){var bW=bV.oClasses;var bS=bV.oLanguage.oPaginate;var bR,bQ,bP=0;var bX=function(b4,b9){var b7,b3,b8,b6;var ca=function(cb){aE(bV,cb.data.action,true)};for(b7=0,b3=b9.length;b7<b3;b7++){b6=b9[b7];if(bD.isArray(b6)){var b5=bD("<"+(b6.DT_el||"div")+"/>").appendTo(b4);bX(b5,b6)}else{bR="";bQ="";switch(b6){case"ellipsis":b4.append("<span>&hellip;</span>");break;case"first":bR=bS.sFirst;bQ=b6+(bZ>0?"":" "+bW.sPageButtonDisabled);break;case"previous":bR=bS.sPrevious;bQ=b6+(bZ>0?"":" "+bW.sPageButtonDisabled);break;case"next":bR=bS.sNext;bQ=b6+(bZ<bT-1?"":" "+bW.sPageButtonDisabled);break;case"last":bR=bS.sLast;bQ=b6+(bZ<bT-1?"":" "+bW.sPageButtonDisabled);break;default:bR=b6+1;bQ=bZ===b6?bW.sPageButtonActive:"";break}if(bR){b8=bD("<a>",{"class":bW.sPageButton+" "+bQ,"aria-controls":bV.sTableId,"data-dt-idx":bP,tabindex:bV.iTabIndex,id:b1===0&&typeof b6==="string"?bV.sTableId+"_"+b6:null}).html(bR).appendTo(b4);ba(b8,{action:b6},ca);bP++}}}};try{var bU=bD(a.activeElement).data("dt-idx");bX(bD(b2).empty(),b0);if(bU!==null){bD(b2).find("[data-dt-idx="+bU+"]").focus()}}catch(bY){}}}});var P=function(bS,bP,bR,bQ){if(!bS||bS==="-"){return -Infinity}if(bP){bS=bB(bS,bP)}if(bS.replace){if(bR){bS=bS.replace(bR,"")}if(bQ){bS=bS.replace(bQ,"")}}return bS*1};function bp(bP){bD.each({num:function(bQ){return P(bQ,bP)},"num-fmt":function(bQ){return P(bQ,bP,bE)},"html-num":function(bQ){return P(bQ,bP,aT)},"html-num-fmt":function(bQ){return P(bQ,bP,aT,bE)}},function(bQ,bR){H.type.order[bQ+bP+"-pre"]=bR})}bD.extend(H.type.order,{"date-pre":function(bP){return Date.parse(bP)||0},"html-pre":function(bP){return bz(bP)?"":bP.replace?bP.replace(/<.*?>/g,"").toLowerCase():bP+""},"string-pre":function(bP){return bz(bP)?"":typeof bP==="string"?bP.toLowerCase():!bP.toString?"":bP.toString()},"string-asc":function(bP,bQ){return((bP<bQ)?-1:((bP>bQ)?1:0))},"string-desc":function(bP,bQ){return((bP<bQ)?1:((bP>bQ)?-1:0))}});bp("");bD.extend(M.ext.type.detect,[function(bR,bQ){var bP=bQ.oLanguage.sDecimal;return ah(bR,bP)?"num"+bP:null},function(bR,bQ){if(bR&&(!ak.test(bR)||!bt.test(bR))){return null}var bP=Date.parse(bR);return(bP!==null&&!isNaN(bP))||bz(bR)?"date":null},function(bR,bQ){var bP=bQ.oLanguage.sDecimal;return ah(bR,bP,true)?"num-fmt"+bP:null},function(bR,bQ){var bP=bQ.oLanguage.sDecimal;return j(bR,bP)?"html-num"+bP:null},function(bR,bQ){var bP=bQ.oLanguage.sDecimal;return j(bR,bP,true)?"html-num-fmt"+bP:null},function(bQ,bP){return bz(bQ)||(typeof bQ==="string"&&bQ.indexOf("<")!==-1)?"html":null}]);bD.extend(M.ext.type.search,{html:function(bP){return bz(bP)?bP:typeof bP==="string"?bP.replace(V," ").replace(aT,""):""},string:function(bP){return bz(bP)?bP:typeof bP==="string"?bP.replace(V," "):bP}});bD.extend(true,M.ext.renderer,{header:{_:function(bS,bP,bR,bQ){bD(bS.nTable).on("order.dt.DT",function(bW,bT,bV,bU){if(bS!==bT){return}var bX=bR.idx;bP.removeClass(bR.sSortingClass+" "+bQ.sSortAsc+" "+bQ.sSortDesc).addClass(bU[bX]=="asc"?bQ.sSortAsc:bU[bX]=="desc"?bQ.sSortDesc:bR.sSortingClass)})},jqueryui:function(bS,bP,bR,bQ){var bT=bR.idx;bD("<div/>").addClass(bQ.sSortJUIWrapper).append(bP.contents()).append(bD("<span/>").addClass(bQ.sSortIcon+" "+bR.sSortingClassJUI)).appendTo(bP);bD(bS.nTable).on("order.dt.DT",function(bX,bU,bW,bV){if(bS!==bU){return}bP.removeClass(bQ.sSortAsc+" "+bQ.sSortDesc).addClass(bV[bT]=="asc"?bQ.sSortAsc:bV[bT]=="desc"?bQ.sSortDesc:bR.sSortingClass);bP.find("span."+bQ.sSortIcon).removeClass(bQ.sSortJUIAsc+" "+bQ.sSortJUIDesc+" "+bQ.sSortJUI+" "+bQ.sSortJUIAscAllowed+" "+bQ.sSortJUIDescAllowed).addClass(bV[bT]=="asc"?bQ.sSortJUIAsc:bV[bT]=="desc"?bQ.sSortJUIDesc:bR.sSortingClassJUI)})}}});M.render={number:function(bR,bQ,bP,bS){return{display:function(bW){var bU=bW<0?"-":"";bW=Math.abs(parseFloat(bW));var bV=parseInt(bW,10);var bT=bP?bQ+(bW-bV).toFixed(bP).substring(2):"";return bU+(bS||"")+bV.toString().replace(/\B(?=(\d{3})+(?!\d))/g,bR)+bT}}}};function af(bP){return function(){var bQ=[al(this[M.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return M.ext.internal[bP].apply(this,bQ)}}bD.extend(M.ext.internal,{_fnExternApiFunc:af,_fnBuildAjax:at,_fnAjaxUpdate:ad,_fnAjaxParameters:bJ,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:br,_fnAddColumn:N,_fnColumnOptions:a0,_fnAdjustColumnSizing:aI,_fnVisibleToColumnIndex:r,_fnColumnIndexToVisible:bH,_fnVisbleColumns:aP,_fnGetColumns:p,_fnColumnTypes:v,_fnApplyColumnDefs:k,_fnHungarianMap:S,_fnCamelToHungarian:Z,_fnLanguageCompat:aR,_fnBrowserDetect:bc,_fnAddData:aN,_fnAddTr:bO,_fnNodeToDataIndex:bq,_fnNodeToColumnIndex:aY,_fnGetCellData:bs,_fnSetCellData:bk,_fnSplitObjNotation:ai,_fnGetObjectDataFn:am,_fnSetObjectDataFn:av,_fnGetDataMaster:bF,_fnClearTable:bg,_fnDeleteIndex:a3,_fnInvalidateRow:aG,_fnGetRowElements:bd,_fnCreateTr:O,_fnBuildHead:aK,_fnDrawHead:a4,_fnDraw:a1,_fnReDraw:ag,_fnAddOptionsHtml:i,_fnDetectHeader:au,_fnGetUniqueThs:bf,_fnFeatureHtmlFilter:q,_fnFilterComplete:u,_fnFilterCustom:ap,_fnFilterColumn:X,_fnFilter:aw,_fnFilterCreateSearch:aV,_fnEscapeRegex:m,_fnFilterData:aC,_fnFeatureHtmlInfo:g,_fnUpdateInfo:aq,_fnInfoMacros:bn,_fnInitialise:h,_fnInitComplete:aA,_fnLengthChange:aS,_fnFeatureHtmlLength:aQ,_fnFeatureHtmlPaginate:ay,_fnPageChange:aE,_fnFeatureHtmlProcessing:by,_fnProcessingDisplay:w,_fnFeatureHtmlTable:bx,_fnScrollDraw:l,_fnApplyToChildren:a6,_fnCalculateColumnWidths:bu,_fnThrottle:aj,_fnConvertToWidth:ae,_fnScrollingWidthAdjust:ax,_fnGetWidestNode:aJ,_fnGetMaxLenString:aa,_fnStringToCss:bI,_fnScrollBarWidth:a9,_fnSortFlatten:aH,_fnSort:x,_fnSortAria:bb,_fnSortListener:bh,_fnSortAttachListener:B,_fnSortingClasses:ac,_fnSortData:F,_fnSaveState:bm,_fnLoadState:bM,_fnSettingsFromNode:al,_fnLog:aM,_fnMap:Q,_fnBindAction:ba,_fnCallbackReg:bL,_fnCallbackFire:K,_fnLengthOverflow:bj,_fnRenderer:R,_fnDataSource:y,_fnRowAttributes:ab,_fnCalculateEnd:function(){}});bD.fn.dataTable=M;bD.fn.dataTableSettings=M.settings;bD.fn.dataTableExt=M.ext;bD.fn.DataTable=function(bP){return bD(this).dataTable(bP).api()};bD.each(M,function(bQ,bP){bD.fn.DataTable[bQ]=bP});return bD.fn.dataTable}))}(window,document));
/*! ColReorder 1.1.1
 * ©2010-2014 SpryMedia Ltd - datatables.net/license
 */
(function(e,a,g){function f(l){var k=[];for(var j=0,h=l.length;j<h;j++){k[l[j]]=j}return k}function d(i,k,j){var h=i.splice(k,1)[0];i.splice(j,0,h)}function b(l,o,n){var k=[];for(var j=0,h=l.childNodes.length;j<h;j++){if(l.childNodes[j].nodeType==1){k.push(l.childNodes[j])}}var m=k[o];if(n!==null){l.insertBefore(m,k[n])}else{l.appendChild(m)}}$.fn.dataTableExt.oApi.fnColReorder=function(l,h,v){var u=$.fn.dataTable.Api?true:false;var q,m,o,z,y=l.aoColumns.length,x,n;if(h==v){return}if(h<0||h>=y){this.oApi._fnLog(l,1,"ColReorder 'from' index is out of bounds: "+h);return}if(v<0||v>=y){this.oApi._fnLog(l,1,"ColReorder 'to' index is out of bounds: "+v);return}var t=[];for(q=0,m=y;q<m;q++){t[q]=q}d(t,h,v);var w=f(t);for(q=0,m=l.aaSorting.length;q<m;q++){l.aaSorting[q][0]=w[l.aaSorting[q][0]]}if(l.aaSortingFixed!==null){for(q=0,m=l.aaSortingFixed.length;q<m;q++){l.aaSortingFixed[q][0]=w[l.aaSortingFixed[q][0]]}}for(q=0,m=y;q<m;q++){n=l.aoColumns[q];for(o=0,z=n.aDataSort.length;o<z;o++){n.aDataSort[o]=w[n.aDataSort[o]]}if(u){n.idx=w[n.idx]}}if(u){$.each(l.aLastSort,function(j,A){l.aLastSort[j].src=w[A.src]})}for(q=0,m=y;q<m;q++){n=l.aoColumns[q];if(typeof n.mData=="number"){n.mData=w[n.mData];l.oApi._fnColumnOptions(l,q,{})}}if(l.aoColumns[h].bVisible){var k=this.oApi._fnColumnIndexToVisible(l,h);var r=null;q=v<h?v:v+1;while(r===null&&q<y){r=this.oApi._fnColumnIndexToVisible(l,q);q++}x=l.nTHead.getElementsByTagName("tr");for(q=0,m=x.length;q<m;q++){b(x[q],k,r)}if(l.nTFoot!==null){x=l.nTFoot.getElementsByTagName("tr");for(q=0,m=x.length;q<m;q++){b(x[q],k,r)}}for(q=0,m=l.aoData.length;q<m;q++){if(l.aoData[q].nTr!==null){b(l.aoData[q].nTr,k,r)}}}d(l.aoColumns,h,v);d(l.aoPreSearchCols,h,v);for(q=0,m=l.aoData.length;q<m;q++){var p=l.aoData[q];if(u){if(p.anCells){d(p.anCells,h,v)}if(p.src!=="dom"&&$.isArray(p._aData)){d(p._aData,h,v)}}else{if($.isArray(p._aData)){d(p._aData,h,v)}d(p._anHidden,h,v)}}for(q=0,m=l.aoHeader.length;q<m;q++){d(l.aoHeader[q],h,v)}if(l.aoFooter!==null){for(q=0,m=l.aoFooter.length;q<m;q++){d(l.aoFooter[q],h,v)}}if(u){var s=new $.fn.dataTable.Api(l);s.rows().invalidate()}for(q=0,m=y;q<m;q++){$(l.aoColumns[q].nTh).off("click.DT");this.oApi._fnSortAttachListener(l,l.aoColumns[q].nTh,q)}$(l.oInstance).trigger("column-reorder",[l,{iFrom:h,iTo:v,aiInvertMapping:w}])};var c=function(j,i){var h=function(l,k){var m;if(j.fn.dataTable.Api){m=new j.fn.dataTable.Api(l).settings()[0]}else{if(l.fnSettings){m=l.fnSettings()}else{if(typeof l==="string"){if(j.fn.dataTable.fnIsDataTable(j(l)[0])){m=j(l).eq(0).dataTable().fnSettings()}}else{if(l.nodeName&&l.nodeName.toLowerCase()==="table"){if(j.fn.dataTable.fnIsDataTable(l.nodeName)){m=j(l.nodeName).dataTable().fnSettings()}}else{if(l instanceof jQuery){if(j.fn.dataTable.fnIsDataTable(l[0])){m=l.eq(0).dataTable().fnSettings()}}else{m=l}}}}}if(j.fn.dataTable.camelToHungarian){j.fn.dataTable.camelToHungarian(h.defaults,k||{})}this.s={dt:null,init:j.extend(true,{},h.defaults,k),fixed:0,fixedRight:0,dropCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]};this.dom={drag:null,pointer:null};this.s.dt=m.oInstance.fnSettings();this.s.dt._colReorder=this;this._fnConstruct();m.oApi._fnCallbackReg(m,"aoDestroyCallback",j.proxy(this._fnDestroy,this),"ColReorder");return this};h.prototype={fnReset:function(){var l=[];for(var m=0,k=this.s.dt.aoColumns.length;m<k;m++){l.push(this.s.dt.aoColumns[m]._ColReorder_iOrigCol)}this._fnOrderColumns(l);return this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(n){if(n===g){var l=[];for(var m=0,k=this.s.dt.aoColumns.length;m<k;m++){l.push(this.s.dt.aoColumns[m]._ColReorder_iOrigCol)}return l}this._fnOrderColumns(f(n));return this},_fnConstruct:function(){var p=this;var k=this.s.dt.aoColumns.length;var o;if(this.s.init.iFixedColumns){this.s.fixed=this.s.init.iFixedColumns}this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0;if(this.s.init.fnReorderCallback){this.s.dropCallback=this.s.init.fnReorderCallback}for(o=0;o<k;o++){if(o>this.s.fixed-1&&o<k-this.s.fixedRight){this._fnMouseListener(o,this.s.dt.aoColumns[o].nTh)}this.s.dt.aoColumns[o]._ColReorder_iOrigCol=o}this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(q,r){p._fnStateSave.call(p,r)},"ColReorder_State");var l=null;if(this.s.init.aiOrder){l=this.s.init.aiOrder.slice()}if(this.s.dt.oLoadedState&&typeof this.s.dt.oLoadedState.ColReorder!="undefined"&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length){l=this.s.dt.oLoadedState.ColReorder}if(l){if(!p.s.dt._bInitComplete){var n=false;this.s.dt.aoDrawCallback.push({fn:function(){if(!p.s.dt._bInitComplete&&!n){n=true;var q=f(l);p._fnOrderColumns.call(p,q)}},sName:"ColReorder_Pre"})}else{var m=f(l);p._fnOrderColumns.call(p,m)}}else{this._fnSetColumnIndexes()}},_fnOrderColumns:function(l){if(l.length!=this.s.dt.aoColumns.length){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");return}for(var m=0,k=l.length;m<k;m++){var n=j.inArray(m,l);if(m!=n){d(l,n,m);this.s.dt.oInstance.fnColReorder(n,m)}}if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing()}this.s.dt.oInstance.oApi._fnSaveState(this.s.dt);this._fnSetColumnIndexes()},_fnStateSave:function(l){var m,k,n,o;var q=this.s.dt;for(m=0;m<l.aaSorting.length;m++){l.aaSorting[m][0]=q.aoColumns[l.aaSorting[m][0]]._ColReorder_iOrigCol}var p=j.extend(true,[],l.aoSearchCols);l.ColReorder=[];for(m=0,k=q.aoColumns.length;m<k;m++){o=q.aoColumns[m]._ColReorder_iOrigCol;l.aoSearchCols[o]=p[m];l.abVisCols[o]=q.aoColumns[m].bVisible;l.ColReorder.push(o)}},_fnMouseListener:function(k,m){var l=this;j(m).on("mousedown.ColReorder",function(n){n.preventDefault();l._fnMouseDown.call(l,n,m)})},_fnMouseDown:function(o,n){var l=this;var m=j(o.target).closest("th, td");var p=m.offset();var k=parseInt(j(n).attr("data-column-index"),10);if(k===g){return}this.s.mouse.startX=o.pageX;this.s.mouse.startY=o.pageY;this.s.mouse.offsetX=o.pageX-p.left;this.s.mouse.offsetY=o.pageY-p.top;this.s.mouse.target=this.s.dt.aoColumns[k].nTh;this.s.mouse.targetIndex=k;this.s.mouse.fromIndex=k;this._fnRegions();j(a).on("mousemove.ColReorder",function(q){l._fnMouseMove.call(l,q)}).on("mouseup.ColReorder",function(q){l._fnMouseUp.call(l,q)})},_fnMouseMove:function(o){var n=this;if(this.dom.drag===null){if(Math.pow(Math.pow(o.pageX-this.s.mouse.startX,2)+Math.pow(o.pageY-this.s.mouse.startY,2),0.5)<5){return}this._fnCreateDragNode()}this.dom.drag.css({left:o.pageX-this.s.mouse.offsetX,top:o.pageY-this.s.mouse.offsetY});var p=false;var l=this.s.mouse.toIndex;for(var m=1,k=this.s.aoTargets.length;m<k;m++){if(o.pageX<this.s.aoTargets[m-1].x+((this.s.aoTargets[m].x-this.s.aoTargets[m-1].x)/2)){this.dom.pointer.css("left",this.s.aoTargets[m-1].x);this.s.mouse.toIndex=this.s.aoTargets[m-1].to;p=true;break}}if(!p){this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x);this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to}if(this.s.init.bRealtime&&l!==this.s.mouse.toIndex){this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex);this.s.mouse.fromIndex=this.s.mouse.toIndex;this._fnRegions()}},_fnMouseUp:function(l){var k=this;j(a).off("mousemove.ColReorder mouseup.ColReorder");if(this.dom.drag!==null){this.dom.drag.remove();this.dom.pointer.remove();this.dom.drag=null;this.dom.pointer=null;this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex);this._fnSetColumnIndexes();if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing()}if(this.s.dropCallback!==null){this.s.dropCallback.call(this)}this.s.dt.oInstance.oApi._fnSaveState(this.s.dt)}},_fnRegions:function(){var l=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length);this.s.aoTargets.push({x:j(this.s.dt.nTable).offset().left,to:0});var n=0;for(var m=0,k=l.length;m<k;m++){if(m!=this.s.mouse.fromIndex){n++}if(l[m].bVisible){this.s.aoTargets.push({x:j(l[m].nTh).offset().left+j(l[m].nTh).outerWidth(),to:n})}}if(this.s.fixedRight!==0){this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight)}if(this.s.fixed!==0){this.s.aoTargets.splice(0,this.s.fixed)}},_fnCreateDragNode:function(){var p=this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!=="";var m=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh;var l=m.parentNode;var n=l.parentNode;var k=n.parentNode;var o=j(m).clone();this.dom.drag=j(k.cloneNode(false)).addClass("DTCR_clonedTable").append(n.cloneNode(false).appendChild(l.cloneNode(false).appendChild(o[0]))).css({position:"absolute",top:0,left:0,width:j(m).outerWidth(),height:j(m).outerHeight()}).appendTo("body");this.dom.pointer=j("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:p?j("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:j(this.s.dt.nTable).offset().top,height:p?j("div.dataTables_scroll",this.s.dt.nTableWrapper).height():j(this.s.dt.nTable).height()}).appendTo("body")},_fnDestroy:function(){var l,k;for(l=0,k=this.s.dt.aoDrawCallback.length;l<k;l++){if(this.s.dt.aoDrawCallback[l].sName==="ColReorder_Pre"){this.s.dt.aoDrawCallback.splice(l,1);break}}j(this.s.dt.nTHead).find("*").off(".ColReorder");j.each(this.s.dt.aoColumns,function(m,n){j(n.nTh).removeAttr("data-column-index")});this.s.dt._colReorder=null;this.s=null},_fnSetColumnIndexes:function(){j.each(this.s.dt.aoColumns,function(k,l){j(l.nTh).attr("data-column-index",k)})}};h.defaults={aiOrder:null,bRealtime:false,iFixedColumns:0,iFixedColumnsRight:0,fnReorderCallback:null};h.version="1.1.1";j.fn.dataTable.ColReorder=h;j.fn.DataTable.ColReorder=h;if(typeof j.fn.dataTable=="function"&&typeof j.fn.dataTableExt.fnVersionCheck=="function"&&j.fn.dataTableExt.fnVersionCheck("1.9.3")){j.fn.dataTableExt.aoFeatures.push({fnInit:function(k){var m=k.oInstance;if(!k._colReorder){var n=k.oInit;var l=n.colReorder||n.oColReorder||{};new h(k,l)}else{m.oApi._fnLog(k,1,"ColReorder attempted to initialise twice. Ignoring second")}return null},cFeature:"R",sFeature:"ColReorder"})}else{alert("Warning: ColReorder requires DataTables 1.9.3 or greater - www.datatables.net/download")}if(j.fn.dataTable.Api){j.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(k){k._colReorder.fnReset()})});j.fn.dataTable.Api.register("colReorder.order()",function(k){if(k){return this.iterator("table",function(l){l._colReorder.fnOrder(k)})}return this.context.length?this.context[0]._colReorder.fnOrder():null})}return h};if(typeof define==="function"&&define.amd){define("datatables-colreorder",["jquery","datatables"],c)}else{if(jQuery&&!jQuery.fn.dataTable.ColReorder){c(jQuery,jQuery.fn.dataTable)}}})(window,document);
/*! ColVis 1.1.0
 * ©2010-2014 SpryMedia Ltd - datatables.net/license
 */
(function(c,a,d){var b=function(g,f){var e=function(i,h){if(!this.CLASS||this.CLASS!="ColVis"){alert("Warning: ColVis must be initialised with the keyword 'new'")}if(typeof h=="undefined"){h={}}if(g.fn.dataTable.camelToHungarian){g.fn.dataTable.camelToHungarian(e.defaults,h)}this.s={dt:null,oInit:h,hidden:true,abOriginal:[]};this.dom={wrapper:null,button:null,collection:null,background:null,catcher:null,buttons:[],groupButtons:[],restore:null};e.aInstances.push(this);this.s.dt=g.fn.dataTable.Api?new g.fn.dataTable.Api(i).settings()[0]:i;this._fnConstruct(h);return this};e.prototype={button:function(){return this.dom.wrapper},fnRebuild:function(){this.rebuild()},rebuild:function(){for(var h=this.dom.buttons.length-1;h>=0;h--){this.dom.collection.removeChild(this.dom.buttons[h])}this.dom.buttons.splice(0,this.dom.buttons.length);if(this.dom.restore){this.dom.restore.parentNode(this.dom.restore)}this._fnAddGroups();this._fnAddButtons();this._fnDrawCallback()},_fnConstruct:function(l){this._fnApplyCustomisation(l);var k=this;var j,h;this.dom.wrapper=a.createElement("div");this.dom.wrapper.className="ColVis";this.dom.button=g("<button />",{"class":!this.s.dt.bJUI?"ColVis_Button ColVis_MasterButton":"ColVis_Button ColVis_MasterButton ui-button ui-state-default"}).append("<span>"+this.s.buttonText+"</span>").bind(this.s.activate=="mouseover"?"mouseover":"click",function(i){i.preventDefault();k._fnCollectionShow()}).appendTo(this.dom.wrapper)[0];this.dom.catcher=this._fnDomCatcher();this.dom.collection=this._fnDomCollection();this.dom.background=this._fnDomBackground();this._fnAddGroups();this._fnAddButtons();for(j=0,h=this.s.dt.aoColumns.length;j<h;j++){this.s.abOriginal.push(this.s.dt.aoColumns[j].bVisible)}this.s.dt.aoDrawCallback.push({fn:function(){k._fnDrawCallback.call(k)},sName:"ColVis"});g(this.s.dt.oInstance).bind("column-reorder",function(o,n,m){for(j=0,h=k.s.aiExclude.length;j<h;j++){k.s.aiExclude[j]=m.aiInvertMapping[k.s.aiExclude[j]]}var i=k.s.abOriginal.splice(m.iFrom,1)[0];k.s.abOriginal.splice(m.iTo,0,i);k.fnRebuild()});this._fnDrawCallback()},_fnApplyCustomisation:function(m){g.extend(true,this.s,e.defaults,m);if(!this.s.showAll&&this.s.bShowAll){this.s.showAll=this.s.sShowAll}if(!this.s.restore&&this.s.bRestore){this.s.restore=this.s.sRestore}var h=this.s.groups;var l=this.s.aoGroups;if(h){for(var k=0,j=h.length;k<j;k++){if(h[k].title){l[k].sTitle=h[k].title}if(h[k].columns){l[k].aiColumns=h[k].columns}}}},_fnDrawCallback:function(){var k=this.s.dt.aoColumns;var o=this.dom.buttons;var h=this.s.aoGroups;var n;for(var m=0,r=o.length;m<r;m++){n=o[m];if(n.__columnIdx!==d){g("input",n).prop("checked",k[n.__columnIdx].bVisible)}}var q=function(t){for(var i=0,j=t.length;i<j;i++){if(k[t[i]].bVisible===false){return false}}return true};var p=function(j){for(var i=0,t=j.length;i<t;i++){if(k[j[i]].bVisible===true){return false}}return true};for(var l=0,s=h.length;l<s;l++){if(q(h[l].aiColumns)){g("input",this.dom.groupButtons[l]).prop("checked",true);g("input",this.dom.groupButtons[l]).prop("indeterminate",false)}else{if(p(h[l].aiColumns)){g("input",this.dom.groupButtons[l]).prop("checked",false);g("input",this.dom.groupButtons[l]).prop("indeterminate",false)}else{g("input",this.dom.groupButtons[l]).prop("indeterminate",true)}}}},_fnAddGroups:function(){var k;if(typeof this.s.aoGroups!="undefined"){for(var j=0,h=this.s.aoGroups.length;j<h;j++){k=this._fnDomGroupButton(j);this.dom.groupButtons.push(k);this.dom.buttons.push(k);this.dom.collection.appendChild(k)}}},_fnAddButtons:function(){var l,k=this.s.dt.aoColumns;if(g.inArray("all",this.s.aiExclude)===-1){for(var j=0,h=k.length;j<h;j++){if(g.inArray(j,this.s.aiExclude)===-1){l=this._fnDomColumnButton(j);l.__columnIdx=j;this.dom.buttons.push(l)}}}if(this.s.order==="alpha"){this.dom.buttons.sort(function(m,i){var o=k[m.__columnIdx].sTitle;var n=k[i.__columnIdx].sTitle;return o===n?0:o<n?-1:1})}if(this.s.restore){l=this._fnDomRestoreButton();l.className+=" ColVis_Restore";this.dom.buttons.push(l)}if(this.s.showAll){l=this._fnDomShowAllButton();l.className+=" ColVis_ShowAll";this.dom.buttons.push(l)}g(this.dom.collection).append(this.dom.buttons)},_fnDomRestoreButton:function(){var i=this,h=this.s.dt;return g('<li class="ColVis_Special '+(h.bJUI?"ui-button ui-state-default":"")+'">'+this.s.restore+"</li>").click(function(l){for(var k=0,j=i.s.abOriginal.length;k<j;k++){i.s.dt.oInstance.fnSetColumnVis(k,i.s.abOriginal[k],false)}i._fnAdjustOpenRows();i.s.dt.oInstance.fnAdjustColumnSizing(false);i.s.dt.oInstance.fnDraw(false)})[0]},_fnDomShowAllButton:function(){var i=this,h=this.s.dt;return g('<li class="ColVis_Special '+(h.bJUI?"ui-button ui-state-default":"")+'">'+this.s.showAll+"</li>").click(function(l){for(var k=0,j=i.s.abOriginal.length;k<j;k++){if(i.s.aiExclude.indexOf(k)===-1){i.s.dt.oInstance.fnSetColumnVis(k,true,false)}}i._fnAdjustOpenRows();i.s.dt.oInstance.fnAdjustColumnSizing(false);i.s.dt.oInstance.fnDraw(false)})[0]},_fnDomGroupButton:function(j){var l=this,k=this.s.dt,h=this.s.aoGroups[j];return g('<li class="ColVis_Special '+(k.bJUI?"ui-button ui-state-default":"")+'"><label><input type="checkbox" /><span>'+h.sTitle+"</span></label></li>").click(function(m){var n=!g("input",this).is(":checked");if(m.target.nodeName.toLowerCase()!=="li"){n=!n}for(var i=0;i<h.aiColumns.length;i++){l.s.dt.oInstance.fnSetColumnVis(h.aiColumns[i],n)}})[0]},_fnDomColumnButton:function(h){var l=this,j=this.s.dt.aoColumns[h],k=this.s.dt;var m=this.s.fnLabel===null?j.sTitle:this.s.fnLabel(h,j.sTitle,j.nTh);return g("<li "+(k.bJUI?'class="ui-button ui-state-default"':"")+'><label><input type="checkbox" /><span>'+m+"</span></label></li>").click(function(i){var n=!g("input",this).is(":checked");if(i.target.nodeName.toLowerCase()!=="li"){n=!n}var o=g.fn.dataTableExt.iApiIndex;g.fn.dataTableExt.iApiIndex=l._fnDataTablesApiIndex.call(l);if(k.oFeatures.bServerSide){l.s.dt.oInstance.fnSetColumnVis(h,n,false);l.s.dt.oInstance.fnAdjustColumnSizing(false);if(k.oScroll.sX!==""||k.oScroll.sY!==""){l.s.dt.oInstance.oApi._fnScrollDraw(l.s.dt)}l._fnDrawCallback()}else{l.s.dt.oInstance.fnSetColumnVis(h,n)}g.fn.dataTableExt.iApiIndex=o;if(l.s.fnStateChange!==null){l.s.fnStateChange.call(l,h,n)}})[0]},_fnDataTablesApiIndex:function(){for(var j=0,h=this.s.dt.oInstance.length;j<h;j++){if(this.s.dt.oInstance[j]==this.s.dt.nTable){return j}}return 0},_fnDomCollection:function(){return g("<ul />",{"class":!this.s.dt.bJUI?"ColVis_collection":"ColVis_collection ui-buttonset ui-buttonset-multi"}).css({display:"none",opacity:0,position:!this.s.bCssPosition?"absolute":""})[0]},_fnDomCatcher:function(){var i=this,h=a.createElement("div");h.className="ColVis_catcher";g(h).click(function(){i._fnCollectionHide.call(i,null,null)});return h},_fnDomBackground:function(){var i=this;var h=g("<div></div>").addClass("ColVis_collectionBackground").css("opacity",0).click(function(){i._fnCollectionHide.call(i,null,null)});if(this.s.activate=="mouseover"){h.mouseover(function(){i.s.overcollection=false;i._fnCollectionHide.call(i,null,null)})}return h[0]},_fnCollectionShow:function(){var q=this,o,m,p;var s=g(this.dom.button).offset();var n=this.dom.collection;var k=this.dom.background;var j=parseInt(s.left,10);var h=parseInt(s.top+g(this.dom.button).outerHeight(),10);if(!this.s.bCssPosition){n.style.top=h+"px";n.style.left=j+"px"}g(n).css({display:"block",opacity:0});k.style.bottom="0px";k.style.right="0px";var u=this.dom.catcher.style;u.height=g(this.dom.button).outerHeight()+"px";u.width=g(this.dom.button).outerWidth()+"px";u.top=s.top+"px";u.left=j+"px";a.body.appendChild(k);a.body.appendChild(n);a.body.appendChild(this.dom.catcher);g(n).animate({opacity:1},q.s.iOverlayFade);g(k).animate({opacity:0.1},q.s.iOverlayFade,"linear",function(){if(g.browser&&g.browser.msie&&g.browser.version=="6.0"){q._fnDrawCallback()}});if(!this.s.bCssPosition){p=(this.s.sAlign=="left")?j:j-g(n).outerWidth()+g(this.dom.button).outerWidth();n.style.left=p+"px";var l=g(n).outerWidth();var t=g(n).outerHeight();var r=g(a).width();if(p+l>r){n.style.left=(r-l)+"px"}}this.s.hidden=false},_fnCollectionHide:function(){var h=this;if(!this.s.hidden&&this.dom.collection!==null){this.s.hidden=true;g(this.dom.collection).animate({opacity:0},h.s.iOverlayFade,function(i){this.style.display="none"});g(this.dom.background).animate({opacity:0},h.s.iOverlayFade,function(i){a.body.removeChild(h.dom.background);a.body.removeChild(h.dom.catcher)})}},_fnAdjustOpenRows:function(){var l=this.s.dt.aoOpenRows;var j=this.s.dt.oApi._fnVisbleColumns(this.s.dt);for(var k=0,h=l.length;k<h;k++){l[k].nTr.getElementsByTagName("td")[0].colSpan=j}}};e.fnRebuild=function(j){var k=null;if(typeof j!="undefined"){k=j.fnSettings().nTable}for(var l=0,h=e.aInstances.length;l<h;l++){if(typeof j=="undefined"||k==e.aInstances[l].s.dt.nTable){e.aInstances[l].fnRebuild()}}};e.defaults={active:"click",buttonText:"Show / hide columns",aiExclude:[],bRestore:false,sRestore:"Restore original",bShowAll:false,sShowAll:"Show All",sAlign:"left",fnStateChange:null,iOverlayFade:500,fnLabel:null,bCssPosition:false,aoGroups:[],order:"column"};e.aInstances=[];e.prototype.CLASS="ColVis";e.VERSION="1.1.0";e.prototype.VERSION=e.VERSION;if(typeof g.fn.dataTable=="function"&&typeof g.fn.dataTableExt.fnVersionCheck=="function"&&g.fn.dataTableExt.fnVersionCheck("1.7.0")){g.fn.dataTableExt.aoFeatures.push({fnInit:function(j){var h=j.oInit;var i=new e(j,h.colVis||h.oColVis||{});return i.button()},cFeature:"C",sFeature:"ColVis"})}else{alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download")}g.fn.dataTable.ColVis=e;g.fn.DataTable.ColVis=e;return e};if(typeof define==="function"&&define.amd){define("datatables-colvis",["jquery","datatables"],b)}else{if(jQuery&&!jQuery.fn.dataTable.ColVis){b(jQuery,jQuery.fn.dataTable)}}})(window,document);
$.extend(true,$.fn.dataTable.defaults,{sDom:"<'dt-toolbar'<'col-xs-12 col-sm-6'f><'col-xs-12 col-sm-6'l>r>t<'dt-toolbar-footer'<'col-xs-12 col-sm-6'i><'col-xs-12 col-sm-6'p>>",oLanguage:{sLengthMenu:"_MENU_",sSearch:"",sInfo:"Showing <span class='txt-color-darken'>_START_</span> to <span class='txt-color-darken'>_END_</span> of <span class='text-primary'>_TOTAL_</span> entries",sInfoEmpty:"<span class='text-danger'>Showing 0 to 0 of 0 entries</span>",sSearch:"<span class='input-group-addon'><i class='glyphicon glyphicon-search'></i></span> "}});$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control",sLengthSelect:"form-control"});if($.fn.dataTable.Api){$.fn.dataTable.defaults.renderer="bootstrap";$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(e,l,k,j,i,d){var h=new $.fn.dataTable.Api(e);var f=e.oClasses;var c=e.oLanguage.oPaginate;var b,a;var g=function(n,r){var p,m,q,o;var s=function(t){t.preventDefault();if(t.data.action!=="ellipsis"){h.page(t.data.action).draw(false)}};for(p=0,m=r.length;p<m;p++){o=r[p];if($.isArray(o)){g(n,o)}else{b="";a="";switch(o){case"ellipsis":b="&hellip;";a="disabled";break;case"first":b=c.sFirst;a=o+(i>0?"":" disabled");break;case"previous":b=c.sPrevious;a=o+(i>0?"":" disabled");break;case"next":b=c.sNext;a=o+(i<d-1?"":" disabled");break;case"last":b=c.sLast;a=o+(i<d-1?"":" disabled");break;default:b=o+1;a=i===o?"active":"";break}if(b){q=$("<li>",{"class":f.sPageButton+" "+a,"aria-controls":e.sTableId,tabindex:e.iTabIndex,id:k===0&&typeof o==="string"?e.sTableId+"_"+o:null}).append($("<a>",{href:"#"}).html(b)).appendTo(n);e.oApi._fnBindAction(q,{action:o},s)}}}};g($(l).empty().html('<ul class="pagination pagination-sm"/>').children("ul"),j)}}else{$.fn.dataTable.defaults.sPaginationType="bootstrap";$.fn.dataTableExt.oApi.fnPagingInfo=function(a){return{iStart:a._iDisplayStart,iEnd:a.fnDisplayEnd(),iLength:a._iDisplayLength,iTotal:a.fnRecordsTotal(),iFilteredTotal:a.fnRecordsDisplay(),iPage:a._iDisplayLength===-1?0:Math.ceil(a._iDisplayStart/a._iDisplayLength),iTotalPages:a._iDisplayLength===-1?0:Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength)}};$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,b,d){var a=e.oLanguage.oPaginate;var f=function(g){g.preventDefault();if(e.oApi._fnPageChange(e,g.data.action)){d(e)}};$(b).append('<ul class="pagination pagination-sm"><li class="prev disabled"><a href="#">&larr; '+a.sPrevious+'</a></li><li class="next disabled"><a href="#">'+a.sNext+" &rarr; </a></li></ul>");var c=$("a",b);$(c[0]).bind("click.DT",{action:"previous"},f);$(c[1]).bind("click.DT",{action:"next"},f)},fnUpdate:function(c,k){var l=5;var e=c.oInstance.fnPagingInfo();var h=c.aanFeatures.p;var g,m,f,d,a,n,b=Math.floor(l/2);if(e.iTotalPages<l){a=1;n=e.iTotalPages}else{if(e.iPage<=b){a=1;n=l}else{if(e.iPage>=(e.iTotalPages-b)){a=e.iTotalPages-l+1;n=e.iTotalPages}else{a=e.iPage-b+1;n=a+l-1}}}for(g=0,m=h.length;g<m;g++){$("li:gt(0)",h[g]).filter(":not(:last)").remove();for(f=a;f<=n;f++){d=(f==e.iPage+1)?'class="active"':"";$("<li "+d+'><a href="#">'+f+"</a></li>").insertBefore($("li:last",h[g])[0]).bind("click",function(i){i.preventDefault();c._iDisplayStart=(parseInt($("a",this).text(),10)-1)*e.iLength;k(c)})}if(e.iPage===0){$("li:first",h[g]).addClass("disabled")}else{$("li:first",h[g]).removeClass("disabled")}if(e.iPage===e.iTotalPages-1||e.iTotalPages===0){$("li:last",h[g]).addClass("disabled")}else{$("li:last",h[g]).removeClass("disabled")}}}}})}if($.fn.DataTable.TableTools){$.extend(true,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}});$.extend(true,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})};
/*! TableTools 2.2.1
 * 2009-2014 SpryMedia Ltd - datatables.net/license
 *
 * ZeroClipboard 1.0.4
 * Author: Joseph Huckaby - MIT licensed
 */
var TableTools;(function(c,a,d){var b=function(g,f){var e={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(h){if(typeof(h)=="string"){h=a.getElementById(h)}if(!h.addClass){h.hide=function(){this.style.display="none"};h.show=function(){this.style.display=""};h.addClass=function(i){this.removeClass(i);this.className+=" "+i};h.removeClass=function(i){this.className=this.className.replace(new RegExp("\\s*"+i+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")};h.hasClass=function(i){return !!this.className.match(new RegExp("\\s*"+i+"\\s*"))}}return h},setMoviePath:function(h){this.moviePath=h},dispatch:function(k,i,j){var h=this.clients[k];if(h){h.receiveEvent(i,j)}},register:function(i,h){this.clients[i]=h},getDOMObjectPosition:function(i){var h={left:0,top:0,width:i.width?i.width:i.offsetWidth,height:i.height?i.height:i.offsetHeight};if(i.style.width!==""){h.width=i.style.width.replace("px","")}if(i.style.height!==""){h.height=i.style.height.replace("px","")}while(i){h.left+=i.offsetLeft;h.top+=i.offsetTop;i=i.offsetParent}return h},Client:function(h){this.handlers={};this.id=e.nextId++;this.movieId="ZeroClipboard_TableToolsMovie_"+this.id;e.register(this.id,this);if(h){this.glue(h)}}};e.Client.prototype={id:0,ready:false,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:true,cssEffects:true,handlers:null,sized:false,glue:function(j,k){this.domElement=e.$(j);var l=99;if(this.domElement.style.zIndex){l=parseInt(this.domElement.style.zIndex,10)+1}var i=e.getDOMObjectPosition(this.domElement);this.div=a.createElement("div");var h=this.div.style;h.position="absolute";h.left="0px";h.top="0px";h.width=(i.width)+"px";h.height=i.height+"px";h.zIndex=l;if(typeof k!="undefined"&&k!==""){this.div.title=k}if(i.width!==0&&i.height!==0){this.sized=true}if(this.domElement){this.domElement.appendChild(this.div);this.div.innerHTML=this.getHTML(i.width,i.height).replace(/&/g,"&amp;")}},positionElement:function(){var j=e.getDOMObjectPosition(this.domElement);var i=this.div.style;i.position="absolute";i.width=j.width+"px";i.height=j.height+"px";if(j.width!==0&&j.height!==0){this.sized=true}else{return}var h=this.div.childNodes[0];h.width=j.width;h.height=j.height},getHTML:function(k,h){var j="";var i="id="+this.id+"&width="+k+"&height="+h;if(navigator.userAgent.match(/MSIE/)){var l=location.href.match(/^https/i)?"https://":"http://";j+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+l+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+k+'" height="'+h+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+e.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>'}else{j+='<embed id="'+this.movieId+'" src="'+e.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+k+'" height="'+h+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />'}return j},hide:function(){if(this.div){this.div.style.left="-2000px"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var h=a.getElementsByTagName("body")[0];try{h.removeChild(this.div)}catch(i){}this.domElement=null;this.div=null}},reposition:function(j){if(j){this.domElement=e.$(j);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var i=e.getDOMObjectPosition(this.domElement);var h=this.div.style;h.left=""+i.left+"px";h.top=""+i.top+"px"}},clearText:function(){this.clipText="";if(this.ready){this.movie.clearText()}},appendText:function(h){this.clipText+=h;if(this.ready){this.movie.appendText(h)}},setText:function(h){this.clipText=h;if(this.ready){this.movie.setText(h)}},setCharSet:function(h){this.charSet=h;if(this.ready){this.movie.setCharSet(h)}},setBomInc:function(h){this.incBom=h;if(this.ready){this.movie.setBomInc(h)}},setFileName:function(h){this.fileName=h;if(this.ready){this.movie.setFileName(h)}},setAction:function(h){this.action=h;if(this.ready){this.movie.setAction(h)}},addEventListener:function(h,i){h=h.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[h]){this.handlers[h]=[]}this.handlers[h].push(i)},setHandCursor:function(h){this.handCursorEnabled=h;if(this.ready){this.movie.setHandCursor(h)}},setCSSEffects:function(h){this.cssEffects=!!h},receiveEvent:function(k,l){var j;k=k.toString().toLowerCase().replace(/^on/,"");switch(k){case"load":this.movie=a.getElementById(this.movieId);if(!this.movie){j=this;setTimeout(function(){j.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){j=this;setTimeout(function(){j.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;this.movie.clearText();this.movie.appendText(this.clipText);this.movie.setFileName(this.fileName);this.movie.setAction(this.action);this.movie.setCharSet(this.charSet);this.movie.setBomInc(this.incBom);this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":if(this.domElement&&this.cssEffects){if(this.recoverActive){this.domElement.addClass("active")}}break;case"mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}}break;case"mousedown":if(this.domElement&&this.cssEffects){this.domElement.addClass("active")}break;case"mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[k]){for(var i=0,h=this.handlers[k].length;i<h;i++){var m=this.handlers[k][i];if(typeof(m)=="function"){m(this,l)}else{if((typeof(m)=="object")&&(m.length==2)){m[0][m[1]](this,l)}else{if(typeof(m)=="string"){c[m](this,l)}}}}}}};c.ZeroClipboard_TableTools=e;(function(j,i,h){TableTools=function(k,m){if(!this instanceof TableTools){alert("Warning: TableTools must be initialised with the keyword 'new'")}var l=j.fn.dataTable.Api?new j.fn.dataTable.Api(k).settings()[0]:k.fnSettings();this.s={that:this,dt:l,print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:false,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:false,tags:{}};this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}};this.classes=j.extend(true,{},TableTools.classes);if(this.s.dt.bJUI){j.extend(true,this.classes,TableTools.classes_themeroller)}this.fnSettings=function(){return this.s};if(typeof m=="undefined"){m={}}this._fnConstruct(m);return this};TableTools.prototype={fnGetSelected:function(m){var l=[],p=this.s.dt.aoData,o=this.s.dt.aiDisplay,n,k;if(m){for(n=0,k=o.length;n<k;n++){if(p[o[n]]._DTTT_selected){l.push(p[o[n]].nTr)}}}else{for(n=0,k=p.length;n<k;n++){if(p[n]._DTTT_selected){l.push(p[n].nTr)}}}return l},fnGetSelectedData:function(){var l=[];var n=this.s.dt.aoData;var m,k;for(m=0,k=n.length;m<k;m++){if(n[m]._DTTT_selected){l.push(this.s.dt.oInstance.fnGetData(m))}}return l},fnIsSelected:function(l){var k=this.s.dt.oInstance.fnGetPosition(l);return(this.s.dt.aoData[k]._DTTT_selected===true)?true:false},fnSelectAll:function(k){var l=this._fnGetMasterSettings();this._fnRowSelect((k===true)?l.dt.aiDisplay:l.dt.aoData)},fnSelectNone:function(k){var l=this._fnGetMasterSettings();this._fnRowDeselect(this.fnGetSelected(k))},fnSelect:function(k){if(this.s.select.type=="single"){this.fnSelectNone();this._fnRowSelect(k)}else{this._fnRowSelect(k)}},fnDeselect:function(k){this._fnRowDeselect(k)},fnGetTitle:function(m){var k="";if(typeof m.sTitle!="undefined"&&m.sTitle!==""){k=m.sTitle}else{var l=h.getElementsByTagName("title");if(l.length>0){k=l[0].innerHTML}}if("\u00A1".toString().length<4){return k.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"")}else{return k.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")}},fnCalcColRatios:function(p){var o=this.s.dt.aoColumns,l=this._fnColumnTargets(p.mColumns),n=[],q=0,r=0,m,k;for(m=0,k=l.length;m<k;m++){if(l[m]){q=o[m].nTh.offsetWidth;r+=q;n.push(q)}}for(m=0,k=n.length;m<k;m++){n[m]=n[m]/r}return n.join("\t")},fnGetTableData:function(k){if(this.s.dt){return this._fnGetDataTablesData(k)}},fnSetText:function(k,l){this._fnFlashSetText(k,l)},fnResizeButtons:function(){for(var k in e.clients){if(k){var l=e.clients[k];if(typeof l.domElement!="undefined"&&l.domElement.parentNode){l.positionElement()}}}},fnResizeRequired:function(){for(var k in e.clients){if(k){var l=e.clients[k];if(typeof l.domElement!="undefined"&&l.domElement.parentNode==this.dom.container&&l.sized===false){return true}}}return false},fnPrint:function(k,l){if(l===d){l={}}if(k===d||k){this._fnPrintStart(l)}else{this._fnPrintEnd()}},fnInfo:function(k,m){var l=j("<div/>").addClass(this.classes.print.info).html(k).appendTo("body");setTimeout(function(){l.fadeOut("normal",function(){l.remove()})},m)},fnContainer:function(){return this.dom.container},_fnConstruct:function(l){var k=this;this._fnCustomiseSettings(l);this.dom.container=h.createElement(this.s.tags.container);this.dom.container.className=this.classes.container;if(this.s.select.type!="none"){this._fnRowSelectConfig()}this._fnButtonDefinations(this.s.buttonSet,this.dom.container);this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){j(k.s.dt.nTBody).off("click.DTTT_Select","tr");j(k.dom.container).empty();var m=j.inArray(k,TableTools._aInstances);if(m!==-1){TableTools._aInstances.splice(m,1)}}})},_fnCustomiseSettings:function(k){if(typeof this.s.dt._TableToolsInit=="undefined"){this.s.master=true;this.s.dt._TableToolsInit=true}this.dom.table=this.s.dt.nTable;this.s.custom=j.extend({},TableTools.DEFAULTS,k);this.s.swfPath=this.s.custom.sSwfPath;if(typeof e!="undefined"){e.moviePath=this.s.swfPath}this.s.select.type=this.s.custom.sRowSelect;this.s.select.preRowSelect=this.s.custom.fnPreRowSelect;this.s.select.postSelected=this.s.custom.fnRowSelected;this.s.select.postDeselected=this.s.custom.fnRowDeselected;if(this.s.custom.sSelectedClass){this.classes.select.row=this.s.custom.sSelectedClass}this.s.tags=this.s.custom.oTags;this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(n,q){var l;for(var m=0,k=n.length;m<k;m++){if(typeof n[m]=="string"){if(typeof TableTools.BUTTONS[n[m]]=="undefined"){alert("TableTools: Warning - unknown button type: "+n[m]);continue}l=j.extend({},TableTools.BUTTONS[n[m]],true)}else{if(typeof TableTools.BUTTONS[n[m].sExtends]=="undefined"){alert("TableTools: Warning - unknown button type: "+n[m].sExtends);continue}var p=j.extend({},TableTools.BUTTONS[n[m].sExtends],true);l=j.extend(p,n[m],true)}q.appendChild(this._fnCreateButton(l,j(q).hasClass(this.classes.collection.container)))}},_fnCreateButton:function(m,k){var l=this._fnButtonBase(m,k);if(m.sAction.match(/flash/)){this._fnFlashConfig(l,m)}else{if(m.sAction=="text"){this._fnTextConfig(l,m)}else{if(m.sAction=="div"){this._fnTextConfig(l,m)}else{if(m.sAction=="collection"){this._fnTextConfig(l,m);this._fnCollectionConfig(l,m)}}}}return l},_fnButtonBase:function(r,l){var m,p,s;if(l){m=r.sTag&&r.sTag!=="default"?r.sTag:this.s.tags.collection.button;p=r.sLinerTag&&r.sLinerTag!=="default"?r.sLiner:this.s.tags.collection.liner;s=this.classes.collection.buttons.normal}else{m=r.sTag&&r.sTag!=="default"?r.sTag:this.s.tags.button;p=r.sLinerTag&&r.sLinerTag!=="default"?r.sLiner:this.s.tags.liner;s=this.classes.buttons.normal}var n=h.createElement(m),k=h.createElement(p),q=this._fnGetMasterSettings();n.className=s+" "+r.sButtonClass;n.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+q.buttonCounter);n.appendChild(k);k.innerHTML=r.sButtonText;q.buttonCounter++;return n},_fnGetMasterSettings:function(){if(this.s.master){return this.s}else{var m=TableTools._aInstances;for(var l=0,k=m.length;l<k;l++){if(this.dom.table==m[l].s.dt.nTable){return m[l].s}}}},_fnCollectionConfig:function(k,l){var m=h.createElement(this.s.tags.collection.container);m.style.display="none";m.className=this.classes.collection.container;l._collection=m;h.body.appendChild(m);this._fnButtonDefinations(l.aButtons,m)},_fnCollectionShow:function(o,r){var u=this,w=j(o).offset(),p=r._collection,l=w.left,k=w.top+j(o).outerHeight(),t=j(i).height(),q=j(h).height(),s=j(i).width(),v=j(h).width();p.style.position="absolute";p.style.left=l+"px";p.style.top=k+"px";p.style.display="block";j(p).css("opacity",0);var m=h.createElement("div");m.style.position="absolute";m.style.left="0px";m.style.top="0px";m.style.height=((t>q)?t:q)+"px";m.style.width=((s>v)?s:v)+"px";m.className=this.classes.collection.background;j(m).css("opacity",0);h.body.appendChild(m);h.body.appendChild(p);var n=j(p).outerWidth();var x=j(p).outerHeight();if(l+n>v){p.style.left=(v-n)+"px"}if(k+x>q){p.style.top=(k-x-j(o).outerHeight())+"px"}this.dom.collection.collection=p;this.dom.collection.background=m;setTimeout(function(){j(p).animate({opacity:1},500);j(m).animate({opacity:0.25},500)},10);this.fnResizeButtons();j(m).click(function(){u._fnCollectionHide.call(u,null,null)})},_fnCollectionHide:function(k,l){if(l!==null&&l.sExtends=="collection"){return}if(this.dom.collection.collection!==null){j(this.dom.collection.collection).animate({opacity:0},500,function(m){this.style.display="none"});j(this.dom.collection.background).animate({opacity:0},500,function(m){this.parentNode.removeChild(this)});this.dom.collection.collection=null;this.dom.collection.background=null}},_fnRowSelectConfig:function(){if(this.s.master){var n=this,l,k,m=this.s.dt,o=this.s.dt.aoOpenRows;j(m.nTable).addClass(this.classes.select.table);if(this.s.select.type==="os"){j(m.nTBody).on("mousedown.DTTT_Select","tr",function(p){if(p.shiftKey){j(m.nTBody).css("-moz-user-select","none").one("selectstart.DTTT_Select","tr",function(){return false})}});j(m.nTBody).on("mouseup.DTTT_Select","tr",function(p){j(m.nTBody).css("-moz-user-select","")})}j(m.nTBody).on("click.DTTT_Select",this.s.custom.sRowSelector,function(u){var v=this.nodeName.toLowerCase()==="tr"?this:j(this).parents("tr")[0];var p=n.s.select;var w=n.s.dt.oInstance.fnGetPosition(v);if(v.parentNode!=m.nTBody){return}if(m.oInstance.fnGetData(v)===null){return}if(p.type=="os"){if(u.ctrlKey||u.metaKey){if(n.fnIsSelected(v)){n._fnRowDeselect(v,u)}else{n._fnRowSelect(v,u)}}else{if(u.shiftKey){var s=n.s.dt.aiDisplay.slice();var r=j.inArray(p.lastRow,s);var q=j.inArray(w,s);if(n.fnGetSelected().length===0||r===-1){s.splice(j.inArray(w,s)+1,s.length)}else{if(r>q){var t=q;q=r;r=t}s.splice(q+1,s.length);s.splice(0,r)}if(!n.fnIsSelected(v)){n._fnRowSelect(s,u)}else{s.splice(j.inArray(w,s),1);n._fnRowDeselect(s,u)}}else{if(n.fnIsSelected(v)&&n.fnGetSelected().length===1){n._fnRowDeselect(v,u)}else{n.fnSelectNone();n._fnRowSelect(v,u)}}}}else{if(n.fnIsSelected(v)){n._fnRowDeselect(v,u)}else{if(p.type=="single"){n.fnSelectNone();n._fnRowSelect(v,u)}else{if(p.type=="multi"){n._fnRowSelect(v,u)}}}}p.lastRow=w});m.oApi._fnCallbackReg(m,"aoRowCreatedCallback",function(r,q,p){if(m.aoData[p]._DTTT_selected){j(r).addClass(n.classes.select.row)}},"TableTools-SelectAll")}},_fnRowSelect:function(r,q){var o=this,p=this._fnSelectData(r),m=p.length===0?null:p[0].nTr,l=[],n,k;for(n=0,k=p.length;n<k;n++){if(p[n].nTr){l.push(p[n].nTr)}}if(this.s.select.preRowSelect!==null&&!this.s.select.preRowSelect.call(this,q,l,true)){return}for(n=0,k=p.length;n<k;n++){p[n]._DTTT_selected=true;if(p[n].nTr){j(p[n].nTr).addClass(o.classes.select.row)}}if(this.s.select.postSelected!==null){this.s.select.postSelected.call(this,l)}TableTools._fnEventDispatch(this,"select",l,true)},_fnRowDeselect:function(r,q){var n=this,o=this._fnSelectData(r),l=o.length===0?null:o[0].nTr,p=[],m,k;for(m=0,k=o.length;m<k;m++){if(o[m].nTr){p.push(o[m].nTr)}}if(this.s.select.preRowSelect!==null&&!this.s.select.preRowSelect.call(this,q,p,false)){return}for(m=0,k=o.length;m<k;m++){o[m]._DTTT_selected=false;if(o[m].nTr){j(o[m].nTr).removeClass(n.classes.select.row)}}if(this.s.select.postDeselected!==null){this.s.select.postDeselected.call(this,p)}TableTools._fnEventDispatch(this,"select",p,false)},_fnSelectData:function(n){var l=[],o,m,k;if(n.nodeName){o=this.s.dt.oInstance.fnGetPosition(n);l.push(this.s.dt.aoData[o])}else{if(typeof n.length!=="undefined"){for(m=0,k=n.length;m<k;m++){if(n[m].nodeName){o=this.s.dt.oInstance.fnGetPosition(n[m]);l.push(this.s.dt.aoData[o])}else{if(typeof n[m]==="number"){l.push(this.s.dt.aoData[n[m]])}else{l.push(n[m])}}}return l}else{l.push(n)}}return l},_fnTextConfig:function(k,m){var l=this;if(m.fnInit!==null){m.fnInit.call(this,k,m)}if(m.sToolTip!==""){k.title=m.sToolTip}j(k).hover(function(){if(m.fnMouseover!==null){m.fnMouseover.call(this,k,m,null)}},function(){if(m.fnMouseout!==null){m.fnMouseout.call(this,k,m,null)}});if(m.fnSelect!==null){TableTools._fnEventListen(this,"select",function(o){m.fnSelect.call(l,k,m,o)})}j(k).click(function(n){if(m.fnClick!==null){m.fnClick.call(l,k,m,null,n)}if(m.fnComplete!==null){m.fnComplete.call(l,k,m,null,null)}l._fnCollectionHide(k,m)})},_fnFlashConfig:function(l,n){var m=this;var k=new e.Client();if(n.fnInit!==null){n.fnInit.call(this,l,n)}k.setHandCursor(true);if(n.sAction=="flash_save"){k.setAction("save");k.setCharSet((n.sCharSet=="utf16le")?"UTF16LE":"UTF8");k.setBomInc(n.bBomInc);k.setFileName(n.sFileName.replace("*",this.fnGetTitle(n)))}else{if(n.sAction=="flash_pdf"){k.setAction("pdf");k.setFileName(n.sFileName.replace("*",this.fnGetTitle(n)))}else{k.setAction("copy")}}k.addEventListener("mouseOver",function(o){if(n.fnMouseover!==null){n.fnMouseover.call(m,l,n,k)}});k.addEventListener("mouseOut",function(o){if(n.fnMouseout!==null){n.fnMouseout.call(m,l,n,k)}});k.addEventListener("mouseDown",function(o){if(n.fnClick!==null){n.fnClick.call(m,l,n,k)}});k.addEventListener("complete",function(o,p){if(n.fnComplete!==null){n.fnComplete.call(m,l,n,k,p)}m._fnCollectionHide(l,n)});this._fnFlashGlue(k,l,n.sToolTip)},_fnFlashGlue:function(k,m,n){var l=this;var o=m.getAttribute("id");if(h.getElementById(o)){k.glue(m,n)}else{setTimeout(function(){l._fnFlashGlue(k,m,n)},100)}},_fnFlashSetText:function(o,l){var n=this._fnChunkData(l,8192);o.clearText();for(var m=0,k=n.length;m<k;m++){o.appendText(n[m])}},_fnColumnTargets:function(m){var o=[];var n=this.s.dt;var l,k;if(typeof m=="object"){for(l=0,k=n.aoColumns.length;l<k;l++){o.push(false)}for(l=0,k=m.length;l<k;l++){o[m[l]]=true}}else{if(m=="visible"){for(l=0,k=n.aoColumns.length;l<k;l++){o.push(n.aoColumns[l].bVisible?true:false)}}else{if(m=="hidden"){for(l=0,k=n.aoColumns.length;l<k;l++){o.push(n.aoColumns[l].bVisible?false:true)}}else{if(m=="sortable"){for(l=0,k=n.aoColumns.length;l<k;l++){o.push(n.aoColumns[l].bSortable?true:false)}}else{for(l=0,k=n.aoColumns.length;l<k;l++){o.push(true)}}}}}return o},_fnNewline:function(k){if(k.sNewLine=="auto"){return navigator.userAgent.match(/Windows/)?"\r\n":"\n"}else{return k.sNewLine}},_fnGetDataTablesData:function(q){var z,x,y,C;var m,o=[],k="",l;var w=this.s.dt,n,t;var p=new RegExp(q.sFieldBoundary,"g");var v=this._fnColumnTargets(q.mColumns);var A=(typeof q.bSelectedOnly!="undefined")?q.bSelectedOnly:false;if(q.bHeader){m=[];for(z=0,x=w.aoColumns.length;z<x;z++){if(v[z]){k=w.aoColumns[z].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");k=this._fnHtmlDecode(k);m.push(this._fnBoundData(k,q.sFieldBoundary,p))}}o.push(m.join(q.sFieldSeperator))}var B=this.fnGetSelected();A=this.s.select.type!=="none"&&A&&B.length!==0;var r=w.oInstance.$("tr",q.oSelectorOpts).map(function(E,D){return A&&j.inArray(D,B)===-1?null:w.oInstance.fnGetPosition(D)}).get();for(y=0,C=r.length;y<C;y++){n=w.aoData[r[y]].nTr;m=[];for(z=0,x=w.aoColumns.length;z<x;z++){if(v[z]){var u=w.oApi._fnGetCellData(w,r[y],z,"display");if(q.fnCellRender){k=q.fnCellRender(u,z,n,r[y])+""}else{if(typeof u=="string"){k=u.replace(/\n/g," ");k=k.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3");k=k.replace(/<.*?>/g,"")}else{k=u+""}}k=k.replace(/^\s+/,"").replace(/\s+$/,"");k=this._fnHtmlDecode(k);m.push(this._fnBoundData(k,q.sFieldBoundary,p))}}o.push(m.join(q.sFieldSeperator));if(q.bOpenRows){l=j.grep(w.aoOpenRows,function(D){return D.nParent===n});if(l.length===1){k=this._fnBoundData(j("td",l[0].nTr).html(),q.sFieldBoundary,p);o.push(k)}}}if(q.bFooter&&w.nTFoot!==null){m=[];for(z=0,x=w.aoColumns.length;z<x;z++){if(v[z]&&w.aoColumns[z].nTf!==null){k=w.aoColumns[z].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,"");k=this._fnHtmlDecode(k);m.push(this._fnBoundData(k,q.sFieldBoundary,p))}}o.push(m.join(q.sFieldSeperator))}var s=o.join(this._fnNewline(q));return s},_fnBoundData:function(k,m,l){if(m===""){return k}else{return m+k.replace(l,m+m)+m}},_fnChunkData:function(k,m){var n=[];var o=k.length;for(var l=0;l<o;l+=m){if(l+m<o){n.push(k.substring(l,l+m))}else{n.push(k.substring(l,o))}}return n},_fnHtmlDecode:function(k){if(k.indexOf("&")===-1){return k}var l=h.createElement("div");return k.replace(/&([^\s]*);/g,function(m,n){if(m.substr(1,1)==="#"){return String.fromCharCode(Number(n.substr(1)))}else{l.innerHTML=m;return l.childNodes[0].nodeValue}})},_fnPrintStart:function(p){var o=this;var m=this.s.dt;this._fnPrintHideNodes(m.nTable);this.s.print.saveStart=m._iDisplayStart;this.s.print.saveLength=m._iDisplayLength;if(p.bShowAll){m._iDisplayStart=0;m._iDisplayLength=-1;if(m.oApi._fnCalculateEnd){m.oApi._fnCalculateEnd(m)}m.oApi._fnDraw(m)}if(m.oScroll.sX!==""||m.oScroll.sY!==""){this._fnPrintScrollStart(m);j(this.s.dt.nTable).bind("draw.DTTT_Print",function(){o._fnPrintScrollStart(m)})}var l=m.aanFeatures;for(var q in l){if(q!="i"&&q!="t"&&q.length==1){for(var n=0,k=l[q].length;n<k;n++){this.dom.print.hidden.push({node:l[q][n],display:"block"});l[q][n].style.display="none"}}}j(h.body).addClass(this.classes.print.body);if(p.sInfo!==""){this.fnInfo(p.sInfo,3000)}if(p.sMessage){j("<div/>").addClass(this.classes.print.message).html(p.sMessage).prependTo("body")}this.s.print.saveScroll=j(i).scrollTop();i.scrollTo(0,0);j(h).bind("keydown.DTTT",function(r){if(r.keyCode==27){r.preventDefault();o._fnPrintEnd.call(o,r)}})},_fnPrintEnd:function(o){var m=this;var k=this.s.dt;var n=this.s.print;var l=this.dom.print;this._fnPrintShowNodes();if(k.oScroll.sX!==""||k.oScroll.sY!==""){j(this.s.dt.nTable).unbind("draw.DTTT_Print");this._fnPrintScrollEnd()}i.scrollTo(0,n.saveScroll);j("div."+this.classes.print.message).remove();j(h.body).removeClass("DTTT_Print");k._iDisplayStart=n.saveStart;k._iDisplayLength=n.saveLength;if(k.oApi._fnCalculateEnd){k.oApi._fnCalculateEnd(k)}k.oApi._fnDraw(k);j(h).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var m=this.s.dt,o=m.nScrollHead.getElementsByTagName("div")[0],k=o.getElementsByTagName("table")[0],p=m.nTable.parentNode,l,n;l=m.nTable.getElementsByTagName("thead");if(l.length>0){m.nTable.removeChild(l[0])}if(m.nTFoot!==null){n=m.nTable.getElementsByTagName("tfoot");if(n.length>0){m.nTable.removeChild(n[0])}}l=m.nTHead.cloneNode(true);m.nTable.insertBefore(l,m.nTable.childNodes[0]);if(m.nTFoot!==null){n=m.nTFoot.cloneNode(true);m.nTable.insertBefore(n,m.nTable.childNodes[1])}if(m.oScroll.sX!==""){m.nTable.style.width=j(m.nTable).outerWidth()+"px";p.style.width=j(m.nTable).outerWidth()+"px";p.style.overflow="visible"}if(m.oScroll.sY!==""){p.style.height=j(m.nTable).outerHeight()+"px";p.style.overflow="visible"}},_fnPrintScrollEnd:function(){var k=this.s.dt,l=k.nTable.parentNode;if(k.oScroll.sX!==""){l.style.width=k.oApi._fnStringToCss(k.oScroll.sX);l.style.overflow="auto"}if(k.oScroll.sY!==""){l.style.height=k.oApi._fnStringToCss(k.oScroll.sY);l.style.overflow="auto"}},_fnPrintShowNodes:function(){var m=this.dom.print.hidden;for(var l=0,k=m.length;l<k;l++){m[l].node.style.display=m[l].display}m.splice(0,m.length)},_fnPrintHideNodes:function(l){var n=this.dom.print.hidden;var p=l.parentNode;var q=p.childNodes;for(var m=0,k=q.length;m<k;m++){if(q[m]!=l&&q[m].nodeType==1){var o=j(q[m]).css("display");if(o!="none"){n.push({node:q[m],display:o});q[m].style.display="none"}}}if(p.nodeName.toUpperCase()!="BODY"){this._fnPrintHideNodes(p)}}};TableTools._aInstances=[];TableTools._aListeners=[];TableTools.fnGetMasters=function(){var l=[];for(var m=0,k=TableTools._aInstances.length;m<k;m++){if(TableTools._aInstances[m].s.master){l.push(TableTools._aInstances[m])}}return l};TableTools.fnGetInstance=function(m){if(typeof m!="object"){m=h.getElementById(m)}for(var l=0,k=TableTools._aInstances.length;l<k;l++){if(TableTools._aInstances[l].s.master&&TableTools._aInstances[l].dom.table==m){return TableTools._aInstances[l]}}return null};TableTools._fnEventListen=function(m,l,k){TableTools._aListeners.push({that:m,type:l,fn:k})};TableTools._fnEventDispatch=function(q,o,p,n){var m=TableTools._aListeners;for(var l=0,k=m.length;l<k;l++){if(q.dom.table==m[l].that.dom.table&&m[l].type==o){m[l].fn(p,n)}}};TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:false,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",mColumns:"all",bHeader:true,bFooter:true,bOpenRows:false,bSelectedOnly:false,oSelectorOpts:d,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null};TableTools.BUTTONS={csv:j.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(l,m,k){this.fnSetText(k,this.fnGetTableData(m))}}),xls:j.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:true,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(l,m,k){this.fnSetText(k,this.fnGetTableData(m))}}),copy:j.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(l,m,k){this.fnSetText(k,this.fnGetTableData(m))},fnComplete:function(o,p,n,q){var l=q.split("\n").length,k=this.s.dt.nTFoot===null?l-1:l-2,m=(k==1)?"":"s";this.fnInfo("<h6>Table copied</h6><p>Copied "+k+" row"+m+" to the clipboard.</p>",1500)}}),pdf:j.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(l,m,k){this.fnSetText(k,"title:"+this.fnGetTitle(m)+"\nmessage:"+m.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(m)+"\norientation:"+m.sPdfOrientation+"\nsize:"+m.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(m))}}),print:j.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.</p>",sMessage:null,bShowAll:true,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(k,l){this.fnPrint(true,l)}}),text:j.extend({},TableTools.buttonBase),select:j.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(k,l){if(this.fnGetSelected().length!==0){j(k).removeClass(this.classes.buttons.disabled)}else{j(k).addClass(this.classes.buttons.disabled)}},fnInit:function(k,l){j(k).addClass(this.classes.buttons.disabled)}}),select_single:j.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(l,m){var k=this.fnGetSelected().length;if(k==1){j(l).removeClass(this.classes.buttons.disabled)}else{j(l).addClass(this.classes.buttons.disabled)}},fnInit:function(k,l){j(k).addClass(this.classes.buttons.disabled)}}),select_all:j.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(k,l){this.fnSelectAll()},fnSelect:function(k,l){if(this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()){j(k).addClass(this.classes.buttons.disabled)}else{j(k).removeClass(this.classes.buttons.disabled)}}}),select_none:j.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(k,l){this.fnSelectNone()},fnSelect:function(k,l){if(this.fnGetSelected().length!==0){j(k).removeClass(this.classes.buttons.disabled)}else{j(k).addClass(this.classes.buttons.disabled)}},fnInit:function(k,l){j(k).addClass(this.classes.buttons.disabled)}}),ajax:j.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(l,m){var k=this.fnGetTableData(m);j.ajax({url:m.sAjaxUrl,data:[{name:"tableData",value:k}],success:m.fnAjaxComplete,dataType:"json",type:"POST",cache:false,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(k){alert("Ajax complete")}}),div:j.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:j.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(k,l){this._fnCollectionShow(k,l)}})};TableTools.buttons=TableTools.BUTTONS;TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}};TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}};TableTools.DEFAULTS={sSwfPath:"../swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sRowSelector:"tr",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}};TableTools.defaults=TableTools.DEFAULTS;TableTools.prototype.CLASS="TableTools";TableTools.version="2.2.1";if(j.fn.dataTable.Api){j.fn.dataTable.Api.register("tabletools()",function(){var k=null;if(this.context.length>0){k=TableTools.fnGetInstance(this.context[0].nTable)}return k})}if(typeof j.fn.dataTable=="function"&&typeof j.fn.dataTableExt.fnVersionCheck=="function"&&j.fn.dataTableExt.fnVersionCheck("1.9.0")){j.fn.dataTableExt.aoFeatures.push({fnInit:function(n){var m=n.oInit;var l=m?m.tableTools||m.oTableTools||{}:{};var k=new TableTools(n.oInstance,l);TableTools._aInstances.push(k);return k.dom.container},cFeature:"T",sFeature:"TableTools"})}else{alert("Warning: TableTools requires DataTables 1.9.0 or newer - www.datatables.net/download")}j.fn.DataTable.TableTools=TableTools})(jQuery,c,a);if(typeof g.fn.dataTable=="function"&&typeof g.fn.dataTableExt.fnVersionCheck=="function"&&g.fn.dataTableExt.fnVersionCheck("1.9.0")){g.fn.dataTableExt.aoFeatures.push({fnInit:function(j){var i=typeof j.oInit.oTableTools!="undefined"?j.oInit.oTableTools:{};var h=new TableTools(j.oInstance,i);TableTools._aInstances.push(h);return h.dom.container},cFeature:"T",sFeature:"TableTools"})}else{alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download")}g.fn.dataTable.TableTools=TableTools;g.fn.DataTable.TableTools=TableTools;return TableTools};if(typeof define==="function"&&define.amd){define("datatables-tabletools",["jquery","datatables"],b)}else{if(jQuery&&!jQuery.fn.dataTable.TableTools){b(jQuery,jQuery.fn.dataTable)}}})(window,document);
window.define||(window.define=function(b){try{delete window.define}catch(a){window.define=void 0}window.when=b()},window.define.amd={});(function(a){a||(a=window.console={log:function(j,f,e,i,g){},info:function(j,f,e,i,g){},warn:function(j,f,e,i,g){},error:function(j,f,e,i,g){}});Function.prototype.bind||(Function.prototype.bind=function(f){var e=this,d=Array.prototype.slice.call(arguments,1);return function(){return e.apply(f,Array.prototype.concat.apply(d,arguments))}});"object"===typeof a.log&&(a.log=Function.prototype.call.bind(a.log,a),a.info=Function.prototype.call.bind(a.info,a),a.warn=Function.prototype.call.bind(a.warn,a),a.error=Function.prototype.call.bind(a.error,a));"group" in a||(a.group=function(b){a.info("\n--- "+b+" ---\n")});"groupEnd" in a||(a.groupEnd=function(){a.log("\n")});"time" in a||function(){var b={};a.time=function(c){b[c]=(new Date).getTime()};a.timeEnd=function(d){var c=(new Date).getTime();a.info(d+": "+(d in b?c-b[d]:0)+"ms")}}()})(window.console);(function(a){a(function(am){function ao(f,d,h,k){return(f instanceof al?f:ai(f)).then(d,h,k)}function an(b){return new al(b,Z.PromiseStatus&&Z.PromiseStatus())}function al(v,u){function s(b){if(k){var d=k;k=O;ac(function(){e=ak(p,b);u&&ad(e,u);aj(d,e)})}}function t(b){s(new ah(b))}function r(d){if(k){var c=k;ac(function(){aj(c,new j(d))})}}var p,e,k=[];p=this;this._status=u;this.inspect=function(){return e?e.inspect():{state:"pending"}};this._when=function(l,h,n,q,w){function m(b){b._when(l,h,n,q,w)}k?k.push(m):ac(function(){m(e)})};try{v(s,t,r)}catch(f){t(f)}}function ai(b){return an(function(c){c(b)})}function aj(d,c){for(var f=0;f<d.length;f++){d[f](c)}}function ak(f,d){if(d===f){return new ah(new TypeError)}if(d instanceof al){return d}try{var h=d===Object(d)&&d.then;return"function"===typeof h?ag(h,d):new V(d)}catch(k){return new ah(k)}}function ag(b,c){return an(function(e,f){Q(b,c,e,f)})}function V(b){this.value=b}function ah(b){this.value=b}function j(b){this.value=b}function ad(d,c){d.then(function(){c.fulfilled()},function(b){c.rejected(b)})}function aa(b){return b&&"function"===typeof b.then}function af(l,m,n,k,b){return ao(l,function(c){return an(function(B,z,y){function w(f){r(f)}function p(f){v(f)}var u,e,d,s,v,r,C,x;C=c.length>>>0;u=Math.max(0,Math.min(m,C));d=[];e=C-u+1;s=[];if(u){r=function(f){s.push(f);--e||(v=r=W,z(s))};v=function(f){d.push(f);--u||(v=r=W,B(d))};for(x=0;x<C;++x){x in c&&ao(c[x],p,w,y)}}else{B(d)}}).then(n,k,b)})}function ae(f,c,h,k){return T(f,W).then(c,h,k)}function T(d,f,h){return ao(d,function(c){return new al(function(u,t,r){function e(k,l){ao(k,f,h).then(function(m){n[l]=m;--p||u(n)},t,r)}var n,s,p,b;p=s=c.length>>>0;n=[];if(p){for(b=0;b<s;b++){b in c?e(c[b],b):--p}}else{u(n)}})})}function D(b){return{state:"fulfilled",value:b}}function N(b){return{state:"rejected",reason:b}}function ac(b){1===U.push(b)&&X(R)}function R(){aj(U);U=[]}function W(b){return b}function i(b){"function"===typeof Z.reportUnhandled?Z.reportUnhandled():ac(function(){throw b});throw b}ao.promise=an;ao.resolve=ai;ao.reject=function(c){return ao(c,function(b){return new ah(b)})};ao.defer=function(){var b,c,f;b={promise:O,resolve:O,reject:O,notify:O,resolver:{resolve:O,reject:O,notify:O}};b.promise=c=an(function(d,h,e){b.resolve=b.resolver.resolve=function(k){if(f){return ai(k)}f=!0;d(k);return c};b.reject=b.resolver.reject=function(k){if(f){return ai(new ah(k))}f=!0;h(k);return c};b.notify=b.resolver.notify=function(k){e(k);return k}});return b};ao.join=function(){return T(arguments,W)};ao.all=ae;ao.map=function(d,c){return T(d,c)};ao.reduce=function(c,f){var h=Q(P,arguments,1);return ao(c,function(d){var e;e=d.length;h[0]=function(k,m,l){return ao(k,function(n){return ao(m,function(b){return f(n,b,l,e)})})};return M.apply(d,h)})};ao.settle=function(b){return T(b,D,N)};ao.any=function(f,c,h,k){return af(f,1,function(b){return c?c(b[0]):b[0]},h,k)};ao.some=af;ao.isPromise=aa;ao.isPromiseLike=aa;Y=al.prototype;Y.then=function(f,d,h){var k=this;return new al(function(e,c,b){k._when(e,b,f,d,h)},this._status&&this._status.observed())};Y["catch"]=Y.otherwise=function(b){return this.then(O,b)};Y["finally"]=Y.ensure=function(d){function c(){return ai(d())}return"function"===typeof d?this.then(c,c).yield(this):this};Y.done=function(d,c){this.then(d,c)["catch"](i)};Y.yield=function(b){return this.then(function(){return b})};Y.tap=function(b){return this.then(b).yield(this)};Y.spread=function(b){return this.then(function(c){return ae(c,function(d){return b.apply(O,d)})})};Y.always=function(d,c){return this.then(d,d,c)};S=Object.create||function(d){function c(){}c.prototype=d;return new c};V.prototype=S(Y);V.prototype.inspect=function(){return D(this.value)};V.prototype._when=function(f,c,h){try{f("function"===typeof h?h(this.value):this.value)}catch(k){f(new ah(k))}};ah.prototype=S(Y);ah.prototype.inspect=function(){return N(this.value)};ah.prototype._when=function(h,f,k,l){try{h("function"===typeof l?l(this.value):this)}catch(m){h(new ah(m))}};j.prototype=S(Y);j.prototype._when=function(k,h,m,n,p){try{h("function"===typeof p?p(this.value):this.value)}catch(l){h(l)}};var Y,S,M,P,Q,X,U,Z,o,O;U=[];Z="undefined"!==typeof console?console:ao;if("object"===typeof process&&process.nextTick){X=process.nextTick}else{if(Y="function"===typeof MutationObserver&&MutationObserver||"function"===typeof WebKitMutationObserver&&WebKitMutationObserver){X=function(f,c,h){var k=f.createElement("div");(new c(h)).observe(k,{attributes:!0});return function(){k.setAttribute("x","x")}}(document,Y,R)}else{try{X=am("vertx").runOnLoop||am("vertx").runOnContext}catch(g){o=setTimeout,X=function(b){o(b,0)}}}}am=Function.prototype;Y=am.call;Q=am.bind?Y.bind(Y):function(d,c){return d.apply(c,P.call(arguments,2))};am=[];P=am.slice;M=am.reduce||function(k){var h,m,n,p,l;l=0;h=Object(this);p=h.length>>>0;m=arguments;if(1>=m.length){for(;;){if(l in h){n=h[l++];break}if(++l>=p){throw new TypeError}}}else{n=m[1]}for(;l<p;++l){l in h&&(n=k(n,h[l],l,h))}return n};return ao})})("function"===typeof define&&define.amd?define:function(a){module.exports=a(require)});var CryptoJS=CryptoJS||function(s,n){var v={},u=v.lib={},q=u.Base=function(){function b(){}return{extend:function(a){b.prototype=this;var c=new b;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var c=this.extend();c.init.apply(c,arguments);return c},init:function(){},mixIn:function(d){for(var c in d){d.hasOwnProperty(c)&&(this[c]=d[c])}d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),m=u.WordArray=q.extend({init:function(d,c){d=this.words=d||[];this.sigBytes=c!=n?c:4*d.length},toString:function(b){return(b||p).stringify(this)},concat:function(g){var f=this.words,h=g.words,k=this.sigBytes;g=g.sigBytes;this.clamp();if(k%4){for(var l=0;l<g;l++){f[k+l>>>2]|=(h[l>>>2]>>>24-8*(l%4)&255)<<24-8*((k+l)%4)}}else{if(65535<h.length){for(l=0;l<g;l+=4){f[k+l>>>2]=h[l>>>2]}}else{f.push.apply(f,h)}}this.sigBytes+=g;return this},clamp:function(){var d=this.words,c=this.sigBytes;d[c>>>2]&=4294967295<<32-8*(c%4);d.length=s.ceil(c/4)},clone:function(){var b=q.clone.call(this);b.words=this.words.slice(0);return b},random:function(d){for(var c=[],f=0;f<d;f+=4){c.push(4294967296*s.random()|0)}return new m.init(c,d)}}),o=v.enc={},p=o.Hex={stringify:function(g){var f=g.words;g=g.sigBytes;for(var h=[],k=0;k<g;k++){var l=f[k>>>2]>>>24-8*(k%4)&255;h.push((l>>>4).toString(16));h.push((l&15).toString(16))}return h.join("")},parse:function(f){for(var c=f.length,g=[],h=0;h<c;h+=2){g[h>>>3]|=parseInt(f.substr(h,2),16)<<24-4*(h%8)}return new m.init(g,c/2)}},i=o.Latin1={stringify:function(f){var c=f.words;f=f.sigBytes;for(var g=[],h=0;h<f;h++){g.push(String.fromCharCode(c[h>>>2]>>>24-8*(h%4)&255))}return g.join("")},parse:function(f){for(var c=f.length,g=[],h=0;h<c;h++){g[h>>>2]|=(f.charCodeAt(h)&255)<<24-8*(h%4)}return new m.init(g,c)}},w=o.Utf8={stringify:function(d){try{return decodeURIComponent(escape(i.stringify(d)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(b){return i.parse(unescape(encodeURIComponent(b)))}},j=u.BufferedBlockAlgorithm=q.extend({reset:function(){this._data=new m.init;this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=w.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(h){var c=this._data,y=c.words,z=c.sigBytes,x=this.blockSize,g=z/(4*x),g=h?s.ceil(g):s.max((g|0)-this._minBufferSize,0);h=g*x;z=s.min(4*h,z);if(h){for(var t=0;t<h;t+=x){this._doProcessBlock(y,t)}t=y.splice(0,h);c.sigBytes-=z}return new m.init(t,z)},clone:function(){var b=q.clone.call(this);b._data=this._data.clone();return b},_minBufferSize:0});u.Hasher=j.extend({cfg:q.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){j.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b&&this._append(b);return this._doFinalize()},blockSize:16,_createHelper:function(b){return function(a,c){return(new b.init(c)).finalize(a)}},_createHmacHelper:function(b){return function(a,c){return(new r.HMAC.init(b,c)).finalize(a)}}});var r=v.algo={};return v}(Math);(function(){var b=CryptoJS,a=b.lib.WordArray;b.enc.Base64={stringify:function(i){var g=i.words,m=i.sigBytes,n=this._map;i.clamp();i=[];for(var j=0;j<m;j+=3){for(var k=(g[j>>>2]>>>24-8*(j%4)&255)<<16|(g[j+1>>>2]>>>24-8*((j+1)%4)&255)<<8|g[j+2>>>2]>>>24-8*((j+2)%4)&255,h=0;4>h&&j+0.75*h<m;h++){i.push(n.charAt(k>>>6*(3-h)&63))}}if(g=n.charAt(64)){for(;i.length%4;){i.push(g)}}return i.join("")},parse:function(i){var g=i.length,n=this._map,o=n.charAt(64);o&&(o=i.indexOf(o),-1!=o&&(g=o));for(var o=[],k=0,m=0;m<g;m++){if(m%4){var h=n.indexOf(i.charAt(m-1))<<2*(m%4),j=n.indexOf(i.charAt(m))>>>6-2*(m%4);o[k>>>2]|=(h|j)<<24-8*(k%4);k++}}return a.create(o,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(){var b=CryptoJS,a=b.enc.Utf8;b.algo.HMAC=b.lib.Base.extend({init:function(p,o){p=this._hasher=new p.init;"string"==typeof o&&(o=a.parse(o));var m=p.blockSize,n=4*m;o.sigBytes>n&&(o=p.finalize(o));o.clamp();for(var i=this._oKey=o.clone(),j=this._iKey=o.clone(),g=i.words,q=j.words,h=0;h<m;h++){g[h]^=1549556828,q[h]^=909522486}i.sigBytes=j.sigBytes=n;this.reset()},reset:function(){var c=this._hasher;c.reset();c.update(this._iKey)},update:function(c){this._hasher.update(c);return this},finalize:function(d){var c=this._hasher;d=c.finalize(d);c.reset();return c.finalize(this._oKey.clone().concat(d))}})})();(function(p){var l=CryptoJS,j=l.lib,i=j.WordArray,o=j.Hasher,j=l.algo,k=[],m=[];(function(){function f(a){for(var q=p.sqrt(a),r=2;r<=q;r++){if(!(a%r)){return !1}}return !0}function c(b){return 4294967296*(b-(b|0))|0}for(var g=2,h=0;64>h;){f(g)&&(8>h&&(k[h]=c(p.pow(g,0.5))),m[h]=c(p.pow(g,1/3)),h++),g++}})();var n=[],j=j.SHA256=o.extend({_doReset:function(){this._hash=new i.init(k.slice(0))},_doProcessBlock:function(D,B){for(var w=this._hash.words,z=w[0],r=w[1],t=w[2],q=w[3],f=w[4],F=w[5],A=w[6],C=w[7],e=0;64>e;e++){if(16>e){n[e]=D[B+e]|0}else{var E=n[e-15],G=n[e-2];n[e]=((E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3)+n[e-7]+((G<<15|G>>>17)^(G<<13|G>>>19)^G>>>10)+n[e-16]}E=C+((f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25))+(f&F^~f&A)+m[e]+n[e];G=((z<<30|z>>>2)^(z<<19|z>>>13)^(z<<10|z>>>22))+(z&r^z&t^r&t);C=A;A=F;F=f;f=q+E|0;q=t;t=r;r=z;z=E+G|0}w[0]=w[0]+z|0;w[1]=w[1]+r|0;w[2]=w[2]+t|0;w[3]=w[3]+q|0;w[4]=w[4]+f|0;w[5]=w[5]+F|0;w[6]=w[6]+A|0;w[7]=w[7]+C|0},_doFinalize:function(){var f=this._data,c=f.words,h=8*this._nDataBytes,g=8*f.sigBytes;c[g>>>5]|=128<<24-g%32;c[(g+64>>>9<<4)+14]=p.floor(h/4294967296);c[(g+64>>>9<<4)+15]=h;f.sigBytes=4*c.length;this._process();return this._hash},clone:function(){var b=o.clone.call(this);b._hash=this._hash.clone();return b}});l.SHA256=o._createHelper(j);l.HmacSHA256=o._createHmacHelper(j)})(Math);(function(){var l=CryptoJS,j=l.lib,f=j.Base,e=j.WordArray,j=l.algo,k=j.HMAC,i=j.PBKDF2=f.extend({cfg:f.extend({keySize:4,hasher:j.SHA1,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(H,C){for(var D=this.cfg,w=k.create(D.hasher,H),B=e.create(),E=e.create([1]),o=B.words,b=E.words,t=D.keySize,D=D.iterations;o.length<t;){var r=w.update(C).finalize(E);w.reset();for(var J=r.words,F=J.length,G=r,d=1;d<D;d++){G=w.finalize(G);w.reset();for(var I=G.words,K=0;K<F;K++){J[K]^=I[K]}}B.concat(r);b[0]++}B.sigBytes=4*t;return B}});l.PBKDF2=function(g,c,h){return i.create(h).compute(g,c)}})();var AUTOBAHNJS_VERSION="0.8.2",global=this;(function(b,a){"function"===typeof define&&define.amd?define(["when"],function(c){return b.ab=a(b,c)}):"undefined"!==typeof exports?"undefined"!=typeof module&&module.exports&&(exports=module.exports=a(b,b.when)):b.ab=a(b,b.when)})(global,function(e,d){var b={_version:AUTOBAHNJS_VERSION};(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(g){if(null===this){throw new TypeError}var i=Object(this),j=i.length>>>0;if(0===j){return -1}var h=0;0<arguments.length&&(h=Number(arguments[1]),h!==h?h=0:0!==h&&(Infinity!==h&&-Infinity!==h)&&(h=(0<h||-1)*Math.floor(Math.abs(h))));if(h>=j){return -1}for(h=0<=h?h:Math.max(j-Math.abs(h),0);h<j;h++){if(h in i&&i[h]===g){return h}}return -1});Array.prototype.forEach||(Array.prototype.forEach=function(i,n){var o,k;if(null===this){throw new TypeError(" this is null or not defined")}var m=Object(this),h=m.length>>>0;if("[object Function]"!=={}.toString.call(i)){throw new TypeError(i+" is not a function")}n&&(o=n);for(k=0;k<h;){var j;k in m&&(j=m[k],i.call(o,j,k,m));k++}})})();b._sliceUserAgent=function(g,j,k){var h=[],i=navigator.userAgent;g=i.indexOf(g);j=i.indexOf(j,g);0>j&&(j=i.length);k=i.slice(g,j).split(k);i=k[1].split(".");for(j=0;j<i.length;++j){h.push(parseInt(i[j],10))}return{name:k[0],version:h}};b.getBrowser=function(){var a=navigator.userAgent;return -1<a.indexOf("Chrome")?b._sliceUserAgent("Chrome"," ","/"):-1<a.indexOf("Safari")?b._sliceUserAgent("Safari"," ","/"):-1<a.indexOf("Firefox")?b._sliceUserAgent("Firefox"," ","/"):-1<a.indexOf("MSIE")?b._sliceUserAgent("MSIE",";"," "):null};b.getServerUrl=function(c,f){return"file:"===e.location.protocol?f?f:"ws://127.0.0.1/ws":("https:"===e.location.protocol?"wss://":"ws://")+e.location.hostname+(""!==e.location.port?":"+e.location.port:"")+"/"+(c?c:"ws")};b.browserNotSupportedMessage="Browser does not support WebSockets (RFC6455)";b.deriveKey=function(c,f){return f&&f.salt?CryptoJS.PBKDF2(c,f.salt,{keySize:(f.keylen||32)/4,iterations:f.iterations||10000,hasher:CryptoJS.algo.SHA256}).toString(CryptoJS.enc.Base64):c};b._idchars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";b._idlen=16;b._subprotocol="wamp";b._newid=function(){for(var a="",c=0;c<b._idlen;c+=1){a+=b._idchars.charAt(Math.floor(Math.random()*b._idchars.length))}return a};b._newidFast=function(){return Math.random().toString(36)};b.log=function(){if(1<arguments.length){console.group("Log Item");for(var c=0;c<arguments.length;c+=1){console.log(arguments[c])}console.groupEnd()}else{console.log(arguments[0])}};b._debugrpc=!1;b._debugpubsub=!1;b._debugws=!1;b._debugconnect=!1;b.debug=function(a,f,c){if("console" in e){b._debugrpc=a,b._debugpubsub=a,b._debugws=f,b._debugconnect=c}else{throw"browser does not support console object"}};b.version=function(){return b._version};b.PrefixMap=function(){this._index={};this._rindex={}};b.PrefixMap.prototype.get=function(c){return this._index[c]};b.PrefixMap.prototype.set=function(c,f){this._index[c]=f;this._rindex[f]=c};b.PrefixMap.prototype.setDefault=function(c){this._index[""]=c;this._rindex[c]=""};b.PrefixMap.prototype.remove=function(c){var f=this._index[c];f&&(delete this._index[c],delete this._rindex[f])};b.PrefixMap.prototype.resolve=function(g,i){var j=g.indexOf(":");if(0<=j){var h=g.substring(0,j);if(this._index[h]){return this._index[h]+g.substring(j+1)}}return !0===i?g:null};b.PrefixMap.prototype.shrink=function(g,i){for(var j=g.length;0<j;j-=1){var h=g.substring(0,j);if(h=this._rindex[h]){return h+":"+g.substring(j)}}return !0===i?g:null};b._MESSAGE_TYPEID_WELCOME=0;b._MESSAGE_TYPEID_PREFIX=1;b._MESSAGE_TYPEID_CALL=2;b._MESSAGE_TYPEID_CALL_RESULT=3;b._MESSAGE_TYPEID_CALL_ERROR=4;b._MESSAGE_TYPEID_SUBSCRIBE=5;b._MESSAGE_TYPEID_UNSUBSCRIBE=6;b._MESSAGE_TYPEID_PUBLISH=7;b._MESSAGE_TYPEID_EVENT=8;b.CONNECTION_CLOSED=0;b.CONNECTION_LOST=1;b.CONNECTION_RETRIES_EXCEEDED=2;b.CONNECTION_UNREACHABLE=3;b.CONNECTION_UNSUPPORTED=4;b.CONNECTION_UNREACHABLE_SCHEDULED_RECONNECT=5;b.CONNECTION_LOST_SCHEDULED_RECONNECT=6;b.Deferred=d.defer;b._construct=function(c,f){return"WebSocket" in e?f?new WebSocket(c,f):new WebSocket(c):"MozWebSocket" in e?f?new MozWebSocket(c,f):new MozWebSocket(c):null};b.Session=function(a,i,j,g){var h=this;h._wsuri=a;h._options=g;h._websocket_onopen=i;h._websocket_onclose=j;h._websocket=null;h._websocket_connected=!1;h._session_id=null;h._wamp_version=null;h._server=null;h._calls={};h._subscriptions={};h._prefixes=new b.PrefixMap;h._txcnt=0;h._rxcnt=0;h._websocket=h._options&&h._options.skipSubprotocolAnnounce?b._construct(h._wsuri):b._construct(h._wsuri,[b._subprotocol]);if(!h._websocket){if(void 0!==j){j(b.CONNECTION_UNSUPPORTED);return}throw b.browserNotSupportedMessage}h._websocket.onmessage=function(t){b._debugws&&(h._rxcnt+=1,console.group("WS Receive"),console.info(h._wsuri+"  ["+h._session_id+"]"),console.log(h._rxcnt),console.log(t.data),console.groupEnd());t=JSON.parse(t.data);if(t[1] in h._calls){if(t[0]===b._MESSAGE_TYPEID_CALL_RESULT){var r=h._calls[t[1]],s=t[2];if(b._debugrpc&&void 0!==r._ab_callobj){console.group("WAMP Call",r._ab_callobj[2]);console.timeEnd(r._ab_tid);console.group("Arguments");for(var q=3;q<r._ab_callobj.length;q+=1){var o=r._ab_callobj[q];if(void 0!==o){console.log(o)}else{break}}console.groupEnd();console.group("Result");console.log(s);console.groupEnd();console.groupEnd()}r.resolve(s)}else{if(t[0]===b._MESSAGE_TYPEID_CALL_ERROR){r=h._calls[t[1]];s=t[2];q=t[3];o=t[4];if(b._debugrpc&&void 0!==r._ab_callobj){console.group("WAMP Call",r._ab_callobj[2]);console.timeEnd(r._ab_tid);console.group("Arguments");for(var p=3;p<r._ab_callobj.length;p+=1){var l=r._ab_callobj[p];if(void 0!==l){console.log(l)}else{break}}console.groupEnd();console.group("Error");console.log(s);console.log(q);void 0!==o&&console.log(o);console.groupEnd();console.groupEnd()}void 0!==o?r.reject({uri:s,desc:q,detail:o}):r.reject({uri:s,desc:q})}}delete h._calls[t[1]]}else{if(t[0]===b._MESSAGE_TYPEID_EVENT){if(r=h._prefixes.resolve(t[1],!0),r in h._subscriptions){var k=t[1],v=t[2];b._debugpubsub&&(console.group("WAMP Event"),console.info(h._wsuri+"  ["+h._session_id+"]"),console.log(k),console.log(v),console.groupEnd());h._subscriptions[r].forEach(function(c){c(k,v)})}}else{if(t[0]===b._MESSAGE_TYPEID_WELCOME){if(null===h._session_id){h._session_id=t[1];h._wamp_version=t[2];h._server=t[3];if(b._debugrpc||b._debugpubsub){console.group("WAMP Welcome"),console.info(h._wsuri+"  ["+h._session_id+"]"),console.log(h._wamp_version),console.log(h._server),console.groupEnd()}null!==h._websocket_onopen&&h._websocket_onopen()}else{throw"protocol error (welcome message received more than once)"}}}}};h._websocket.onopen=function(c){if(h._websocket.protocol!==b._subprotocol){if("undefined"===typeof h._websocket.protocol){b._debugws&&(console.group("WS Warning"),console.info(h._wsuri),console.log("WebSocket object has no protocol attribute: WAMP subprotocol check skipped!"),console.groupEnd())}else{if(h._options&&h._options.skipSubprotocolCheck){b._debugws&&(console.group("WS Warning"),console.info(h._wsuri),console.log("Server does not speak WAMP, but subprotocol check disabled by option!"),console.log(h._websocket.protocol),console.groupEnd())}else{throw h._websocket.close(1000,"server does not speak WAMP"),"server does not speak WAMP (but '"+h._websocket.protocol+"' !)"}}}b._debugws&&(console.group("WAMP Connect"),console.info(h._wsuri),console.log(h._websocket.protocol),console.groupEnd());h._websocket_connected=!0};h._websocket.onerror=function(c){};h._websocket.onclose=function(c){b._debugws&&(h._websocket_connected?console.log("Autobahn connection to "+h._wsuri+" lost (code "+c.code+", reason '"+c.reason+"', wasClean "+c.wasClean+")."):console.log("Autobahn could not connect to "+h._wsuri+" (code "+c.code+", reason '"+c.reason+"', wasClean "+c.wasClean+")."));void 0!==h._websocket_onclose&&(h._websocket_connected?c.wasClean?h._websocket_onclose(b.CONNECTION_CLOSED,"WS-"+c.code+": "+c.reason):h._websocket_onclose(b.CONNECTION_LOST):h._websocket_onclose(b.CONNECTION_UNREACHABLE));h._websocket_connected=!1;h._wsuri=null;h._websocket_onopen=null;h._websocket_onclose=null;h._websocket=null};h.log=function(){h._options&&"sessionIdent" in h._options?console.group("WAMP Session '"+h._options.sessionIdent+"' ["+h._session_id+"]"):console.group("WAMP Session ["+h._session_id+"]");for(var c=0;c<arguments.length;++c){console.log(arguments[c])}console.groupEnd()}};b.Session.prototype._send=function(a){if(!this._websocket_connected){throw"Autobahn not connected"}switch(!0){case e.Prototype&&"undefined"===typeof top.root.__prototype_deleted:case"function"===typeof a.toJSON:a=a.toJSON();break;default:a=JSON.stringify(a)}this._websocket.send(a);this._txcnt+=1;b._debugws&&(console.group("WS Send"),console.info(this._wsuri+"  ["+this._session_id+"]"),console.log(this._txcnt),console.log(a),console.groupEnd())};b.Session.prototype.close=function(){this._websocket_connected&&this._websocket.close()};b.Session.prototype.sessionid=function(){return this._session_id};b.Session.prototype.wsuri=function(){return this._wsuri};b.Session.prototype.shrink=function(c,f){void 0===f&&(f=!0);return this._prefixes.shrink(c,f)};b.Session.prototype.resolve=function(c,f){void 0===f&&(f=!0);return this._prefixes.resolve(c,f)};b.Session.prototype.prefix=function(a,c){this._prefixes.set(a,c);if(b._debugrpc||b._debugpubsub){console.group("WAMP Prefix"),console.info(this._wsuri+"  ["+this._session_id+"]"),console.log(a),console.log(c),console.groupEnd()}this._send([b._MESSAGE_TYPEID_PREFIX,a,c])};b.Session.prototype.call=function(){for(var a=new b.Deferred,h;!(h=b._newidFast(),!(h in this._calls));){}this._calls[h]=a;for(var i=this._prefixes.shrink(arguments[0],!0),i=[b._MESSAGE_TYPEID_CALL,h,i],g=1;g<arguments.length;g+=1){i.push(arguments[g])}this._send(i);b._debugrpc&&(a._ab_callobj=i,a._ab_tid=this._wsuri+"  ["+this._session_id+"]["+h+"]",console.time(a._ab_tid),console.info());return a.promise.then?a.promise:a};b.Session.prototype.subscribe=function(a,f){var g=this._prefixes.resolve(a,!0);g in this._subscriptions||(b._debugpubsub&&(console.group("WAMP Subscribe"),console.info(this._wsuri+"  ["+this._session_id+"]"),console.log(a),console.log(f),console.groupEnd()),this._send([b._MESSAGE_TYPEID_SUBSCRIBE,a]),this._subscriptions[g]=[]);if(-1===this._subscriptions[g].indexOf(f)){this._subscriptions[g].push(f)}else{throw"callback "+f+" already subscribed for topic "+g}};b.Session.prototype.unsubscribe=function(a,i){var j=this._prefixes.resolve(a,!0);if(j in this._subscriptions){var g;if(void 0!==i){var h=this._subscriptions[j].indexOf(i);if(-1!==h){g=i,this._subscriptions[j].splice(h,1)}else{throw"no callback "+i+" subscribed on topic "+j}}else{g=this._subscriptions[j].slice(),this._subscriptions[j]=[]}0===this._subscriptions[j].length&&(delete this._subscriptions[j],b._debugpubsub&&(console.group("WAMP Unsubscribe"),console.info(this._wsuri+"  ["+this._session_id+"]"),console.log(a),console.log(g),console.groupEnd()),this._send([b._MESSAGE_TYPEID_UNSUBSCRIBE,a]))}else{throw"not subscribed to topic "+j}};b.Session.prototype.publish=function(){var a=arguments[0],k=arguments[1],l=null,i=null,j=null,h=null;if(3<arguments.length){if(!(arguments[2] instanceof Array)){throw"invalid argument type(s)"}if(!(arguments[3] instanceof Array)){throw"invalid argument type(s)"}i=arguments[2];j=arguments[3];h=[b._MESSAGE_TYPEID_PUBLISH,a,k,i,j]}else{if(2<arguments.length){if("boolean"===typeof arguments[2]){l=arguments[2],h=[b._MESSAGE_TYPEID_PUBLISH,a,k,l]}else{if(arguments[2] instanceof Array){i=arguments[2],h=[b._MESSAGE_TYPEID_PUBLISH,a,k,i]}else{throw"invalid argument type(s)"}}}else{h=[b._MESSAGE_TYPEID_PUBLISH,a,k]}}b._debugpubsub&&(console.group("WAMP Publish"),console.info(this._wsuri+"  ["+this._session_id+"]"),console.log(a),console.log(k),null!==l?console.log(l):null!==i&&(console.log(i),null!==j&&console.log(j)),console.groupEnd());this._send(h)};b.Session.prototype.authreq=function(c,f){return this.call("http://api.wamp.ws/procedure#authreq",c,f)};b.Session.prototype.authsign=function(c,f){f||(f="");return CryptoJS.HmacSHA256(c,f).toString(CryptoJS.enc.Base64)};b.Session.prototype.auth=function(c){return this.call("http://api.wamp.ws/procedure#auth",c)};b._connect=function(a){var c=new b.Session(a.wsuri,function(){a.connects+=1;a.retryCount=0;a.onConnect(c)},function(i,g){var h=null;switch(i){case b.CONNECTION_CLOSED:a.onHangup(i,"Connection was closed properly ["+g+"]");break;case b.CONNECTION_UNSUPPORTED:a.onHangup(i,"Browser does not support WebSocket.");break;case b.CONNECTION_UNREACHABLE:a.retryCount+=1;if(0===a.connects){a.onHangup(i,"Connection could not be established.")}else{if(a.retryCount<=a.options.maxRetries){(h=a.onHangup(b.CONNECTION_UNREACHABLE_SCHEDULED_RECONNECT,"Connection unreachable - scheduled reconnect to occur in "+a.options.retryDelay/1000+" second(s) - attempt "+a.retryCount+" of "+a.options.maxRetries+".",{delay:a.options.retryDelay,retries:a.retryCount,maxretries:a.options.maxRetries}))?(b._debugconnect&&console.log("Connection unreachable - retrying stopped by app"),a.onHangup(b.CONNECTION_RETRIES_EXCEEDED,"Number of connection retries exceeded.")):(b._debugconnect&&console.log("Connection unreachable - retrying ("+a.retryCount+") .."),e.setTimeout(function(){b._connect(a)},a.options.retryDelay))}else{a.onHangup(b.CONNECTION_RETRIES_EXCEEDED,"Number of connection retries exceeded.")}}break;case b.CONNECTION_LOST:a.retryCount+=1;if(a.retryCount<=a.options.maxRetries){(h=a.onHangup(b.CONNECTION_LOST_SCHEDULED_RECONNECT,"Connection lost - scheduled "+a.retryCount+"th reconnect to occur in "+a.options.retryDelay/1000+" second(s).",{delay:a.options.retryDelay,retries:a.retryCount,maxretries:a.options.maxRetries}))?(b._debugconnect&&console.log("Connection lost - retrying stopped by app"),a.onHangup(b.CONNECTION_RETRIES_EXCEEDED,"Connection lost.")):(b._debugconnect&&console.log("Connection lost - retrying ("+a.retryCount+") .."),e.setTimeout(function(){b._connect(a)},a.options.retryDelay))}else{a.onHangup(b.CONNECTION_RETRIES_EXCEEDED,"Connection lost.")}break;default:throw"unhandled close code in ab._connect"}},a.options)};b.connect=function(a,i,j,g){var h={};h.wsuri=a;h.options=g?g:{};void 0===h.options.retryDelay&&(h.options.retryDelay=5000);void 0===h.options.maxRetries&&(h.options.maxRetries=10);void 0===h.options.skipSubprotocolCheck&&(h.options.skipSubprotocolCheck=!1);void 0===h.options.skipSubprotocolAnnounce&&(h.options.skipSubprotocolAnnounce=!1);if(i){h.onConnect=i}else{throw"onConnect handler required!"}h.onHangup=j?j:function(f,k,l){b._debugconnect&&console.log(f,k,l)};h.connects=0;h.retryCount=0;b._connect(h)};b.launch=function(a,f,g){b.connect(a.wsuri,function(h){!a.appkey||""===a.appkey?h.authreq().then(function(){h.auth().then(function(c){f?f(h):b._debugconnect&&h.log("Session opened.")},h.log)},h.log):h.authreq(a.appkey,a.appextra).then(function(i){var c=null;"function"===typeof a.appsecret?c=a.appsecret(i):(c=b.deriveKey(a.appsecret,JSON.parse(i).authextra),c=h.authsign(i,c));h.auth(c).then(function(j){f?f(h):b._debugconnect&&h.log("Session opened.")},h.log)},h.log)},function(c,i,h){g?g(c,i,h):b._debugconnect&&b.log("Session closed.",c,i,h)},a.sessionConfig)};return b});ab._UA_FIREFOX=/.*Firefox\/([0-9+]*).*/;ab._UA_CHROME=/.*Chrome\/([0-9+]*).*/;ab._UA_CHROMEFRAME=/.*chromeframe\/([0-9]*).*/;ab._UA_WEBKIT=/.*AppleWebKit\/([0-9+.]*)w*.*/;ab._UA_WEBOS=/.*webOS\/([0-9+.]*)w*.*/;ab._matchRegex=function(e,d){var b=d.exec(e);return b?b[1]:b};ab.lookupWsSupport=function(){var b=navigator.userAgent;if(-1<b.indexOf("MSIE")){if(-1<b.indexOf("MSIE 10")){return[!0,!0,!0]}if(-1<b.indexOf("chromeframe")){var a=parseInt(ab._matchRegex(b,ab._UA_CHROMEFRAME));return 14<=a?[!0,!1,!0]:[!1,!1,!1]}if(-1<b.indexOf("MSIE 8")||-1<b.indexOf("MSIE 9")){return[!0,!0,!0]}}else{if(-1<b.indexOf("Firefox")){if(a=parseInt(ab._matchRegex(b,ab._UA_FIREFOX))){if(7<=a){return[!0,!1,!0]}if(3<=a){return[!0,!0,!0]}}return[!1,!1,!0]}if(-1<b.indexOf("Safari")&&-1==b.indexOf("Chrome")){if(a=ab._matchRegex(b,ab._UA_WEBKIT)){return -1<b.indexOf("Windows")&&"534+"==a||-1<b.indexOf("Macintosh")&&(a=a.replace("+","").split("."),535==parseInt(a[0])&&24<=parseInt(a[1])||535<parseInt(a[0]))?[!0,!1,!0]:-1<b.indexOf("webOS")?(a=ab._matchRegex(b,ab._UA_WEBOS).split("."),2==parseInt(a[0])?[!1,!0,!0]:[!1,!1,!1]):[!0,!0,!0]}}else{if(-1<b.indexOf("Chrome")){if(a=parseInt(ab._matchRegex(b,ab._UA_CHROME))){return 14<=a?[!0,!1,!0]:4<=a?[!0,!0,!0]:[!1,!1,!0]}}else{if(-1<b.indexOf("Android")){if(-1<b.indexOf("Firefox")||-1<b.indexOf("CrMo")){return[!0,!1,!0]}if(-1<b.indexOf("Opera")){return[!1,!1,!0]}if(-1<b.indexOf("CrMo")){return[!0,!0,!0]}}else{if(-1<b.indexOf("iPhone")||-1<b.indexOf("iPad")||-1<b.indexOf("iPod")){return[!1,!1,!0]}}}}}return[!1,!1,!1]};
var WS=(function(){var a=function(c,b){this._uri=c;this._session=false;this._listeners={};this.connect()};a.prototype.connect=function(){var b=this;ab.connect(this._uri,function(c){b.fire({type:"socket/connect",data:c})},function(c,d){b._session=false;b.fire({type:"socket/disconnect",data:{code:c,reason:d}})})};a.prototype.on=function(b,c){if(typeof this._listeners[b]=="undefined"){this._listeners[b]=[]}this._listeners[b].push(c)};a.prototype.fire=function(e){if(typeof e=="string"){e={type:e}}if(!e.target){e.target=this}if(!e.type){throw new Error("Event object missing 'type' property.")}if(this._listeners[e.type] instanceof Array){var d=this._listeners[e.type];for(var c=0,b=d.length;c<b;c++){d[c].call(this,e.data)}}};a.prototype.off=function(e,f){if(this._listeners[e] instanceof Array){var d=this._listeners[e];for(var c=0,b=d.length;c<b;c++){if(d[c]===f){d.splice(c,1);break}}}};return{connect:function(b){return new a(b)}}})();
(function(){var T=!1,S,R=this;function Q(i,m){var f=i.split("."),l=R;!(f[0] in l)&&l.execScript&&l.execScript("var "+f[0]);for(var k;f.length&&(k=f.shift());){!f.length&&void 0!==m?l[k]=m:l=l[k]?l[k]:l[k]={}}}var P=Array.prototype,O=P.forEach?function(i,k,f){P.forEach.call(i,k,f)}:function(i,n,f){for(var m=i.length,l="string"==typeof i?i.split(""):i,k=0;k<m;k++){k in l&&n.call(f,l[k],k,i)}};function N(i,n){this.c={};this.a=[];var f=arguments.length;if(1<f){if(f%2){throw Error("Uneven number of arguments")}for(var m=0;m<f;m+=2){this.set(arguments[m],arguments[m+1])}}else{if(i){var l;if(i instanceof N){M(i);m=i.a.concat();M(i);l=[];for(f=0;f<i.a.length;f++){l.push(i.c[i.a[f]])}}else{var f=[],k=0;for(m in i){f[k++]=m}m=f;f=[];k=0;for(l in i){f[k++]=i[l]}l=f}for(f=0;f<m.length;f++){this.set(m[f],l[f])}}}}N.prototype.f=0;N.prototype.p=0;function M(i){if(i.f!=i.a.length){for(var m=0,f=0;m<i.a.length;){var l=i.a[m];A(i.c,l)&&(i.a[f++]=l);m++}i.a.length=f}if(i.f!=i.a.length){for(var k={},f=m=0;m<i.a.length;){l=i.a[m],A(k,l)||(i.a[f++]=l,k[l]=1),m++}i.a.length=f}}N.prototype.get=function(f,i){return A(this.c,f)?this.c[f]:i};N.prototype.set=function(f,i){A(this.c,f)||(this.f++,this.a.push(f),this.p++);this.c[f]=i};function A(f,i){return Object.prototype.hasOwnProperty.call(f,i)}var s,o,h,g;function d(){return R.navigator?R.navigator.userAgent:null}g=h=o=s=T;var H;if(H=d()){var B=R.navigator;s=0==H.indexOf("Opera");o=!s&&-1!=H.indexOf("MSIE");h=!s&&-1!=H.indexOf("WebKit");g=!s&&!h&&"Gecko"==B.product}var z=o,p=g,j=h;var e;if(s&&R.opera){var c=R.opera.version;"function"==typeof c&&c()}else{p?e=/rv\:([^\);]+)(\)|;)/:z?e=/MSIE\s+([^\);]+)(\)|;)/:j&&(e=/WebKit\/(\S+)/),e&&e.exec(d())}function b(f,i){this.b=f||{e:"",prefix:"",host:"",scheme:""};this.h(i||{})}b.g=function(){return b.j?b.j:b.j=new b};S=b.prototype;S.h=function(f){this.d=new N(f)};S.o=function(){return this.d};S.k=function(f){this.b.e=f};S.n=function(){return this.b.e};S.l=function(f){this.b.prefix=f};function a(i,n,f,m){var l,k=RegExp(/\[\]$/);if(f instanceof Array){O(f,function(q,r){k.test(n)?m(n,q):a(i,n+"["+("object"===typeof q?r:"")+"]",q,m)})}else{if("object"===typeof f){for(l in f){a(i,n+"["+l+"]",f[l],m)}}else{m(n,f)}}}S.i=function(f){var i=this.b.prefix+f;if(A(this.d.c,i)){f=i}else{if(!A(this.d.c,f)){throw Error('The route "'+f+'" does not exist.')}}return this.d.get(f)};S.m=function(v,r,u){var q=this.i(v),n=r||{},m={},t;for(t in n){m[t]=n[t]}var l="",x=!0,k="";O(q.tokens,function(y){if("text"===y[0]){l=y[1]+l,x=T}else{if("variable"===y[0]){var D=y[3] in q.defaults;if(T===x||!D||y[3] in n&&n[y[3]]!=q.defaults[y[3]]){if(y[3] in n){var D=n[y[3]],C=y[3];C in m&&delete m[C]}else{if(D){D=q.defaults[y[3]]}else{if(x){return}throw Error('The route "'+v+'" requires the parameter "'+y[3]+'".')}}if(!(!0===D||T===D||""===D)||!x){C=encodeURIComponent(D).replace(/%2F/g,"/"),"null"===C&&null===D&&(C=""),l=y[1]+C+l}x=T}else{D&&(y=y[3],y in m&&delete m[y])}}else{throw Error('The token type "'+y[0]+'" is not supported.')}}});""===l&&(l="/");O(q.hosttokens,function(C){var y;if("text"===C[0]){k=C[1]+k}else{if("variable"===C[0]){if(C[3] in n){y=n[C[3]];var D=C[3];D in m&&delete m[D]}else{C[3] in q.defaults&&(y=q.defaults[C[3]])}k=C[1]+y+k}}});l=this.b.e+l;"_scheme" in q.requirements&&this.b.scheme!=q.requirements._scheme?l=q.requirements._scheme+"://"+(k||this.b.host)+l:k&&this.b.host!==k?l=this.b.scheme+"://"+k+l:!0===u&&(l=this.b.scheme+"://"+this.b.host+l);var r=0,i;for(i in m){r++}if(0<r){var f,w=[];i=function(C,y){y="function"===typeof y?y():y;w.push(encodeURIComponent(C)+"="+encodeURIComponent(null===y?"":y))};for(f in m){a(this,f,m[f],i)}l=l+"?"+w.join("&").replace(/%20/g,"+")}return l};Q("fos.Router",b);Q("fos.Router.setData",function(f){var i=b.g();i.k(f.base_url);i.h(f.routes);"prefix" in f&&i.l(f.prefix);i.b.host=f.host;i.b.scheme=f.scheme});b.getInstance=b.g;b.prototype.setRoutes=b.prototype.h;b.prototype.getRoutes=b.prototype.o;b.prototype.setBaseUrl=b.prototype.k;b.prototype.getBaseUrl=b.prototype.n;b.prototype.generate=b.prototype.m;b.prototype.setPrefix=b.prototype.l;b.prototype.getRoute=b.prototype.i;window.Routing=b.g()})();
/*!
 * typeahead.js 0.10.0
 * https://github.com/twitter/typeahead.js
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(c){var r={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(t){return !t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return typeof t==="string"},isNumber:function(t){return typeof t==="number"},isArray:c.isArray,isFunction:c.isFunction,isObject:c.isPlainObject,isUndefined:function(t){return typeof t==="undefined"},bind:c.proxy,each:function(v,t){c.each(v,u);function u(w,x){return t(x,w)}},map:c.map,filter:c.grep,every:function(u,v){var t=true;if(!u){return t}c.each(u,function(w,x){if(!(t=v.call(null,x,w,u))){return false}});return !!t},some:function(u,v){var t=false;if(!u){return t}c.each(u,function(w,x){if(t=v.call(null,x,w,u)){return false}});return !!t},mixin:c.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function f(u){return c.isFunction(u)?u:t;function t(){return String(u)}},defer:function(t){setTimeout(t,0)},debounce:function(v,x,u){var w,t;return function(){var B=this,A=arguments,z,y;z=function(){w=null;if(!u){t=v.apply(B,A)}};y=u&&!w;clearTimeout(w);w=setTimeout(z,x);if(y){t=v.apply(B,A)}return t}},throttle:function(y,A){var w,v,z,t,x,u;x=0;u=function(){x=new Date();z=null;t=y.apply(w,v)};return function(){var B=new Date(),C=A-(B-x);w=this;v=arguments;if(C<=0){clearTimeout(z);z=null;x=B;t=y.apply(w,v)}else{if(!z){z=setTimeout(u,C)}}return t}},noop:function(){}};var o="0.10.0";var e=function(x,u){function B(C){this.maxSize=C||100;this.size=0;this.hash={};this.list=new A()}r.mixin(B.prototype,{set:function y(C,F){var E=this.list.tail,D;if(this.size>=this.maxSize){this.list.remove(E);delete this.hash[E.key]}if(D=this.hash[C]){D.val=F;this.list.moveToFront(D)}else{D=new w(C,F);this.list.add(D);this.hash[C]=D;this.size++}},get:function t(C){var D=this.hash[C];if(D){this.list.moveToFront(D);return D.val}}});function A(){this.head=this.tail=null}r.mixin(A.prototype,{add:function z(C){if(this.head){C.next=this.head;this.head.prev=C}this.head=C;this.tail=this.tail||C},remove:function v(C){C.prev?C.prev.next=C.next:this.head=C.next;C.next?C.next.prev=C.prev:this.tail=C.prev},moveToFront:function(C){this.remove(C);this.add(C)}});function w(C,D){this.key=C;this.val=D;this.prev=this.next=null}return B}(this);var p=function(){var t,u;try{t=window.localStorage;t.setItem("~~~","!");t.removeItem("~~~")}catch(y){t=null}function w(A){this.prefix=["__",A,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}if(t&&window.JSON){u={_prefix:function(A){return this.prefix+A},_ttlKey:function(A){return this._prefix(A)+this.ttlKey},get:function(A){if(this.isExpired(A)){this.remove(A)}return z(t.getItem(this._prefix(A)))},set:function(B,C,A){if(r.isNumber(A)){t.setItem(this._ttlKey(B),x(v()+A))}else{t.removeItem(this._ttlKey(B))}return t.setItem(this._prefix(B),x(C))},remove:function(A){t.removeItem(this._ttlKey(A));t.removeItem(this._prefix(A));return this},clear:function(){var C,B,D=[],A=t.length;for(C=0;C<A;C++){if((B=t.key(C)).match(this.keyMatcher)){D.push(B.replace(this.keyMatcher,""))}}for(C=D.length;C--;){this.remove(D[C])}return this},isExpired:function(B){var A=z(t.getItem(this._ttlKey(B)));return r.isNumber(A)&&v()>A?true:false}}}else{u={get:r.noop,set:r.noop,remove:r.noop,clear:r.noop,isExpired:r.noop}}r.mixin(w.prototype,u);return w;function v(){return new Date().getTime()}function x(A){return JSON.stringify(r.isUndefined(A)?null:A)}function z(A){return JSON.parse(A)}}();var q=function(){var v=0,w={},t=6,z=new e(10);function A(B){B=B||{};this._send=B.send?x(B.send):c.ajax;this._get=B.rateLimiter?B.rateLimiter(this._get):this._get}A.setMaxPendingRequests=function u(B){t=B};A.resetCache=function y(){z=new e(10)};r.mixin(A.prototype,{_get:function(E,H,C){var G=this,F;if(F=w[E]){F.done(D)}else{if(v<t){v++;w[E]=this._send(E,H).done(D).always(B)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}}function D(I){C&&C(I);z.set(E,I)}function B(){v--;delete w[E];if(G.onDeckRequestArgs){G._get.apply(G,G.onDeckRequestArgs);G.onDeckRequestArgs=null}}},get:function(C,F,B){var D=this,E;if(r.isFunction(F)){B=F;F={}}if(E=z.get(C)){r.defer(function(){B&&B(E)})}else{this._get(C,F,B)}return !!E}});return A;function x(B){return function C(E,H){var D=c.Deferred();B(E,H,G,F);return D;function G(I){r.defer(function(){D.resolve(I)})}function F(I){r.defer(function(){D.reject(I)})}}}}();var k=function(){function y(B){B=B||{};if(!B.datumTokenizer||!B.queryTokenizer){c.error("datumTokenizer and queryTokenizer are both required")}this.datumTokenizer=B.datumTokenizer;this.queryTokenizer=B.queryTokenizer;this.datums=[];this.trie=v()}r.mixin(y.prototype,{bootstrap:function w(B){this.datums=B.datums;this.trie=B.trie},add:function(C){var B=this;C=r.isArray(C)?C:[C];r.each(C,function(D){var F,E;F=B.datums.push(D)-1;E=t(B.datumTokenizer(D));r.each(E,function(G){var K,J,I,H;K=B.trie;J=G.split("");while(I=J.shift()){K=K.children[I]||(K.children[I]=v());K.ids.push(F)}})})},get:function u(D){var B=this,E,C;E=t(this.queryTokenizer(D));r.each(E,function(F){var J,I,H,G;if(C&&C.length===0){return false}J=B.trie;I=F.split("");while(J&&(H=I.shift())){J=J.children[H]}if(J&&I.length===0){G=J.ids.slice(0);C=C?z(C,G):G}else{C=[];return false}});return C?r.map(A(C),function(F){return B.datums[F]}):[]},serialize:function x(){return{datums:this.datums,trie:this.trie}}});return y;function t(B){B=r.filter(B,function(C){return !!C});B=r.map(B,function(C){return C.toLowerCase()});return B}function v(){return{ids:[],children:{}}}function A(E){var B={},D=[];for(var C=0;C<E.length;C++){if(!B[E[C]]){B[E[C]]=true;D.push(E[C])}}return D}function z(E,C){var B=0,D=0,G=[];E=E.sort(F);C=C.sort(F);while(B<E.length&&D<C.length){if(E[B]<C[D]){B++}else{if(E[B]>C[D]){D++}else{G.push(E[B]);B++;D++}}}return G;function F(I,H){return I-H}}}();var h=function(){return{local:v,prefetch:t,remote:u};function v(w){return w.local||null}function t(y){var x,w;w={url:null,thumbprint:"",ttl:24*60*60*1000,filter:null,ajax:{}};if(x=y.prefetch||null){x=r.isString(x)?{url:x}:x;x=r.mixin(w,x);x.thumbprint=o+x.thumbprint;x.ajax.method=x.ajax.method||"get";x.ajax.dataType=x.ajax.dataType||"json";!x.url&&c.error("prefetch requires url to be set")}return x}function u(A){var y,z;z={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(y=A.remote||null){y=r.isString(y)?{url:y}:y;y=r.mixin(z,y);y.rateLimiter=/^throttle$/i.test(y.rateLimitBy)?x(y.rateLimitWait):w(y.rateLimitWait);y.ajax.method=y.ajax.method||"get";y.ajax.dataType=y.ajax.dataType||"json";delete y.rateLimitBy;delete y.rateLimitWait;!y.url&&c.error("remote requires url to be set")}return y;function w(B){return function(C){return r.debounce(C,B)}}function x(B){return function(C){return r.throttle(C,B)}}}}();var a=window.Bloodhound=function(){var G;G={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function A(H){if(!H||!H.local&&!H.prefetch&&!H.remote){c.error("one of local, prefetch, or remote is required")}this.limit=H.limit||5;this.sorter=H.sorter||C;this.dupDetector=H.dupDetector||v;this.local=h.local(H);this.prefetch=h.prefetch(H);this.remote=h.remote(H);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new k({datumTokenizer:H.datumTokenizer,queryTokenizer:H.queryTokenizer});this.storage=this.cacheKey?new p(this.cacheKey):null}A.tokenizers={whitespace:function x(H){return H.split(/\s+/)},nonword:function z(H){return H.split(/\W+/)}};r.mixin(A.prototype,{_loadPrefetch:function t(L){var I=this,K,H;if(K=this._readFromStorage(L.thumbprint)){this.index.bootstrap(K);H=c.Deferred().resolve()}else{H=c.ajax(L.url,L.ajax).done(J)}return H;function J(N){var M;M=L.filter?L.filter(N):N;I.add(M);I._saveToStorage(I.index.serialize(),L.thumbprint,L.ttl)}},_getFromRemote:function u(M,H){var L=this,J,K;M=M||"";K=encodeURIComponent(M);J=this.remote.replace?this.remote.replace(this.remote.url,M):this.remote.url.replace(this.remote.wildcard,K);return this.transport.get(J,this.remote.ajax,I);function I(O){var N=L.remote.filter?L.remote.filter(O):O;H(N)}},_saveToStorage:function D(J,I,H){if(this.storage){this.storage.set(G.data,J,H);this.storage.set(G.protocol,location.protocol,H);this.storage.set(G.thumbprint,I,H)}},_readFromStorage:function F(I){var H={};if(this.storage){H.data=this.storage.get(G.data);H.protocol=this.storage.get(G.protocol);H.thumbprint=this.storage.get(G.thumbprint)}isExpired=H.thumbprint!==I||H.protocol!==location.protocol;return H.data&&!isExpired?H.data:null},initialize:function y(){var K=this,I;I=this.prefetch?this._loadPrefetch(this.prefetch):c.Deferred().resolve();this.local&&I.done(J);this.transport=this.remote?new q(this.remote):null;this.initialize=function H(){return I.promise()};return I.promise();function J(){K.add(K.local)}},add:function E(H){this.index.add(H)},get:function w(L,H){var J=this,K,I=false;K=this.index.get(L).sort(this.sorter).slice(0,this.limit);if(K.length<this.limit&&this.transport){I=this._getFromRemote(L,M)}!I&&H&&H(K);function M(O){var N=K.slice(0);r.each(O,function(Q){var P;P=r.some(N,function(R){return J.dupDetector(Q,R)});!P&&N.push(Q);return N.length<J.limit});H&&H(N.sort(J.sorter))}},ttAdapter:function B(){return r.bind(this.get,this)}});return A;function C(){return 0}function v(){return false}}();var j={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion">%BODY%</div>'};var i={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(r.isMsie()){r.mixin(i.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(r.isMsie()&&r.isMsie()<=7){r.mixin(i.input,{marginTop:"-1px"})}var b=function(){var u="typeahead:";function t(v){if(!v||!v.el){c.error("EventBus initialized without el")}this.$el=c(v.el)}r.mixin(t.prototype,{trigger:function(w){var v=[].slice.call(arguments,1);this.$el.trigger(u+w,v)}});return t}();var g=function(){var v=/\s+/,z=t();return{onSync:A,onAsync:u,off:w,trigger:x};function B(H,F,D,E){var G;if(!D){return this}F=F.split(v);D=E?C(D,E):D;this._callbacks=this._callbacks||{};while(G=F.shift()){this._callbacks[G]=this._callbacks[G]||{sync:[],async:[]};this._callbacks[G][H].push(D)}return this}function u(F,D,E){return B.call(this,"async",F,D,E)}function A(F,D,E){return B.call(this,"sync",F,D,E)}function w(D){var E;if(!this._callbacks){return this}D=D.split(v);while(E=D.shift()){delete this._callbacks[E]}return this}function x(E){var H=this,F,G,D,I,J;if(!this._callbacks){return this}E=E.split(v);D=[].slice.call(arguments,1);while((F=E.shift())&&(G=this._callbacks[F])){I=y(G.sync,this,[F].concat(D));J=y(G.async,this,[F].concat(D));I()&&z(J)}return this}function y(G,F,E){return D;function D(){var I;for(var H=0;!I&&H<G.length;H+=1){I=G[H].apply(F,E)===false}return !I}}function t(){var E,G;if(window.setImmediate){E=function F(H){setImmediate(function(){H()})}}else{E=function D(H){setTimeout(function(){H()},0)}}return E}function C(E,D){return E.bind?E.bind(D):function(){E.apply(D,[].slice.call(arguments,0))}}}();var d=function(w){var v={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function u(A){var x;A=r.mixin({},v,A);if(!A.node||!A.pattern){return}A.pattern=r.isArray(A.pattern)?A.pattern:[A.pattern];x=t(A.pattern,A.caseSensitive,A.wordsOnly);y(A.node,z);function z(D){var C,B;if(C=x.exec(D.data)){wrapperNode=w.createElement(A.tagName);A.className&&(wrapperNode.className=A.className);B=D.splitText(C.index);B.splitText(C[0].length);wrapperNode.appendChild(B.cloneNode(true));D.parentNode.replaceChild(wrapperNode,B)}return !!C}function y(E,F){var C,D=3;for(var B=0;B<E.childNodes.length;B++){C=E.childNodes[B];if(C.nodeType===D){B+=F(C)?1:0}else{y(C,F)}}}};function t(z,x,C){var B=[],A;for(var y=0;y<z.length;y++){B.push(r.escapeRegExChars(z[y]))}A=C?"\\b("+B.join("|")+")\\b":"("+B.join("|")+")";return x?new RegExp(A):new RegExp(A,"i")}}(window.document);var m=function(){var O;O={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function L(X){var V=this,W,S,U,T;X=X||{};if(!X.input){c.error("input is missing")}W=r.bind(this._onBlur,this);S=r.bind(this._onFocus,this);U=r.bind(this._onKeydown,this);T=r.bind(this._onInput,this);this.$hint=c(X.hint);this.$input=c(X.input).on("blur.tt",W).on("focus.tt",S).on("keydown.tt",U);if(this.$hint.length===0){this.setHintValue=this.getHintValue=this.clearHint=r.noop}if(!r.isMsie()){this.$input.on("input.tt",T)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(Y){if(O[Y.which||Y.keyCode]){return}r.defer(r.bind(V._onInput,V,Y))})}this.query=this.$input.val();this.$overflowHelper=E(this.$input)}L.normalizeQuery=function(S){return(S||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")};r.mixin(L.prototype,g,{_onBlur:function C(S){this.resetInputValue();this.trigger("blurred")},_onFocus:function v(S){this.trigger("focused")},_onKeydown:function Q(S){var T=O[S.which||S.keyCode];this._managePreventDefault(T,S);if(T&&this._shouldTrigger(T,S)){this.trigger(T+"Keyed",S)}},_onInput:function t(S){this._checkInputValue()},_managePreventDefault:function x(W,V){var U,T,S;switch(W){case"tab":T=this.getHintValue();S=this.getInputValue();U=T&&T!==S&&!F(V);break;case"up":case"down":U=!F(V);break;default:U=false}U&&V.preventDefault()},_shouldTrigger:function R(U,T){var S;switch(U){case"tab":S=!F(T);break;default:S=true}return S},_checkInputValue:function z(){var S,T,U;S=this.getInputValue();T=B(S,this.query);U=T?this.query.length!==S.length:false;if(!T){this.trigger("queryChanged",this.query=S)}else{if(U){this.trigger("whitespaceChanged",this.query)}}},focus:function H(){this.$input.focus()},blur:function M(){this.$input.blur()},getQuery:function J(){return this.query},setQuery:function I(S){this.query=S},getInputValue:function w(){return this.$input.val()},setInputValue:function A(T,S){this.$input.val(T);!S&&this._checkInputValue()},getHintValue:function N(){return this.$hint.val()},setHintValue:function y(S){this.$hint.val(S)},resetInputValue:function u(){this.$input.val(this.query)},clearHint:function D(){this.$hint.val("")},getLanguageDirection:function G(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function K(){var S=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=S},isCursorAtEnd:function(){var T,U,S;T=this.$input.val().length;U=this.$input[0].selectionStart;if(r.isNumber(U)){return U===T}else{if(document.selection){S=document.selection.createRange();S.moveStart("character",-T);return T===S.text.length}}return true},destroy:function P(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null}});return L;function E(S){return c('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:S.css("font-family"),fontSize:S.css("font-size"),fontStyle:S.css("font-style"),fontVariant:S.css("font-variant"),fontWeight:S.css("font-weight"),wordSpacing:S.css("word-spacing"),letterSpacing:S.css("letter-spacing"),textIndent:S.css("text-indent"),textRendering:S.css("text-rendering"),textTransform:S.css("text-transform")}).insertAfter(S)}function B(T,S){return L.normalizeQuery(T)===L.normalizeQuery(S)}function F(S){return S.altKey||S.ctrlKey||S.metaKey||S.shiftKey}}();var s=function(){var u="ttDataset",F="ttValue",A="ttDatum";function t(G){G=G||{};G.templates=G.templates||{};if(!G.source){c.error("missing source")}this.query=null;this.highlight=!!G.highlight;this.name=G.name||r.getUniqueId();this.source=G.source;this.valueKey=G.displayKey||"value";this.templates=w(G.templates,this.valueKey);this.$el=c(j.dataset.replace("%CLASS%",this.name))}t.extractDatasetName=function E(G){return c(G).data(u)};t.extractValue=function B(G){return c(G).data(F)};t.extractDatum=function B(G){return c(G).data(A)};r.mixin(t.prototype,g,{_render:function v(M,G){if(!this.$el){return}var L=this,I;this.$el.empty();I=G&&G.length;if(!I&&this.templates.empty){this.$el.html(H()).prepend(L.templates.header?K():null).append(L.templates.footer?J():null)}else{if(I){this.$el.html(N()).prepend(L.templates.header?K():null).append(L.templates.footer?J():null)}}this.trigger("rendered");function H(){return L.templates.empty({query:M})}function N(){var O;O=c(j.suggestions).css(i.suggestions).append(r.map(G,P));L.highlight&&d({node:O[0],pattern:M});return O;function P(S){var T,R,Q;R=L.templates.suggestion(S);Q=j.suggestion.replace("%BODY%",R);T=c(Q).data(u,L.name).data(F,S[L.valueKey]).data(A,S);T.children().each(function(){c(this).css(i.suggestionChild)});return T}}function K(){return L.templates.header({query:M,isEmpty:!I})}function J(){return L.templates.footer({query:M,isEmpty:!I})}},getRoot:function C(){return this.$el},update:function x(I){var H=this;this.query=I;this.source(I,G);function G(J){I===H.query&&H._render(I,J)}},clear:function z(){this._render(this.query||"")},isEmpty:function y(){return this.$el.is(":empty")},destroy:function D(){this.$el=null}});return t;function w(H,I){return{empty:H.empty&&r.templatify(H.empty),header:H.header&&r.templatify(H.header),footer:H.footer&&r.templatify(H.footer),suggestion:H.suggestion||G};function G(J){return"<p>"+J[I]+"</p>"}}}();var n=function(){function N(Z){var W=this,X,T,U,Y,V;Z=Z||{};if(!Z.menu){c.error("menu is required")}this.isOpen=false;this.isEmpty=true;this.isMouseOverDropdown=false;this.datasets=r.map(Z.datasets,D);X=r.bind(this._onMouseEnter,this);T=r.bind(this._onMouseLeave,this);U=r.bind(this._onSuggestionClick,this);Y=r.bind(this._onSuggestionMouseEnter,this);V=r.bind(this._onSuggestionMouseLeave,this);this.$menu=c(Z.menu).on("mouseenter.tt",X).on("mouseleave.tt",T).on("click.tt",".tt-suggestion",U).on("mouseenter.tt",".tt-suggestion",Y).on("mouseleave.tt",".tt-suggestion",V);r.each(this.datasets,function(aa){W.$menu.append(aa.getRoot());aa.onSync("rendered",W._onRendered,W)})}r.mixin(N.prototype,g,{_onMouseEnter:function F(T){this.isMouseOverDropdown=true},_onMouseLeave:function S(T){this.isMouseOverDropdown=false},_onSuggestionClick:function M(T){this.trigger("suggestionClicked",c(T.currentTarget))},_onSuggestionMouseEnter:function t(T){this._removeCursor();this._setCursor(c(T.currentTarget),true)},_onSuggestionMouseLeave:function H(T){this._removeCursor()},_onRendered:function z(){this.isEmpty=r.every(this.datasets,T);this.isEmpty?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered");function T(U){return U.isEmpty()}},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function y(){return this.$menu.find(".tt-suggestion")},_getCursor:function w(){return this.$menu.find(".tt-cursor").first()},_setCursor:function P(U,T){U.first().addClass("tt-cursor");!T&&this.trigger("cursorMoved")},_removeCursor:function v(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function u(T){var V,U,X,W;if(!this.isOpen){return}U=this._getCursor();V=this._getSuggestions();this._removeCursor();X=V.index(U)+T;X=(X+1)%(V.length+1)-1;if(X===-1){this.trigger("cursorRemoved");return}else{if(X<-1){X=V.length-1}}this._setCursor(W=V.eq(X));this._ensureVisible(W)},_ensureVisible:function L(W){var T,V,U,X;T=W.position().top;V=T+W.outerHeight(true);U=this.$menu.scrollTop();X=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);if(T<0){this.$menu.scrollTop(U+T)}else{if(X<V){this.$menu.scrollTop(U+(V-X))}}},close:function I(){if(this.isOpen){this.isOpen=this.isMouseOverDropdown=false;this._removeCursor();this._hide();this.trigger("closed")}},open:function G(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function Q(T){this.$menu.css(T==="ltr"?i.ltr:i.rtl)},moveCursorUp:function A(){this._moveCursor(-1)},moveCursorDown:function R(){this._moveCursor(+1)},getDatumForSuggestion:function C(U){var T=null;if(U.length){T={raw:s.extractDatum(U),value:s.extractValue(U),datasetName:s.extractDatasetName(U)}}return T},getDatumForCursor:function x(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function K(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function B(T){r.each(this.datasets,U);function U(V){V.update(T)}},empty:function E(){r.each(this.datasets,T);function T(U){U.clear()}},isVisible:function J(){return this.isOpen&&!this.isEmpty},destroy:function O(){this.$menu.off(".tt");this.$menu=null;r.each(this.datasets,T);function T(U){U.destroy()}}});return N;function D(T){return new s(T)}}();var l=function(){var U="ttAttrs";function C(ab){var aa,ac,Z,Y;ab=ab||{};if(!ab.input){c.error("missing input")}this.autoselect=!!ab.autoselect;this.minLength=r.isNumber(ab.minLength)?ab.minLength:1;this.$node=F(ab.input,ab.withHint);aa=this.$node.find(".tt-dropdown-menu");ac=this.$node.find(".tt-input");Z=this.$node.find(".tt-hint");this.eventBus=ab.eventBus||new b({el:ac});this.dropdown=new n({menu:aa,datasets:ab.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=new m({input:ac,hint:Z}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);aa.on("mousedown.tt",function(ad){if(r.isMsie()&&r.isMsie()<9){ac[0].onbeforedeactivate=function(){window.event.returnValue=false;ac[0].onbeforedeactivate=null}}ad.preventDefault()})}r.mixin(C.prototype,{_onSuggestionClicked:function u(aa,Z){var Y;if(Y=this.dropdown.getDatumForSuggestion(Z)){this._select(Y)}},_onCursorMoved:function P(){var Y=this.dropdown.getDatumForCursor();this.input.clearHint();this.input.setInputValue(Y.value,true);this.eventBus.trigger("cursorchanged",Y.raw,Y.datasetName)},_onCursorRemoved:function x(){this.input.resetInputValue();this._updateHint()},_onDatasetRendered:function L(){this._updateHint()},_onOpened:function v(){this._updateHint();this.eventBus.trigger("opened")},_onClosed:function A(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function N(){this.dropdown.open()},_onBlurred:function O(){!this.dropdown.isMouseOverDropdown&&this.dropdown.close()},_onEnterKeyed:function I(Z,Y){var aa,ab;aa=this.dropdown.getDatumForCursor();ab=this.dropdown.getDatumForTopSuggestion();if(aa){this._select(aa);Y.preventDefault()}else{if(this.autoselect&&ab){this._select(ab);Y.preventDefault()}}},_onTabKeyed:function X(aa,Z){var Y;if(Y=this.dropdown.getDatumForCursor()){this._select(Y);Z.preventDefault()}else{this._autocomplete()}},_onEscKeyed:function S(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function t(){var Y=this.input.getQuery();if(!this.dropdown.isOpen&&Y.length>=this.minLength){this.dropdown.update(Y)}this.dropdown.open();this.dropdown.moveCursorUp()},_onDownKeyed:function y(){var Y=this.input.getQuery();if(!this.dropdown.isOpen&&Y.length>=this.minLength){this.dropdown.update(Y)}this.dropdown.open();this.dropdown.moveCursorDown()},_onLeftKeyed:function W(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function K(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function E(Z,Y){this.input.clearHint();this.dropdown.empty();Y.length>=this.minLength&&this.dropdown.update(Y);this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function T(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function R(){var Y;if(this.dir!==(Y=this.input.getLanguageDirection())){this.dir=Y;this.$node.css("direction",Y);this.dropdown.setLanguageDirection(Y)}},_updateHint:function M(){var aa,Z,ad,ac,Y,ab;aa=this.dropdown.getDatumForTopSuggestion();if(aa&&this.dropdown.isVisible()&&!this.input.hasOverflow()){Z=this.input.getInputValue();ad=m.normalizeQuery(Z);ac=r.escapeRegExChars(ad);Y=new RegExp("^(?:"+ac+")(.*$)","i");ab=Y.exec(aa.value);this.input.setHintValue(Z+(ab?ab[1]:""))}},_autocomplete:function V(){var aa,Z,Y;aa=this.input.getHintValue();Z=this.input.getQuery();if(aa&&Z!==aa&&this.input.isCursorAtEnd()){Y=this.dropdown.getDatumForTopSuggestion();Y&&this.input.setInputValue(Y.value);this.eventBus.trigger("autocompleted",Y.raw,Y.datasetName)}},_select:function G(Y){this.input.clearHint();this.input.setQuery(Y.value);this.input.setInputValue(Y.value,true);this.dropdown.empty();this._setLanguageDirection();r.defer(r.bind(this.dropdown.close,this.dropdown));this.eventBus.trigger("selected",Y.raw,Y.datasetName)},open:function B(){this.dropdown.open()},close:function D(){this.dropdown.close()},getQuery:function J(){return this.input.getQuery()},setQuery:function H(Y){this.input.setInputValue(Y)},destroy:function Q(){this.input.destroy();this.dropdown.destroy();w(this.$node);this.$node=null}});return C;function F(Y,ad){var ae,aa,ac,Z;ae=c(Y);aa=c(j.wrapper).css(i.wrapper);ac=c(j.dropdown).css(i.dropdown);Z=ae.clone().css(i.hint).css(z(ae));Z.removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",true).attr({autocomplete:"off",spellcheck:"false"});ae.data(U,{dir:ae.attr("dir"),autocomplete:ae.attr("autocomplete"),spellcheck:ae.attr("spellcheck"),style:ae.attr("style")});ae.addClass("tt-input").attr({autocomplete:"off",spellcheck:false}).css(ad?i.input:i.inputWithNoHint);try{!ae.attr("dir")&&ae.attr("dir","auto")}catch(ab){}return ae.wrap(aa).parent().prepend(ad?Z:null).append(ac)}function z(Y){return{backgroundAttachment:Y.css("background-attachment"),backgroundClip:Y.css("background-clip"),backgroundColor:Y.css("background-color"),backgroundImage:Y.css("background-image"),backgroundOrigin:Y.css("background-origin"),backgroundPosition:Y.css("background-position"),backgroundRepeat:Y.css("background-repeat"),backgroundSize:Y.css("background-size")}}function w(Y){var Z=Y.find(".tt-input");r.each(Z.data(U),function(ab,aa){r.isUndefined(ab)?Z.removeAttr(aa):Z.attr(aa,ab)});Z.detach().removeData(U).removeClass("tt-input").insertAfter(Y);Y.remove()}}();(function(){var u,v;u="ttTypeahead";v={initialize:function t(C){var B=[].slice.call(arguments,1);C=C||{};return this.each(A);function A(){var G=c(this),D,F;r.each(B,function(H){H.highlight=!!C.highlight});F=new l({input:G,eventBus:D=new b({el:G}),withHint:r.isUndefined(C.hint)?true:!!C.hint,minLength:C.minLength,autoselect:C.autoselect,datasets:B});G.data(u,F);function E(H){return function(){r.defer(function(){D.trigger(H)})}}}},open:function w(){return this.each(A);function A(){var C=c(this),B;if(B=C.data(u)){B.open()}}},close:function z(){return this.each(A);function A(){var C=c(this),B;if(B=C.data(u)){B.close()}}},val:function y(B){return r.isString(B)?this.each(C):this.map(A).get();function C(){var E=c(this),D;if(D=E.data(u)){D.setQuery(B)}}function A(){var F=c(this),E,D;if(E=F.data(u)){D=E.getQuery()}return D}},destroy:function x(){return this.each(A);function A(){var C=c(this),B;if(B=C.data(u)){B.destroy();C.removeData(u)}}}};jQuery.fn.typeahead=function(A){if(v[A]){return v[A].apply(this,[].slice.call(arguments,1))}else{return v.initialize.apply(this,arguments)}}})()})(window.jQuery);
var serverCommands={commands:{},};var newCommandNr=0;function addServerCommand(a){serverCommands.commands[newCommandNr]=a;newCommandNr+=1}var lastUpdateId=0;var observerUpdateSection=new Array();function sendServerCommands(b){showLoadingNotification(true);if(lastUpdateId!=0){serverCommands.lastUpdateId=lastUpdateId}if(b&&(typeof getRefreshCommands=="function")){refreshCommands=getRefreshCommands();for(var a=0;a<refreshCommands.length;a++){addServerCommand(refreshCommands[a])}}$.ajax({type:"POST",cache:false,data:serverCommands,url:urlApiCommand,dataType:"json",success:function(c){showOfflineMessage(false);showLoadingNotification(false);preHandleResponse(c);if(typeof c.messages!="undefined"){addMessagesNotifications(c.messages)}},statusCode:{403:function(){alert("You have been signed out, please log in again");window.location.href=urlFrontLogin},0:function(){showOfflineMessage(true)},},});serverCommands={commands:{}};newCommandNr=0}websocketConnection=false;function requestUpdateMessages(){if(!websocketConnection){url=urlApiUpdates+"?lastUpdateId="+lastUpdateId;$.ajax({type:"GET",cache:false,url:url,success:function(a){showOfflineMessage(false);preHandleResponse(a);if(typeof a.messages!="undefined"){addMessagesNotifications(a.messages)}},statusCode:{403:function(){alert("You have been signed out, please log in again");window.location.href=urlFrontLogin},0:function(){showOfflineMessage(true)},},})}}function checkForUpdates(b){setInterval(requestUpdateMessages,b);var a=WS.connect(webSocketUri);a.on("socket/connect",function(c){websocketConnection=true;showOfflineMessage(false);console.log("Successfully connected to websocket");c.subscribe("tournament/"+tournamentUrl,function(d,e){messageJson=$.parseJSON(e.msg);if(typeof messageJson.loginAccountName!="undefined"){if(messageJson.loginAccountId.toString()==loginAccountId){messageJson.origin="me";messageJson.text="You "+messageJson.text}else{messageJson.origin="otherPerson";messageJson.text=messageJson.loginAccountName+" "+messageJson.text}}else{messageJson.origin="otherPerson";messageJson.text="Anonymous Live "+messageJson.text}messageArray=[messageJson];addMessagesNotifications(messageArray);sendServerCommands(true)})});a.on("socket/disconnect",function(c){if(websocketConnection){showOfflineMessage(true)}websocketConnection=false;console.log("Disconnected for "+c.reason+" with code "+c.code)})}function preHandleResponse(b){shouldFetchDataFromServer=false;refreshCommandsUpdate=new Array();if(typeof getRefreshCommands=="function"){refreshCommands=getRefreshCommands();for(var a=0;a<refreshCommands.length;a++){refreshCommandsUpdate.push(refreshCommands[a].command)}}if((typeof b.messages!="undefined")&&(b.messages.length>0)){$.each(b.messages,function(c,d){if(d.type=="success"){shouldFetchDataFromServer=true}});addMessagesHeader(b.messages)}if(typeof b.lastUpdateId!="undefined"){lastUpdateId=b.lastUpdateId}if(typeof b.data!="undefined"){$.each(b.data,function(d,c){if(refreshCommandsUpdate.indexOf(d)>=0){refreshCommandsUpdate.splice(refreshCommandsUpdate.indexOf(d),1)}if(d=="Rounds.list"){currentRoundSelected=$("#roundSelector").val();$(".roundSelector").html("");$.each(c,function(f,e){optionHtml='<option value="'+e+'"';if(currentRoundSelected==e){optionHtml+=' selected="selected"'}optionHtml+=">"+e+"</option>";$(".roundSelector").append(optionHtml)});if(c.length==0){optionHtml='<option value="-" selected="selected">No rounds available</option>';$(".roundSelector").append(optionHtml)}else{if(currentRoundSelected==null){$(".roundSelector option:last").prop("selected",true)}}if(typeof callbackUpdateRoundSelector=="function"){callbackUpdateRoundSelector()}if(roundRefreshAfterUpdate){sendServerCommands(true)}}if(typeof controlHandleResponse=="function"){controlHandleResponse(d,c)}if(typeof handleResponse=="function"){handleResponse(d,c)}})}if(shouldFetchDataFromServer&&(refreshCommandsUpdate.length>0)){sendServerCommands(true)}}function showLoadingNotification(a){if(a){$("#loadingIndicator").show()}else{$("#loadingIndicator").hide()}}function addMessagesHeader(a){if($("#lastMessages .notification-body").length==0){$("#lastMessages").html('<ul class="notification-body"></ul>')}$.each(a,function(b,c){if($("#messageId-"+c.messageId).length>0){return true}dateTime=(c.datetime!=null)?c.datetime["date"]:"";htmlMessage='            <li id="messageId-'+c.messageId+'">				<span class="padding-10 unread">					<em class="badge padding-5 no-border-radius bg-color-blueLight pull-left margin-right-5">						<i class="fa fa-check fa-fw fa-2x"></i>					</em>					<span>						<strong>'+c.title+"</strong><br />						"+c.text+'<br />						<span class="pull-right font-xs text-muted"><i class="fa fa-clock-o"></i><i> '+dateTime+"</i></span>					</span>				</span>			</li>            ";$("#lastMessages ul").prepend(htmlMessage)});newCount=parseInt($("#lastMessagesCount").text())+a.length;$(".lastMessagesCount").text(newCount);if(typeof notification_check=="function"){notification_check()}}var messagesNotifications=new Array();function addMessagesNotifications(a){$.each(a,function(b,c){if(messagesNotifications.indexOf(c.messageId)!=-1){return true}messagesNotifications.push(c.messageId);if((c.origin=="me")&&(localStorage.getItem("notificationSettingsMe")!="true")){return}if((c.origin=="otherPerson")&&(localStorage.getItem("notificationSettingsOtherPerson")!="true")){return}colorHex="#739E73";iconShown="fa fa-check bounce animated";if(c.type=="error"){colorHex="#D9534F";iconShown="fa fa-times bounce animated"}if(typeof $.smallBox!="undefined"){$.smallBox({title:c.title,content:c.text,color:colorHex,iconSmall:iconShown,timeout:4000,sound:false})}})}var currentlyOffline=false;function showOfflineMessage(a){if(typeof isControl!="undefined"&&isControl){if(a){$(".offline-ui.offline-ui-down").show();currentlyOffline=true}else{if(currentlyOffline){$(".offline-ui.offline-ui-down").hide()}currentlyOffline=false}}}function getId(a){if(a==undefined){return undefined}else{return a.substr(a.indexOf("-")+1)}}function stylePlayerNames(a){if(a==null){a=$("body")}$(".playerNames:not(.styled)",a).each(function(){$(this).find("span:not(:last-child), a:not(:last-child)").each(function(){if($(this).next().html()!=""){$(this).after("<br />")}});$(this).addClass("styled")})}function updatePoolSelector(a){$.ajax({type:"GET",cache:false,url:urlApiPoolsList,dataType:"json",success:function(b){$(".poolSelector").html("");$.each(b,function(c,d){optionHtml='<option value="'+d.poolId+'">'+d.name+" ("+d.totTeams+")</option>";$(".poolSelector").append(optionHtml)});if(typeof a=="function"){a()}},statusCode:{403:function(){alert("You have been signed out, please log in again");window.location.href=urlFrontLogin},},})}var roundRefreshAfterUpdate=false;var callbackUpdateRoundSelector=null;function updateRoundSelector(a,b,c){roundRefreshAfterUpdate=b;selectedPoolId=a;if((typeof a=="undefined")||(a==null)){selectedPoolId="all"}if(typeof c=="function"){callbackUpdateRoundSelector=c}command={command:"Rounds.list",poolId:selectedPoolId,};addServerCommand(command);sendServerCommands(false)}var ajaxDataTableOptions={};function setDatatableReady(){initObjectLiteral={iDisplayLength:25,bDeferRender:true,bDestroy:true,bFilter:true,bInfo:true,bPaginate:true,autoWidth:false,bSort:true,fnRowCallback:function(d,c,b,a){if($(this).parent().find(".dataTableLoadingIndicator").length>0){$(this).parent().find(".dataTableLoadingIndicator").remove()}$(".formSwitch",d).each(function(){if($(this).siblings(".bootstrap-switch-handle-on").length==0){$(this).bootstrapSwitch()}});if(typeof datatableProcessRow==="function"){if(!$(d).hasClass("dataTableRowProcessed")){datatableProcessRow(d,$(this));$(d).addClass("dataTableRowProcessed")}}}};$.each(ajaxDataTableOptions,function(b,a){$.each(a,function(c,d){initObjectLiteral[c]=d});$(".ajaxDataTable#"+b).addClass("ajaxDataTableRendered").dataTable(initObjectLiteral)});$(".ajaxDataTable:not(.ajaxDataTableRendered)").addClass("ajaxDataTableRendered").dataTable(initObjectLiteral);$(".ajaxDataTable").parent().parent().find(".dt-top-row, .dt-bottom-row").each(function(){if($(this).text()==""){$(this).css("display","none")}});$(".ajaxDataTable").after('<div class="dataTableLoadingIndicator alert alert-info"><b>Loading...</b></div>')}function dataTableFinishedLoading(a){$("#"+a).parent().find(".dataTableLoadingIndicator").remove();$("#"+a).dataTable().fnAdjustColumnSizing()}var typeaheadIndex=0;function setPlayersTypeahead(){playersTypeaheadObject=$(".playersTypeahead");loadingObject=$(playersTypeaheadObject).parent().parent().find(".fa-search");$(loadingObject).removeClass("fa-search").addClass("fa-spinner fa-spin");$.ajax({type:"GET",cache:false,url:urlApiPlayerList,dataType:"json",success:function(b){localSource=[];$.each(b.players,function(d,c){datum={value:c.name,id:c.playerId};localSource.push(datum)});var a=new Bloodhound({datumTokenizer:function(c){return Bloodhound.tokenizers.whitespace(c.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,local:localSource});a.initialize();typeaheadIndex++;$(playersTypeaheadObject).typeahead("destroy");$(playersTypeaheadObject).typeahead(null,{name:"players"+typeaheadIndex,source:a.ttAdapter(),hint:false}).on("typeahead:selected typeahead:autocompleted",function(d,c){$(".selectedPlayerIdTypeahead").val(c.id);$(".selectedPlayerIdTypeahead").triggerHandler("change")});$(loadingObject).removeClass("fa-spinner fa-spin").addClass("fa-search");$(playersTypeaheadObject).css("background-color","");$("#searchPlayerId").focus();$("#site-head .navbar-search #navSearch").focus();$("#navSearch").off("typeahead:selected typeahead:autocompleted");$("#navSearch").on("typeahead:selected typeahead:autocompleted",function(d,c){url=Routing.generate("control_player_info",{tournamentUrl:tournamentUrl,playerId:c.id,_locale:locale});url=convertUrlToHash(url);window.location.href=url})},statusCode:{403:function(){alert("You have been signed out, please log in again");window.location.href=urlFrontLogin},},})}$("#navSearch").on("focus",function(){$(this).tooltip("hide");if($(this).hasClass("tt-input")){return}setPlayersTypeahead()});var playersNotReady=false;var playersPlaying=false;function renderPlayerNames(b,a){res='<span class="playerNames">';$.each(b,function(d,c){if(typeof c=="object"){playerId=c.playerId;playerName=c.name;playerReady=c.ready;playerCurrentlyPlaying=c.currentlyPlaying}else{playerId=d;playerName=c;playerReady=true;playerCurrentlyPlaying=false}if(a){url=Routing.generate("control_player_info",{tournamentUrl:tournamentUrl,playerId:playerId,_locale:locale});url=convertUrlToHash(url)}else{url=Routing.generate("live_player",{tournamentUrl:tournamentUrl,_locale:locale})+"#"+playerId}res+='<a href="'+url+'" data-playerId="'+playerId+'">';if(!playerReady){res+='<span class="label label-danger">'+playerName+"</span>"}else{if(playerCurrentlyPlaying){res+='<span class="label label-warning">'+playerName+"</span>"}else{res+='<span class="label label-primary ">'+playerName+"</span>"}}res+="</a>";if(!playersNotReady&&!playerReady){playersNotReady=true}if(!playersPlaying&&playerCurrentlyPlaying){playersPlaying=true}});res+="</span>";return res}function convertUrlToHash(a){if((typeof a!="undefined")&&(a.indexOf(controlBaseUrl)!=-1)){a=a.replace(controlBaseUrl,"#")}return a}function openUrlAsHash(a){hashUrl=convertUrlToHash(a);window.location.href=controlBaseUrl+hashUrl}function fillModalData(a,b){if($("#matchId-"+b).closest("table").prop("id")=="playingMatchesTable"){i=1}else{i=0}$("#"+a+" .modalTeam1").html($("#matchId-"+b+" td:nth-child("+(2+i)+")").html());$("#"+a+" .modalTeam2").html($("#matchId-"+b+" td:nth-child("+(3+i)+")").html());$("#"+a+" .modalLocalId").html($("#matchId-"+b+" td:nth-child("+(1+i)+")").html());$("#"+a+" .modalPool").html($("#matchId-"+b+" td:nth-child("+(4+i)+")").html());$("#"+a+" .modalRound").html($("#matchId-"+b+" td:nth-child("+(5+i)+")").html());$("#"+a+" .modalMatchId").val(b)}function sendSecondCall(){command={command:"Matches.secondCall",matchId:$("#secondCallModal .modalMatchId").val(),playerIds:{},};i=0;$("#secondCallModal .secondCallPlayerCheck:checked").each(function(){command.playerIds[i]=getId($(this).attr("id"));i++});addServerCommand(command);sendServerCommands(false);$("#secondCallModal").modal("hide")}function scoreCommandResponse(a){$("#scoreMatchModal .modalTeam1").html(a.team1Name);$("#scoreMatchModal .modalTeam2").html(a.team2Name);$("#scoreMatchModal .modalLocalId").html(a.localId);$("#scoreMatchModal .modalPool").html(a.poolName);$("#scoreMatchModal .modalRound").html(a.round);$("#scoreMatchModal .modalMatchId").val(a.id);$.each(a.score,function(c,b){$("#set"+(c+1)+"-1").val(b[1]);$("#set"+(c+1)+"-2").val(b[2])})}$(document).ready(function(){$("#scoreMatchModal").on("show.bs.modal",function(){$("#scoreMatchModal .input-prepend :input").val("")});$("#scoreMatchModal").on("shown.bs.modal",function(){$("#scoreMatchModal .input-prepend :input").first().focus()});$("#scoreMatchModal .input-prepend :input").keyup(function(a){if(a.keyCode==13){sendScoreMatch()}});$("#secondCallModal").on("show.bs.modal",function(){$("#secondCallModal .playerNames a").each(function(){playerId=$(this).attr("data-playerId");$(this).before('<input type="checkbox" class="secondCallPlayerCheck" id="secondCallPlayerId-'+playerId+'" /> ');$(this).replaceWith('<label for="secondCallPlayerId-'+playerId+'">'+$(this).html()+"</label>")})})});
$(document).ready(function(){if(typeof setDatatableReady!="undefined"){setDatatableReady()}});